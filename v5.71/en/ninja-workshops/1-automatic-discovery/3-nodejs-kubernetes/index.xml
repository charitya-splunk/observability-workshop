<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>NodeJS Zero-Config Workshop :: Splunk Observability Cloud Workshops</title><link>https://splunk.github.io/observability-workshop/v5.71/en/ninja-workshops/1-automatic-discovery/3-nodejs-kubernetes/index.html</link><description>A workshop using Zero Configuration Auto-Instrumentation for NodeJS.</description><generator>Hugo</generator><language>en</language><atom:link href="https://splunk.github.io/observability-workshop/v5.71/en/ninja-workshops/1-automatic-discovery/3-nodejs-kubernetes/index.xml" rel="self" type="application/rss+xml"/><item><title>Deploying the OpenTelemetry Demo</title><link>https://splunk.github.io/observability-workshop/v5.71/en/ninja-workshops/1-automatic-discovery/3-nodejs-kubernetes/1-otel-demo/index.html</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://splunk.github.io/observability-workshop/v5.71/en/ninja-workshops/1-automatic-discovery/3-nodejs-kubernetes/1-otel-demo/index.html</guid><description>1. Create a namespace To not conflict with other workshops, we will deploy the OpenTelemetry Demo in a separate namespace called otel-demo. To create the namespace, run the following command:
kubectl create namespace otel-demo 2. Deploy the OpenTelemetry Demo Next, change to the directory containing the OpenTelemetry Demo application:
cd ~/workshop/apm Deploy the OpenTelemetry Demo application:
â€‹ Command Output kubectl apply -n otel-demo -f otel-demo.yaml serviceaccount/opentelemetry-demo created service/opentelemetry-demo-adservice created service/opentelemetry-demo-cartservice created service/opentelemetry-demo-checkoutservice created service/opentelemetry-demo-currencyservice created service/opentelemetry-demo-emailservice created service/opentelemetry-demo-featureflagservice created service/opentelemetry-demo-ffspostgres created service/opentelemetry-demo-frontend created service/opentelemetry-demo-kafka created service/opentelemetry-demo-loadgenerator created service/opentelemetry-demo-paymentservice created service/opentelemetry-demo-productcatalogservice created service/opentelemetry-demo-quoteservice created service/opentelemetry-demo-recommendationservice created service/opentelemetry-demo-redis created service/opentelemetry-demo-shippingservice created deployment.apps/opentelemetry-demo-accountingservice created deployment.apps/opentelemetry-demo-adservice created deployment.apps/opentelemetry-demo-cartservice created deployment.apps/opentelemetry-demo-checkoutservice created deployment.apps/opentelemetry-demo-currencyservice created deployment.apps/opentelemetry-demo-emailservice created deployment.apps/opentelemetry-demo-featureflagservice created deployment.apps/opentelemetry-demo-ffspostgres created deployment.apps/opentelemetry-demo-frauddetectionservice created deployment.apps/opentelemetry-demo-frontend created deployment.apps/opentelemetry-demo-kafka created deployment.apps/opentelemetry-demo-loadgenerator created deployment.apps/opentelemetry-demo-paymentservice created deployment.apps/opentelemetry-demo-productcatalogservice created deployment.apps/opentelemetry-demo-quoteservice created deployment.apps/opentelemetry-demo-recommendationservice created deployment.apps/opentelemetry-demo-redis created deployment.apps/opentelemetry-demo-shippingservice created Once the application is deployed, we need to wait for the pods to be in a Running state. To check the status of the pods, run the following command:</description></item><item><title>Installing the OpenTelemetry Collector</title><link>https://splunk.github.io/observability-workshop/v5.71/en/ninja-workshops/1-automatic-discovery/3-nodejs-kubernetes/2-otel-collector/index.html</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://splunk.github.io/observability-workshop/v5.71/en/ninja-workshops/1-automatic-discovery/3-nodejs-kubernetes/2-otel-collector/index.html</guid><description>1. Introduction Delete any existing OpenTelemetry Collectors If you have completed any other Observability workshops, please ensure you delete the collector running in Kubernetes before continuing. This can be done by running the following command:
helm delete splunk-otel-collector 2. Confirm environment variables To ensure your instance is configured correctly, we need to confirm that the required environment variables for this workshop are set correctly. In your terminal run the following command:</description></item><item><title>Zero Configuration - Frontend Service</title><link>https://splunk.github.io/observability-workshop/v5.71/en/ninja-workshops/1-automatic-discovery/3-nodejs-kubernetes/3-frontend-service/index.html</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://splunk.github.io/observability-workshop/v5.71/en/ninja-workshops/1-automatic-discovery/3-nodejs-kubernetes/3-frontend-service/index.html</guid><description>1. Patching the Frontend service First, confirm that you can see your environment in APM. There should be a service called loadgenerator displayed in the Service map.
Next, we will patch the frontend deployment with an annotation to inject the NodeJS auto instrumentation. This will allow us to see the frontend service in APM. Note, that at this point we have not edited any code.</description></item><item><title>Zero Configuration - Payment Service</title><link>https://splunk.github.io/observability-workshop/v5.71/en/ninja-workshops/1-automatic-discovery/3-nodejs-kubernetes/4-payment-service/index.html</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://splunk.github.io/observability-workshop/v5.71/en/ninja-workshops/1-automatic-discovery/3-nodejs-kubernetes/4-payment-service/index.html</guid><description>1. Patching the Payment Service Finally, we will patch the paymentservice deployment with an annotation to inject the NodeJS auto instrumentation. This will allow us to see the paymentservice service in APM.
kubectl patch deployment opentelemetry-demo-paymentservice -n otel-demo -p '{"spec": {"template":{"metadata":{"annotations":{"instrumentation.opentelemetry.io/inject-nodejs":"default/splunk-otel-collector"}}}} }' This will cause the opentelemetry-demo-paymentservice pod to restart and after a few minutes, you should see the paymentservice service in APM.</description></item><item><title>Code Profiling - Payment Service</title><link>https://splunk.github.io/observability-workshop/v5.71/en/ninja-workshops/1-automatic-discovery/3-nodejs-kubernetes/5-profiling/index.html</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://splunk.github.io/observability-workshop/v5.71/en/ninja-workshops/1-automatic-discovery/3-nodejs-kubernetes/5-profiling/index.html</guid><description>1. AlwaysOn Profiling for the Payment Service AlwaysOn Profiling is a feature of the Splunk Distribution of OpenTelemetry Collector that allows you to collect CPU and Memory profiling data for your services without having to modify your code. This is useful for troubleshooting performance issues in your services. Here are some of the benefits of AlwaysOn Profiling:
Perform continuous profiling of your applications. The profiler is always on once you activate it. Collect code performance context and link it to trace data. Explore memory usage and garbage collection of your application. Analyze code bottlenecks that impact service performance. Identify inefficiencies that increase the need for scaling up cloud resources. With the opentelemetry-demo-paymentservice selected, click on AlwaysOn Profiling to view the code profiling data for the service.</description></item><item><title>Logs - Payment Service</title><link>https://splunk.github.io/observability-workshop/v5.71/en/ninja-workshops/1-automatic-discovery/3-nodejs-kubernetes/6-logs/index.html</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://splunk.github.io/observability-workshop/v5.71/en/ninja-workshops/1-automatic-discovery/3-nodejs-kubernetes/6-logs/index.html</guid><description>1. Viewing the logs for the Payment Service Navigate back to APM from the main menu and under Services click on opentelemetry-demo-paymentservice. This will open up the Service map for the paymentservice service only.
At the bottom of the page, click on the Logs(1) tab to view the logs for the paymentservice service.
Once in Log Observer select one of the log entries to view the metadata for the log entry.</description></item></channel></rss>