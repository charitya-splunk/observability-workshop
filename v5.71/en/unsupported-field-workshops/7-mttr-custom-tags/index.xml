<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Improving MTTR with Custom Tags :: Splunk Observability Cloud Workshops</title><link>https://splunk.github.io/observability-workshop/v5.71/en/unsupported-field-workshops/7-mttr-custom-tags/index.html</link><description>This workshop offers a method for automatically adding annotations to your application.</description><generator>Hugo</generator><language>en</language><atom:link href="https://splunk.github.io/observability-workshop/v5.71/en/unsupported-field-workshops/7-mttr-custom-tags/index.xml" rel="self" type="application/rss+xml"/><item><title>Setting up your AWS Instance</title><link>https://splunk.github.io/observability-workshop/v5.71/en/unsupported-field-workshops/7-mttr-custom-tags/1-setup-os/index.html</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://splunk.github.io/observability-workshop/v5.71/en/unsupported-field-workshops/7-mttr-custom-tags/1-setup-os/index.html</guid><description>Environment Setup - Mac Note If you wish to run this on Mac directly, you can see the instructions here in the appendix and skip the next section on Linux.
All installs must continue at setting up the app.
Environment Setup - Linux You can skip past the EC2 configuration to Linux Software Requirements if you already have an Ec2 that meets the specifications below !!!!
ubuntu 22.04</description></item><item><title>Setting up your Application</title><link>https://splunk.github.io/observability-workshop/v5.71/en/unsupported-field-workshops/7-mttr-custom-tags/2-setup-app/index.html</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://splunk.github.io/observability-workshop/v5.71/en/unsupported-field-workshops/7-mttr-custom-tags/2-setup-app/index.html</guid><description>Environment Setup - Application Clone the workshop repository: git clone -b distributed-tracing-for-development-teams https://github.com/shabuhabs/javashop-otel.git Access the workshop directory: cd javashop-otel Set Environment Variables nano .env Note NO spaces in &lt;your_name> The shop_user provides us an Environment Tag. To get your access token, go to your Splunk O11y UI -> Settings ->Access Tokens. It is assumed in this workshop that you can send traces to the org and token you are using. Set the following values: SHOP_USER=&lt;your_name> SPLUNK_ACCESS_TOKEN=&lt;your_token> SPLUNK_REALM=&lt;your_realm> Save in nano with [CTRL]-o [ENTER] Exit nano with [CTRL]-x Build and Deploy Application Let’s get started by building and deploying our Application, the Splunk Instrument Shop. Run the commands below to begin and start reading ahead as your traces are coming up!</description></item><item><title>Overview of the Workshop</title><link>https://splunk.github.io/observability-workshop/v5.71/en/unsupported-field-workshops/7-mttr-custom-tags/3-overview/index.html</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://splunk.github.io/observability-workshop/v5.71/en/unsupported-field-workshops/7-mttr-custom-tags/3-overview/index.html</guid><description>Users and Workflows As we go through this workshop we will be switching roles from SRE to Developer. First we will start with alert responders or SREs who will identify an issue in Splunk Observability UI. Next, we will jump to a Developer Role to see how a Developer will debug and repair/fix a software problem using trace data provided by our SRE.
Of course, we are not requiring 2 people for this workshop as each participant will play both roles.</description></item><item><title>Review APM in the UI</title><link>https://splunk.github.io/observability-workshop/v5.71/en/unsupported-field-workshops/7-mttr-custom-tags/4-review-apm/index.html</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://splunk.github.io/observability-workshop/v5.71/en/unsupported-field-workshops/7-mttr-custom-tags/4-review-apm/index.html</guid><description>View Service Map Next step is open your Observability UI, accessing the proper org ( where you sent the traces to ) and click APM and Access the Environemnnt that matches the username you put in .env.
Please note it may take 4-5 minutes or more for traces to show up and you will see full map “form” as traces are coming in, so you may have to refresh the page a few times each time we Build and Deploy.</description></item><item><title>Debugging 101</title><link>https://splunk.github.io/observability-workshop/v5.71/en/unsupported-field-workshops/7-mttr-custom-tags/5-debugging101/index.html</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://splunk.github.io/observability-workshop/v5.71/en/unsupported-field-workshops/7-mttr-custom-tags/5-debugging101/index.html</guid><description>Now let’s play the role of the developer As a developer we must debug the function products:ProductResource.getAllProducts to find the problem.
Debugging 101, the Line by Line method Without anything to go on other than “BAD FUNCTION”, a Developer must then look at code visually line by line to find and fix the problem. To make this worse, functions call other functions, and it can get very messy in bad code scenarios.</description></item><item><title>Custom Tags</title><link>https://splunk.github.io/observability-workshop/v5.71/en/unsupported-field-workshops/7-mttr-custom-tags/6-custom-tags/index.html</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://splunk.github.io/observability-workshop/v5.71/en/unsupported-field-workshops/7-mttr-custom-tags/6-custom-tags/index.html</guid><description>Custom Attribution (Custom Tags) To take a deeper look at this issue and make this much easier to debug we will implement Custom Attributes via Opentelemetry Manual Instrumentation.
To speed up manual instrumentation in Java you can leverage OpenTelemetry Annotations, which automatically create a span around a method without modifying the actual code inside the method. This can be very valuable if you are working with an SRE that may have limited access to source code changes.</description></item><item><title>Fixing Code</title><link>https://splunk.github.io/observability-workshop/v5.71/en/unsupported-field-workshops/7-mttr-custom-tags/7-fixing-code/index.html</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://splunk.github.io/observability-workshop/v5.71/en/unsupported-field-workshops/7-mttr-custom-tags/7-fixing-code/index.html</guid><description>Finding the Problem How did we get here? How did the 999 end up in the trace as a Custom Attribute?
Take a look at the function signature
private void myCoolFunction234234234(@SpanAttribute("myInt") int myInt) @SpanAttribute("myint") is an OpenTelemetry Annotation that was added by our Java Otel Annotator tool.
Fixing the code Change this: private void myCoolFunction234234234(@SpanAttribute("myInt") int myInt) { // Generate a FAST sleep of 0 time ! Random sleepy = new Random(); try{ if (999==myInt) Thread.sleep( sleepy.nextInt(5000 - 3000) + 3000); } catch (Exception e){ to this: private void myCoolFunction234234234(@SpanAttribute("myInt") int myInt) { // Generate a FAST sleep of 0 time ! Random sleepy = new Random(); try{ // if (999==myInt) // Thread.sleep( // sleepy.nextInt(5000 - 3000) // + 3000); } catch (Exception e){ which is basically placing comments (//) before the lines in myCoolFunction234234234 that are causing the slowness:</description></item><item><title>Rebuild and Deploy</title><link>https://splunk.github.io/observability-workshop/v5.71/en/unsupported-field-workshops/7-mttr-custom-tags/8-rebuild-and-deploy/index.html</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://splunk.github.io/observability-workshop/v5.71/en/unsupported-field-workshops/7-mttr-custom-tags/8-rebuild-and-deploy/index.html</guid><description>Rebuild and Deploy Run ./BuildAndDeploy.sh Wait a few minutes . . . Return to the service map If you do NOT see RED in your service map, you have completed the Latency Repair for the Colorado Location!
Now let’s check for our exception in the traces.
Click on shop service Click Traces (on the right side) Click Errors Only If you do not have red in your service map and you do not see Errors in traces, you have successfully completed our Inventory application review for Sri Lanka and Colorado locations.</description></item><item><title>Don't Forget Chicago</title><link>https://splunk.github.io/observability-workshop/v5.71/en/unsupported-field-workshops/7-mttr-custom-tags/9-chicago/index.html</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://splunk.github.io/observability-workshop/v5.71/en/unsupported-field-workshops/7-mttr-custom-tags/9-chicago/index.html</guid><description>Don’t forget Chicago We are nearly done, one more location to go… Chicago.
Since we have been having so many issues related to “location” and we have added that custom attribute via Opentelemetry Manual Instrumentation, lets go to the Splunk Observability UI and look at an APM metric set around that tag that I created for us.</description></item><item><title>Appendix - Setting up on Mac</title><link>https://splunk.github.io/observability-workshop/v5.71/en/unsupported-field-workshops/7-mttr-custom-tags/appendix-a-setup-mac/index.html</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://splunk.github.io/observability-workshop/v5.71/en/unsupported-field-workshops/7-mttr-custom-tags/appendix-a-setup-mac/index.html</guid><description>Mac Setup Tested on Macos Ventura 13.2.1 Mac M1/M2 Intel Macs should be work; however if they are slower you may need to run ./BuildAndDeploy multiple times.
IMPORTANT: Docker must have access to 6-GB RAM.
Prerequisites XCode Command line tools Homebrew Install Homebrew full install details mkdir homebrew &amp;&amp; curl -L https://github.com/Homebrew/brew/tarball/master | tar xz --strip 1 -C homebrew eval "$(homebrew/bin/brew shellenv)" brew update --force --quiet chmod -R go-w "$(brew --prefix)/share/zsh" Install Colima Colima - Colima is a docker daemon that does not require Docker Desktop. This is used to avoid any docker license issues with Docker Desktop.</description></item></channel></rss>