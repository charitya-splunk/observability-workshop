<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.110.0"><meta name=generator content="Relearn 5.23.2+tip"><meta name=description content="Splunk Observability Workshops"><meta name=author content><meta name=twitter:card content="summary"><meta name=twitter:title content="Splunk APM :: Splunk Observability Cloud Workshops"><meta name=twitter:description content="Splunk Observability Workshops"><meta property="og:title" content="Splunk APM :: Splunk Observability Cloud Workshops"><meta property="og:description" content="Splunk Observability Workshops"><meta property="og:type" content="website"><meta property="og:url" content="https://splunk.github.io/observability-workshop/v5.13/en/s4r/7-apm/index.html"><meta property="og:site_name" content="Splunk Observability Cloud Workshops"><title>Splunk APM :: Splunk Observability Cloud Workshops</title><link href=https://splunk.github.io/observability-workshop/v5.13/en/s4r/7-apm/index.html rel=canonical type=text/html title="Splunk APM :: Splunk Observability Cloud Workshops"><link href=../../../en/s4r/7-apm/index.xml rel=alternate type=application/rss+xml title="Splunk APM :: Splunk Observability Cloud Workshops"><link href=../../../images/favicon.ico?1699904367 rel=icon type=image/x-icon sizes=any><link href=../../../css/fontawesome-all.min.css?1699904373 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=../../../css/fontawesome-all.min.css?1699904373 rel=stylesheet></noscript><link href=../../../css/nucleus.css?1699904373 rel=stylesheet><link href=../../../css/auto-complete.css?1699904373 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=../../../css/auto-complete.css?1699904373 rel=stylesheet></noscript><link href=../../../css/perfect-scrollbar.min.css?1699904373 rel=stylesheet><link href=../../../css/fonts.css?1699904373 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=../../../css/fonts.css?1699904373 rel=stylesheet></noscript><link href=../../../css/theme.css?1699904373 rel=stylesheet><link href=../../../css/theme-auto.css?1699904373 rel=stylesheet id=R-variant-style><link href=../../../css/variant.css?1699904373 rel=stylesheet><link href=../../../css/print.css?1699904373 rel=stylesheet media=print><link href=../../../css/format-print.css?1699904373 rel=stylesheet><link href=../../../css/ie.css?1699904373 rel=stylesheet><script src=../../../js/url.js?1699904373></script>
<script src=../../../js/variant.js?1699904373></script>
<script>window.index_js_url="../../../en/index.search.js";var root_url="../../../",baseUriFull,baseUri=root_url.replace(/\/$/,"");window.T_Copy_to_clipboard="Copy to clipboard",window.T_Copied_to_clipboard="Copied to clipboard!",window.T_Copy_link_to_clipboard="Copy link to clipboard",window.T_Link_copied_to_clipboard="Copied link to clipboard!",window.T_Reset_view="Reset view",window.T_View_reset="View reset!",window.T_No_results_found="No results found for \u0022{0}\u0022",window.T_N_results_found="{1} results found for \u0022{0}\u0022",baseUriFull="https://splunk.github.io/observability-workshop/v5.13/",window.variants&&variants.init(["auto","splunk-light","splunk-dark"])</script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web.js crossorigin=anonymous></script>
<script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web-session-recorder.js crossorigin=anonymous></script>
<script>SplunkRum.init({beaconUrl:"https://rum-ingest.eu0.signalfx.com/v1/rum",rumAuth:"EDIbCJR4LlxWdXMLjkYX1g",app:"observability-workshop",version:"1",environment:"observability-workshop-env"}),SplunkSessionRecorder.init({beaconUrl:"https://rum-ingest.eu0.signalfx.com/v1/rumreplay",rumAuth:"EDIbCJR4LlxWdXMLjkYX1g"})</script><style>@media screen and (min-width:1000px){#R-body .flex-block-wrapper{margin-left:auto;margin-right:auto;max-width:1000px;width:100%}}</style></head><body class="mobile-support print disableInlineCopyToClipboard" data-url=../../../en/s4r/7-apm/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)">
<i class="fa-fw fas fa-bars"></i></button></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=../../../en/index.html><span itemprop=name>Splunk Observability Workshops</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=../../../en/s4r/index.html><span itemprop=name>Splunk4Rookies - Observability</span></a><meta itemprop=position content="2">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>Splunk APM</span><meta itemprop=position content="3"></li></ol><div class="topbar-area topbar-area-end" data-area=end></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable chapter narrow" tabindex=-1><div class=flex-block-wrapper><article class=chapter><header class=headline></header><div class=article-subheading>Chapter 7</div><h1 id=splunk-apm>Splunk APM</h1><footer class=footline></footer></article><section><h1 class=a11y-only>Subsections of Splunk APM</h1><article class=default><header class=headline></header><h1 id=1-apm-overview>1. APM Overview</h1><p>The service map displays the dependencies and connections among your instrumented and inferred services in APM. The map is dynamically generated based on your selections in the time range, environment, workflow, service, and tag filters.</p><p>When we clicked on the APM link in the RUM waterfall, filters were automatically added to the service map view to show the services that were involved in that particular trace.</p><p>You can use the service map to identify dependencies, performance bottlenecks, and error propagation. To get a complete overview of the application click on <strong>Overview</strong> button on the top left of the service map.</p><p><a href=#R-image-c216bbb96e2b01bacbf9f013db0fe52d class=lightbox-link><img src=../../../en/s4r/7-apm/1-apm-overview/../images/apm-overview.png alt="APM Explore" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-c216bbb96e2b01bacbf9f013db0fe52d><img src=../../../en/s4r/7-apm/1-apm-overview/../images/apm-overview.png alt="APM Explore" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>The Overview page provides a high-level view of the health of your application. It includes a summary of the services, latency and errors in your application. It also includes a list of the top services by error rate and the top business workflows by error rate (a business workflow is the start-to-finish journey of the collection of traces associated with a given activity or transaction and enables monitoring of end-to-end KPIs and identifying root causes and bottlenecks).</p><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><ul><li>What can you conclude from the <strong>Top Services by Error Rate</strong> chart?</li></ul></div></div><p>If you scroll down the Overview Page you will notice some services listed have <strong>Inferred Service</strong> next to them.</p><p>Splunk APM can infer the presence of the remote service, or inferred service if the span calling the remote service has the necessary information. Examples of possible inferred services include databases, HTTP endpoints, and message queues. Inferred services are not instrumented, but they are displayed on the service map and the service list.</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=2-apm-explore>2. APM Explore</h1><p>From the Overview Page, click on <strong>Explore</strong> on the top right of the page. You will be presented with the full service map which now includes all services (including inferred services). Inferred services are visually represented by a dotted outline.</p><p><a href=#R-image-af5c83167abcf604d03ce16a57034ef6 class=lightbox-link><img src=../../../en/s4r/7-apm/2-apm-explore/../images/apm-explore.png alt="APM Explore" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-af5c83167abcf604d03ce16a57034ef6><img src=../../../en/s4r/7-apm/2-apm-explore/../images/apm-explore.png alt="APM Explore" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><ul><li>How many services are there in total?</li><li>Click on the <strong>mysql:LxvGChW075</strong> inferred service.</li><li>Under <strong>Database Query Performance</strong> click on the top entry. This will take you to the <strong>Database Query Performance</strong> page. Click <a href=https://docs.splunk.com/observability/en/apm/db-query-perf/db-query-performance.html target=_blank><strong>here</strong></a> for documentation about <strong>Database Query Performance</strong>.</li></ul></div></div><p><a href=#R-image-bfca6bb9b8966e5c0d4f3e3e56007a82 class=lightbox-link><img src=../../../en/s4r/7-apm/2-apm-explore/../images/apm-db-query.png alt="APM DB Query Performance" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-bfca6bb9b8966e5c0d4f3e3e56007a82><img src=../../../en/s4r/7-apm/2-apm-explore/../images/apm-db-query.png alt="APM DB Query Performance" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><ul><li>Click the browser back button to return to the Service Map.</li><li>In the Service Map hover over the <strong>paymentservice</strong>. What can you conclude from the popup service chart?</li></ul></div></div><p><a href=#R-image-22535aec13abd359ade681895a091c7d class=lightbox-link><img src=../../../en/s4r/7-apm/2-apm-explore/../images/apm-service-popup-chart.png alt="APM Service Chart" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-22535aec13abd359ade681895a091c7d><img src=../../../en/s4r/7-apm/2-apm-explore/../images/apm-service-popup-chart.png alt="APM Service Chart" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>We need to understand if there is a pattern to this error rate. We have a handy tool for that, Tag Spotlight.</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=3-apm-tag-spotlight>3. APM Tag Spotlight</h1><p>To view the tags for the <strong>paymentservice</strong> click on the <strong>paymentservice</strong> and then click on <strong>Tag Spotlight</strong>. Once in <strong>Tag Spotlight</strong> ensure the toggle <strong>Show tags with no values</strong> is off.</p><p>There are two views available in <strong>Tag Spotlight</strong>. The default is <strong>Request/Errors</strong> and the other is <strong>Latency</strong>.</p><p>Request/Error charts display the total number of requests, errors, and root cause errors. The Latency charts display p50, p90, and p99 latency. These values are based on Troubleshooting MetricSets (TMS), which Splunk APM generates for every indexed span tag. These are known as RED metrics (request, error, and duration).</p><p><a href=#R-image-0ce806aaf26138fe83ea7286dc9f4e73 class=lightbox-link><img src=../../../en/s4r/7-apm/3-apm-tag-spotlight/../images/apm-tag-spotlight.png alt="APM Tag Spotlight" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-0ce806aaf26138fe83ea7286dc9f4e73><img src=../../../en/s4r/7-apm/3-apm-tag-spotlight/../images/apm-tag-spotlight.png alt="APM Tag Spotlight" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><ul><li>What can you conclude from the data you are seeing?</li><li>Which chart helped you come to this conclusion?</li></ul></div></div><p>Now that we have identified the version of the <strong>paymentservice</strong> that is causing the issue, let&rsquo;s see if we can find out more information about the error. Click on <strong>← Tag Spotlight</strong> at the top of the page to get back to the Service Map.</p><p><a href=#R-image-dc1adeca300c0da3aa4232fc630cf8cb class=lightbox-link><img src=../../../en/s4r/7-apm/3-apm-tag-spotlight/../images/apm-version-tag.png alt="APM Version Tag" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-dc1adeca300c0da3aa4232fc630cf8cb><img src=../../../en/s4r/7-apm/3-apm-tag-spotlight/../images/apm-version-tag.png alt="APM Version Tag" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=4-apm-service-breakdown>4. APM Service Breakdown</h1><ol><li>Click on the payment service and then from breakdown select <strong>version</strong></li><li>You can see all errors are due to v350.10</li></ol><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=5-apm-trace-analyzer>5. APM Trace Analyzer</h1><ol><li>Click on traces</li><li>Click on Group traces by and select version</li><li>Click on elipsis next to v350.10 and click add to filter.</li><li>Sort traces by duration</li><li>Select the 1st trace ensuring it has a long duration</li></ol><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=6-apm-waterfall>6. APM Waterfall</h1><ol><li>What can you conclude is going on from the waterfall? (Answer multiple attempts)</li><li>Verify version is <strong>v350.10</strong> by looking at the metadata under tags.</li><li>Conclusion &mldr; we have a problem.</li><li>Draw attention to related content &mldr; TBC</li><li>Click on Logs for trace XXXXXXX</li></ol><footer class=footline></footer></article></section></div></main></div><script src=../../../js/clipboard.min.js?1699904374 defer></script>
<script src=../../../js/perfect-scrollbar.min.js?1699904374 defer></script>
<script src=../../../js/theme.js?1699904374 defer></script></body></html>