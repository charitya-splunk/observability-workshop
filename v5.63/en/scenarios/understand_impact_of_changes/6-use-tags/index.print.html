<!doctype html><html lang=en dir=ltr itemscope itemtype=http://schema.org/Article><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.125.5"><meta name=generator content="Relearn 6.0.0+tip"><meta name=description content="Using Tag Spotlight Now that we’ve indexed the credit.score.category tag, we can use it with Tag Spotlight to troubleshoot our application.
Navigate to APM then click on Tag Spotlight on the right-hand side. Ensure the creditcheckservice service is selected from the Service drop-down (if not already selected).
With Tag Spotlight, we can see 100% of credit score requests that result in a score of impossible have an error, yet requests for all other credit score types have no errors at all!"><meta name=author content><meta name=twitter:card content="summary"><meta name=twitter:title content="Use Tags for Troubleshooting :: Splunk Observability Cloud Workshops"><meta name=twitter:description content="Using Tag Spotlight Now that we’ve indexed the credit.score.category tag, we can use it with Tag Spotlight to troubleshoot our application.
Navigate to APM then click on Tag Spotlight on the right-hand side. Ensure the creditcheckservice service is selected from the Service drop-down (if not already selected).
With Tag Spotlight, we can see 100% of credit score requests that result in a score of impossible have an error, yet requests for all other credit score types have no errors at all!"><meta property="og:url" content="https://splunk.github.io/observability-workshop/v5.63/en/scenarios/understand_impact_of_changes/6-use-tags/index.html"><meta property="og:site_name" content="Splunk Observability Cloud Workshops"><meta property="og:title" content="Use Tags for Troubleshooting :: Splunk Observability Cloud Workshops"><meta property="og:description" content="Using Tag Spotlight Now that we’ve indexed the credit.score.category tag, we can use it with Tag Spotlight to troubleshoot our application.
Navigate to APM then click on Tag Spotlight on the right-hand side. Ensure the creditcheckservice service is selected from the Service drop-down (if not already selected).
With Tag Spotlight, we can see 100% of credit score requests that result in a score of impossible have an error, yet requests for all other credit score types have no errors at all!"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="Scenarios"><meta property="article:modified_time" content="2024-03-27T10:00:41-07:00"><meta itemprop=name content="Use Tags for Troubleshooting :: Splunk Observability Cloud Workshops"><meta itemprop=description content="Using Tag Spotlight Now that we’ve indexed the credit.score.category tag, we can use it with Tag Spotlight to troubleshoot our application.
Navigate to APM then click on Tag Spotlight on the right-hand side. Ensure the creditcheckservice service is selected from the Service drop-down (if not already selected).
With Tag Spotlight, we can see 100% of credit score requests that result in a score of impossible have an error, yet requests for all other credit score types have no errors at all!"><meta itemprop=dateModified content="2024-03-27T10:00:41-07:00"><meta itemprop=wordCount content="552"><title>Use Tags for Troubleshooting :: Splunk Observability Cloud Workshops</title>
<link href=https://splunk.github.io/observability-workshop/v5.63/en/scenarios/understand_impact_of_changes/6-use-tags/index.html rel=canonical type=text/html title="Use Tags for Troubleshooting :: Splunk Observability Cloud Workshops"><link href=/observability-workshop/v5.63/images/favicon.ico?1718817962 rel=icon type=image/x-icon sizes=any><link href=/observability-workshop/v5.63/css/fontawesome-all.min.css?1718817980 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/observability-workshop/v5.63/css/fontawesome-all.min.css?1718817980 rel=stylesheet></noscript><link href=/observability-workshop/v5.63/css/nucleus.css?1718817980 rel=stylesheet><link href=/observability-workshop/v5.63/css/auto-complete.css?1718817980 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/observability-workshop/v5.63/css/auto-complete.css?1718817980 rel=stylesheet></noscript><link href=/observability-workshop/v5.63/css/perfect-scrollbar.min.css?1718817980 rel=stylesheet><link href=/observability-workshop/v5.63/css/fonts.css?1718817980 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/observability-workshop/v5.63/css/fonts.css?1718817980 rel=stylesheet></noscript><link href=/observability-workshop/v5.63/css/theme.css?1718817980 rel=stylesheet><link href=/observability-workshop/v5.63/css/theme-splunk-light.css?1718817980 rel=stylesheet id=R-variant-style><link href=/observability-workshop/v5.63/css/chroma-relearn-light.css?1718817980 rel=stylesheet id=R-variant-chroma-style><link href=/observability-workshop/v5.63/css/variant.css?1718817980 rel=stylesheet><link href=/observability-workshop/v5.63/css/print.css?1718817980 rel=stylesheet media=print><link href=/observability-workshop/v5.63/css/format-print.css?1718817980 rel=stylesheet><script src=/observability-workshop/v5.63/js/variant.js?1718817980></script><script>window.relearn=window.relearn||{},window.relearn.relBasePath="../../../..",window.relearn.relBaseUri="../../../../../..",window.relearn.absBaseUri="https://splunk.github.io/observability-workshop/v5.63",window.index_js_url="/observability-workshop/v5.63/en/index.search.js",window.variants&&variants.init(["splunk-light","splunk-dark"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web.js crossorigin=anonymous></script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web-session-recorder.js crossorigin=anonymous></script><script>SplunkRum.init({realm:"eu0",rumAccessToken:"TR9BBfgYo7qJfqrfgqjoqA",applicationName:"observability-workshop",deploymentEnvironment:"splunk.github.io",version:"1.0"}),SplunkSessionRecorder.init({app:"observability-workshop",realm:"eu0",rumAccessToken:"TR9BBfgYo7qJfqrfgqjoqA"})</script></script><style>:root{--MAIN-WIDTH-MAX:1000rem;--MENU-WIDTH-L:23rem}</style></head><body class="mobile-support print disableInlineCopyToClipboard" data-url=/observability-workshop/v5.63/en/scenarios/understand_impact_of_changes/6-use-tags/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/v5.63/en/index.html><span itemprop=name>Splunk Observability Workshops</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/v5.63/en/scenarios/index.html><span itemprop=name>Scenarios</span></a><meta itemprop=position content="2">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/v5.63/en/scenarios/understand_impact_of_changes/index.html><span itemprop=name>Understand Impact of Changes</span></a><meta itemprop=position content="3">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>6 Use Tags for Troubleshooting</span><meta itemprop=position content="4"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-prev" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/observability-workshop/v5.63/en/scenarios/understand_impact_of_changes/5-index-tags/index.html title="Index Tags (🡐)"><i class="fa-fw fas fa-chevron-left"></i></a></div><div class="topbar-button topbar-button-next" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/observability-workshop/v5.63/en/scenarios/understand_impact_of_changes/7-alerting-and-dashboards/index.html title="Use Tags with Alerting and Dashboards (🡒)"><i class="fa-fw fas fa-chevron-right"></i></a></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=use-tags-for-troubleshooting>Use Tags for Troubleshooting</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>5 minutes</span>
</span>&nbsp;<h2 id=using-tag-spotlight>Using Tag Spotlight</h2><p>Now that we&rsquo;ve indexed the <code>credit.score.category</code> tag, we can use it with <strong>Tag Spotlight</strong> to troubleshoot our application.</p><p>Navigate to <strong>APM</strong> then click on <strong>Tag Spotlight</strong> on the right-hand side. Ensure the <code>creditcheckservice</code> service is selected from the <strong>Service</strong> drop-down (if not already selected).</p><p>With <strong>Tag Spotlight</strong>, we can see 100% of credit score requests that result in a score of <code>impossible</code> have an error, yet requests for all other credit score types have no errors at all!</p><p><strong><a href=#R-image-2a0e28117c0f24950061095f1b0526de class=lightbox-link><img alt="Tag Spotlight with Errors" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=/observability-workshop/v5.63/en/scenarios/understand_impact_of_changes/6-use-tags/../images/tag_spotlight_errors.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-2a0e28117c0f24950061095f1b0526de><img alt="Tag Spotlight with Errors" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=/observability-workshop/v5.63/en/scenarios/understand_impact_of_changes/6-use-tags/../images/tag_spotlight_errors.png></a></strong></p><p>This illustrates the power of <strong>Tag Spotlight</strong>! Finding this pattern would be time-consuming without it, as we&rsquo;d have to manually look through hundreds of traces to identify the pattern (and even then, there&rsquo;s no guarantee we&rsquo;d find it).</p><p>We&rsquo;ve looked at errors, but what about latency? Let&rsquo;s click on <strong>Latency</strong> near the top of the screen to find out.</p><p>Here, we can see that the requests with a <code>poor</code> credit score request are running slowly, with P50, P90, and P99 times of around 3 seconds, which is too long for our users to wait, and much slower than other requests.</p><p>We can also see that some requests with an <code>exceptional</code> credit score request are running slowly, with P99 times of around 5 seconds, though the P50 response time is relatively quick.</p><p><strong><a href=#R-image-3d4ae561aa6d3f466a0028bfeeb60354 class=lightbox-link><img alt="Tag Spotlight with Latency" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=/observability-workshop/v5.63/en/scenarios/understand_impact_of_changes/6-use-tags/../images/tag_spotlight_latency.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-3d4ae561aa6d3f466a0028bfeeb60354><img alt="Tag Spotlight with Latency" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=/observability-workshop/v5.63/en/scenarios/understand_impact_of_changes/6-use-tags/../images/tag_spotlight_latency.png></a></strong></p><h2 id=using-dynamic-service-maps>Using Dynamic Service Maps</h2><p>Now that we know the credit score category associated with the request can impact performance and error rates, let&rsquo;s explore another feature that utilizes indexed tags: <strong>Dynamic Service Maps</strong>.</p><p>With Dynamic Service Maps, we can breakdown a particular service by a tag. For example, let&rsquo;s click on <strong>APM</strong>, then click <strong>Explore</strong> to view the service map.</p><p>Click on <code>creditcheckservice</code>. Then, on the right-hand menu, click on the drop-down that says <strong>Breakdown</strong>, and select the <code>credit.score.category</code> tag.</p><p>At this point, the service map is updated dynamically, and we can see the performance of requests hitting <code>creditcheckservice</code> broken down by the credit score category:</p><p><strong><a href=#R-image-690106ede8f3e5cfa9fdee79121e92f3 class=lightbox-link><img alt="Service Map Breakdown" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=/observability-workshop/v5.63/en/scenarios/understand_impact_of_changes/6-use-tags/../images/service_map_breakdown.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-690106ede8f3e5cfa9fdee79121e92f3><img alt="Service Map Breakdown" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=/observability-workshop/v5.63/en/scenarios/understand_impact_of_changes/6-use-tags/../images/service_map_breakdown.png></a></strong></p><p>This view makes it clear that performance for <code>good</code> and <code>fair</code> credit scores is excellent, while <code>poor</code> and <code>exceptional</code> scores are much slower, and <code>impossible</code> scores result in errors.</p><h2 id=summary>Summary</h2><p><strong>Tag Spotlight</strong> has uncovered several interesting patterns for the engineers that own this service to explore further:</p><ul><li>Why are all the <code>impossible</code> credit score requests resulting in error?</li><li>Why are all the <code>poor</code> credit score requests running slowly?</li><li>Why do some of the <code>exceptional</code> requests run slowly?</li></ul><p>As an SRE, passing this context to the engineering team would be extremely helpful for their investigation, as it would allow them to track down the issue much more quickly than if we simply told them that the service was &ldquo;sometimes slow&rdquo;.</p><p>If you&rsquo;re curious, have a look at the source code for the <code>creditprocessorservice</code>. You&rsquo;ll see that requests with impossible, poor, and exceptional credit scores are handled differently, thus resulting in the differences in error rates and latency that we uncovered.</p><p>The behavior we saw with our application is typical for modern cloud-native applications, where different inputs passed to a service lead to different code paths, some of which result in slower performance or errors. For example, in a real credit check service, requests resulting in low credit scores may be sent to another downstream service to further evaluate risk, and may perform more slowly than requests resulting in higher scores, or encounter higher error rates.</p><footer class=footline><span class="badge cstyle tip badge-with-title"><span class=badge-title class=text-muted>Last Modified By
</span><span class=badge-content>dmitchsplunk</span>
</span>&nbsp;
<span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted><i class="fa-fw fas fa-calendar"></i>
</span><span class=badge-content>Mar 27, 2024</span></span></footer></article></div></main></div><script src=/observability-workshop/v5.63/js/clipboard.min.js?1718817980 defer></script><script src=/observability-workshop/v5.63/js/perfect-scrollbar.min.js?1718817980 defer></script><script src=/observability-workshop/v5.63/js/theme.js?1718817980 defer></script></body></html>