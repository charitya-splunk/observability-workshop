<!doctype html><html lang=en dir=ltr itemscope itemtype=http://schema.org/Article><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.125.5"><meta name=generator content="Relearn 6.0.0+tip"><meta name=description content="Introduction For this workshop, we’ll be using a microservices-based application. This application is for an online retailer and normally includes more than a dozen services. However, to keep the workshop simple, we’ll be focusing on two services used by the retailer as part of their payment processing workflow: the credit check service and the credit processor service.
Pre-requisites You will start with an EC2 instance and perform some initial steps in order to get to the following state:"><meta name=author content><meta name=twitter:card content="summary"><meta name=twitter:title content="Build the Sample Application :: Splunk Observability Cloud Workshops"><meta name=twitter:description content="Introduction For this workshop, we’ll be using a microservices-based application. This application is for an online retailer and normally includes more than a dozen services. However, to keep the workshop simple, we’ll be focusing on two services used by the retailer as part of their payment processing workflow: the credit check service and the credit processor service.
Pre-requisites You will start with an EC2 instance and perform some initial steps in order to get to the following state:"><meta property="og:url" content="https://splunk.github.io/observability-workshop/v5.60/en/scenarios/understand_impact_of_changes/1-build-application/index.html"><meta property="og:site_name" content="Splunk Observability Cloud Workshops"><meta property="og:title" content="Build the Sample Application :: Splunk Observability Cloud Workshops"><meta property="og:description" content="Introduction For this workshop, we’ll be using a microservices-based application. This application is for an online retailer and normally includes more than a dozen services. However, to keep the workshop simple, we’ll be focusing on two services used by the retailer as part of their payment processing workflow: the credit check service and the credit processor service.
Pre-requisites You will start with an EC2 instance and perform some initial steps in order to get to the following state:"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="Scenarios"><meta property="article:modified_time" content="2024-05-03T16:47:01-07:00"><meta itemprop=name content="Build the Sample Application :: Splunk Observability Cloud Workshops"><meta itemprop=description content="Introduction For this workshop, we’ll be using a microservices-based application. This application is for an online retailer and normally includes more than a dozen services. However, to keep the workshop simple, we’ll be focusing on two services used by the retailer as part of their payment processing workflow: the credit check service and the credit processor service.
Pre-requisites You will start with an EC2 instance and perform some initial steps in order to get to the following state:"><meta itemprop=dateModified content="2024-05-03T16:47:01-07:00"><meta itemprop=wordCount content="441"><title>Build the Sample Application :: Splunk Observability Cloud Workshops</title>
<link href=https://splunk.github.io/observability-workshop/v5.60/en/scenarios/understand_impact_of_changes/1-build-application/index.html rel=canonical type=text/html title="Build the Sample Application :: Splunk Observability Cloud Workshops"><link href=/observability-workshop/v5.60/images/favicon.ico?1717509221 rel=icon type=image/x-icon sizes=any><link href=/observability-workshop/v5.60/css/fontawesome-all.min.css?1717509237 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/observability-workshop/v5.60/css/fontawesome-all.min.css?1717509237 rel=stylesheet></noscript><link href=/observability-workshop/v5.60/css/nucleus.css?1717509237 rel=stylesheet><link href=/observability-workshop/v5.60/css/auto-complete.css?1717509237 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/observability-workshop/v5.60/css/auto-complete.css?1717509237 rel=stylesheet></noscript><link href=/observability-workshop/v5.60/css/perfect-scrollbar.min.css?1717509237 rel=stylesheet><link href=/observability-workshop/v5.60/css/fonts.css?1717509237 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/observability-workshop/v5.60/css/fonts.css?1717509237 rel=stylesheet></noscript><link href=/observability-workshop/v5.60/css/theme.css?1717509237 rel=stylesheet><link href=/observability-workshop/v5.60/css/theme-splunk-light.css?1717509237 rel=stylesheet id=R-variant-style><link href=/observability-workshop/v5.60/css/chroma-relearn-light.css?1717509237 rel=stylesheet id=R-variant-chroma-style><link href=/observability-workshop/v5.60/css/variant.css?1717509237 rel=stylesheet><link href=/observability-workshop/v5.60/css/print.css?1717509237 rel=stylesheet media=print><link href=/observability-workshop/v5.60/css/format-print.css?1717509237 rel=stylesheet><script src=/observability-workshop/v5.60/js/variant.js?1717509237></script><script>window.relearn=window.relearn||{},window.relearn.relBasePath="../../../..",window.relearn.relBaseUri="../../../../../..",window.relearn.absBaseUri="https://splunk.github.io/observability-workshop/v5.60",window.index_js_url="/observability-workshop/v5.60/en/index.search.js",window.variants&&variants.init(["splunk-light","splunk-dark"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web.js crossorigin=anonymous></script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web-session-recorder.js crossorigin=anonymous></script><script>SplunkRum.init({realm:"eu0",rumAccessToken:"TR9BBfgYo7qJfqrfgqjoqA",applicationName:"observability-workshop",deploymentEnvironment:"splunk.github.io",version:"1.0"}),SplunkSessionRecorder.init({app:"observability-workshop",realm:"eu0",rumAccessToken:"TR9BBfgYo7qJfqrfgqjoqA"})</script></script><style>:root{--MAIN-WIDTH-MAX:1000rem;--MENU-WIDTH-L:23rem}</style></head><body class="mobile-support print disableInlineCopyToClipboard" data-url=/observability-workshop/v5.60/en/scenarios/understand_impact_of_changes/1-build-application/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/v5.60/en/index.html><span itemprop=name>Splunk Observability Workshops</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/v5.60/en/scenarios/index.html><span itemprop=name>Scenarios</span></a><meta itemprop=position content="2">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/v5.60/en/scenarios/understand_impact_of_changes/index.html><span itemprop=name>Understand Impact of Changes</span></a><meta itemprop=position content="3">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>1 Build the Sample Application</span><meta itemprop=position content="4"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-prev" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/observability-workshop/v5.60/en/scenarios/understand_impact_of_changes/index.html title="Understand Impact of Changes (🡐)"><i class="fa-fw fas fa-chevron-left"></i></a></div><div class="topbar-button topbar-button-next" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/observability-workshop/v5.60/en/scenarios/understand_impact_of_changes/2-what-are-tags/index.html title="What are Tags? (🡒)"><i class="fa-fw fas fa-chevron-right"></i></a></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=build-the-sample-application>Build the Sample Application</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>10 minutes</span>
</span>&nbsp;<h2 id=introduction>Introduction</h2><p>For this workshop, we&rsquo;ll be using a microservices-based application. This application is for an online retailer and normally includes more than a dozen services. However, to keep the workshop simple, we&rsquo;ll be focusing on two services used by the retailer as part of their payment processing workflow: the credit check service and the credit processor service.</p><h2 id=pre-requisites>Pre-requisites</h2><p>You will start with an EC2 instance and perform some <a href=/observability-workshop/v5.60/en/scenarios/understand_impact_of_changes/1-build-application/index.html#initial-steps>initial steps</a> in order to get to the following state:</p><ul><li>Deploy the <strong>Splunk distribution of the OpenTelemetry Collector</strong></li><li>Build and deploy <code>creditcheckservice</code> and <code>creditprocessorservice</code></li><li>Deploy a load generator to send traffic to the services</li></ul><h2 id=initial-steps>Initial Steps</h2><p>The initial setup can be completed by executing the following steps on the command line of your EC2 instance:</p><div class="highlight wrap-code"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>cd</span> workshop/tagging
</span></span><span class=line><span class=cl>./0-deploy-collector-with-services.sh</span></span></code></pre></div><h2 id=view-your-application-in-splunk-observability-cloud>View your application in Splunk Observability Cloud</h2><p>Now that the setup is complete, let&rsquo;s confirm that it&rsquo;s sending data to <strong>Splunk Observability Cloud</strong>. Note that when the application is deployed for the first time, it may take a few minutes for the data to appear.</p><p>Navigate to APM, then use the Environment dropdown to select your environment (i.e. <code>tagging-workshop-instancename</code>).</p><p>If everything was deployed correctly, you should see <code>creditprocessorservice</code> and <code>creditcheckservice</code> displayed in the list of services:</p><p><a href=#R-image-b312f991c1d8fca7f5a53672239e3399 class=lightbox-link><img alt="APM Overview" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=/observability-workshop/v5.60/en/scenarios/understand_impact_of_changes/1-build-application/../images/apm_overview.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-b312f991c1d8fca7f5a53672239e3399><img alt="APM Overview" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=/observability-workshop/v5.60/en/scenarios/understand_impact_of_changes/1-build-application/../images/apm_overview.png></a></p><p>Click on <strong>Explore</strong> on the right-hand side to view the service map. We can see that the <code>creditcheckservice</code> makes calls to the <code>creditprocessorservice</code>, with an average response time of at least 3 seconds:</p><p><a href=#R-image-d918896c928917a8e64ab39763f9944b class=lightbox-link><img alt="Service Map" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=/observability-workshop/v5.60/en/scenarios/understand_impact_of_changes/1-build-application/../images/service_map.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-d918896c928917a8e64ab39763f9944b><img alt="Service Map" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=/observability-workshop/v5.60/en/scenarios/understand_impact_of_changes/1-build-application/../images/service_map.png></a></p><p>Next, click on <strong>Traces</strong> on the right-hand side to see the traces captured for this application. You&rsquo;ll see that some traces run relatively fast (i.e. just a few milliseconds), whereas others take a few seconds.</p><p><a href=#R-image-17c1cc74fa3c3d7d7127f8de8cba77df class=lightbox-link><img alt=Traces class="noborder lazy lightbox noshadow figure-image" loading=lazy src=/observability-workshop/v5.60/en/scenarios/understand_impact_of_changes/1-build-application/../images/traces.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-17c1cc74fa3c3d7d7127f8de8cba77df><img alt=Traces class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=/observability-workshop/v5.60/en/scenarios/understand_impact_of_changes/1-build-application/../images/traces.png></a></p><p>If you toggle <strong>Errors only</strong> to <code>on</code>, you&rsquo;ll also notice that some traces have errors:</p><p><a href=#R-image-e3e2e8524b446b06521a6b390f7a2c13 class=lightbox-link><img alt=Traces class="noborder lazy lightbox noshadow figure-image" loading=lazy src=/observability-workshop/v5.60/en/scenarios/understand_impact_of_changes/1-build-application/../images/traces_with_errors.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-e3e2e8524b446b06521a6b390f7a2c13><img alt=Traces class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=/observability-workshop/v5.60/en/scenarios/understand_impact_of_changes/1-build-application/../images/traces_with_errors.png></a></p><p>Toggle <strong>Errors only</strong> back to <code>off</code> and sort the traces by duration, then click on one of the longer running traces. In this example, the trace took five seconds, and we can see that most of the time was spent calling the <code>/runCreditCheck</code> operation, which is part of the <code>creditprocessorservice</code>.</p><p><a href=#R-image-84d0411d4016e084508a6eb8ecbbc32e class=lightbox-link><img alt="Long Running Trace" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=/observability-workshop/v5.60/en/scenarios/understand_impact_of_changes/1-build-application/../images/long_running_trace.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-84d0411d4016e084508a6eb8ecbbc32e><img alt="Long Running Trace" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=/observability-workshop/v5.60/en/scenarios/understand_impact_of_changes/1-build-application/../images/long_running_trace.png></a></p><p>Currently, we don&rsquo;t have enough details in our traces to understand why some requests finish in a few milliseconds, and others take several seconds. To provide the best possible customer experience, this will be critical for us to understand.</p><p>We also don&rsquo;t have enough information to understand why some requests result in errors, and others don&rsquo;t. For example, if we look at one of the error traces, we can see that the error occurs when the <code>creditprocessorservice</code> attempts to call another service named <code>otherservice</code>. But why do some requests results in a call to <code>otherservice</code>, and others don&rsquo;t?</p><p><a href=#R-image-f0bcf271a83a84609229a53172ac9337 class=lightbox-link><img alt="Trace with Errors" class="noborder lazy lightbox noshadow figure-image" loading=lazy src=/observability-workshop/v5.60/en/scenarios/understand_impact_of_changes/1-build-application/../images/error_trace.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-f0bcf271a83a84609229a53172ac9337><img alt="Trace with Errors" class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=/observability-workshop/v5.60/en/scenarios/understand_impact_of_changes/1-build-application/../images/error_trace.png></a></p><p>We&rsquo;ll explore these questions and more in the workshop.</p><footer class=footline><span class="badge cstyle tip badge-with-title"><span class=badge-title class=text-muted>Last Modified By
</span><span class=badge-content>dmitchsplunk</span>
</span>&nbsp;
<span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted><i class="fa-fw fas fa-calendar"></i>
</span><span class=badge-content>May 3, 2024</span></span></footer></article></div></main></div><script src=/observability-workshop/v5.60/js/clipboard.min.js?1717509237 defer></script><script src=/observability-workshop/v5.60/js/perfect-scrollbar.min.js?1717509237 defer></script><script src=/observability-workshop/v5.60/js/theme.js?1717509237 defer></script></body></html>