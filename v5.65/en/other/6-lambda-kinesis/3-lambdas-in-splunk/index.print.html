<!doctype html><html lang=en dir=ltr itemscope itemtype=http://schema.org/Article><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.125.5"><meta name=generator content="Relearn 6.1.1+tip"><meta name=description content="Lambdas in Splunk APM Now it’s time to check how your Lambda traffic has been captured in Splunk APM.
Navigate to your Splunk Observability Cloud Select APM from the Main Menu and then select your APM Environment. Your APM environment should be in the format $INSTANCE-apm-lambda where the hostname value is a four letter name of your lab host. (Check it by looking at your command prompt, or by running echo $INSTANCE)."><meta name=author content><meta name=twitter:card content="summary"><meta name=twitter:title content="Lambdas in Splunk APM :: Splunk Observability Cloud Workshops"><meta name=twitter:description content="Lambdas in Splunk APM Now it’s time to check how your Lambda traffic has been captured in Splunk APM.
Navigate to your Splunk Observability Cloud Select APM from the Main Menu and then select your APM Environment. Your APM environment should be in the format $INSTANCE-apm-lambda where the hostname value is a four letter name of your lab host. (Check it by looking at your command prompt, or by running echo $INSTANCE)."><meta property="og:url" content="https://splunk.github.io/observability-workshop/v5.65/en/other/6-lambda-kinesis/3-lambdas-in-splunk/index.html"><meta property="og:site_name" content="Splunk Observability Cloud Workshops"><meta property="og:title" content="Lambdas in Splunk APM :: Splunk Observability Cloud Workshops"><meta property="og:description" content="Lambdas in Splunk APM Now it’s time to check how your Lambda traffic has been captured in Splunk APM.
Navigate to your Splunk Observability Cloud Select APM from the Main Menu and then select your APM Environment. Your APM environment should be in the format $INSTANCE-apm-lambda where the hostname value is a four letter name of your lab host. (Check it by looking at your command prompt, or by running echo $INSTANCE)."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="Ninja Workshops"><meta property="article:modified_time" content="2023-12-21T14:15:53+00:00"><meta itemprop=name content="Lambdas in Splunk APM :: Splunk Observability Cloud Workshops"><meta itemprop=description content="Lambdas in Splunk APM Now it’s time to check how your Lambda traffic has been captured in Splunk APM.
Navigate to your Splunk Observability Cloud Select APM from the Main Menu and then select your APM Environment. Your APM environment should be in the format $INSTANCE-apm-lambda where the hostname value is a four letter name of your lab host. (Check it by looking at your command prompt, or by running echo $INSTANCE)."><meta itemprop=dateModified content="2023-12-21T14:15:53+00:00"><meta itemprop=wordCount content="238"><title>Lambdas in Splunk APM :: Splunk Observability Cloud Workshops</title>
<link href=https://splunk.github.io/observability-workshop/v5.65/en/other/6-lambda-kinesis/3-lambdas-in-splunk/index.html rel=canonical type=text/html title="Lambdas in Splunk APM :: Splunk Observability Cloud Workshops"><link href=/observability-workshop/v5.65/images/favicon.ico?1725615612 rel=icon type=image/x-icon sizes=any><link href=/observability-workshop/v5.65/css/fontawesome-all.min.css?1725615612 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/observability-workshop/v5.65/css/fontawesome-all.min.css?1725615612 rel=stylesheet></noscript><link href=/observability-workshop/v5.65/css/nucleus.css?1725615612 rel=stylesheet><link href=/observability-workshop/v5.65/css/auto-complete.css?1725615612 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/observability-workshop/v5.65/css/auto-complete.css?1725615612 rel=stylesheet></noscript><link href=/observability-workshop/v5.65/css/perfect-scrollbar.min.css?1725615612 rel=stylesheet><link href=/observability-workshop/v5.65/css/fonts.css?1725615612 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/observability-workshop/v5.65/css/fonts.css?1725615612 rel=stylesheet></noscript><link href=/observability-workshop/v5.65/css/theme.css?1725615612 rel=stylesheet><link href=/observability-workshop/v5.65/css/theme-splunk-light.css?1725615612 rel=stylesheet id=R-variant-style><link href=/observability-workshop/v5.65/css/chroma-relearn-light.css?1725615612 rel=stylesheet id=R-variant-chroma-style><link href=/observability-workshop/v5.65/css/variant.css?1725615612 rel=stylesheet><link href=/observability-workshop/v5.65/css/print.css?1725615612 rel=stylesheet media=print><link href=/observability-workshop/v5.65/css/format-print.css?1725615612 rel=stylesheet><script src=/observability-workshop/v5.65/js/variant.js?1725615612></script><script>window.relearn=window.relearn||{},window.relearn.relBasePath="../../../..",window.relearn.relBaseUri="../../../../../..",window.relearn.absBaseUri="https://splunk.github.io/observability-workshop/v5.65",window.index_js_url="/observability-workshop/v5.65/en/index.search.js?1725615612",window.variants&&variants.init(["splunk-light","splunk-dark"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web.js crossorigin=anonymous></script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web-session-recorder.js crossorigin=anonymous></script><script>SplunkRum.init({realm:"eu0",rumAccessToken:"TR9BBfgYo7qJfqrfgqjoqA",applicationName:"observability-workshop",deploymentEnvironment:"splunk.github.io",version:"1.0"}),SplunkSessionRecorder.init({app:"observability-workshop",realm:"eu0",rumAccessToken:"TR9BBfgYo7qJfqrfgqjoqA"})</script></script><style>:root{--MAIN-WIDTH-MAX:130rem;--MENU-WIDTH-L:23rem}</style></head><body class="mobile-support print disableInlineCopyToClipboard" data-url=/observability-workshop/v5.65/en/other/6-lambda-kinesis/3-lambdas-in-splunk/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/v5.65/en/index.html><span itemprop=name>Splunk Observability Workshops</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/v5.65/en/other/index.html><span itemprop=name>Ninja Workshops</span></a><meta itemprop=position content="2">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/v5.65/en/other/6-lambda-kinesis/index.html><span itemprop=name>Lambda Tracing and Kinesis</span></a><meta itemprop=position content="3">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>3. Lambdas in Splunk</span><meta itemprop=position content="4"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-prev" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/observability-workshop/v5.65/en/other/6-lambda-kinesis/2-auto-instrumentation/index.html title="Auto-Instrumentation (🡐)"><i class="fa-fw fas fa-chevron-left"></i></a></div><div class="topbar-button topbar-button-next" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/observability-workshop/v5.65/en/other/6-lambda-kinesis/4-manual-instrumentation/index.html title="Manual Instrumentation (🡒)"><i class="fa-fw fas fa-chevron-right"></i></a></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=lambdas-in-splunk-apm>Lambdas in Splunk APM</h1><h2 id=lambdas-in-splunk-apm>Lambdas in Splunk APM</h2><p>Now it&rsquo;s time to check how your Lambda traffic has been captured in Splunk APM.</p><h2 id=navigate-to-your-splunk-observability-cloud>Navigate to your Splunk Observability Cloud</h2><p>Select APM from the Main Menu and then select your APM Environment. Your APM environment should be in the format <code>$INSTANCE-apm-lambda</code> where the hostname value is a four letter name of your lab host. (Check it by looking at your command prompt, or by running <code>echo $INSTANCE</code>).</p><div class="box notices cstyle note"><div class=box-label><i class="fa-fw fas fa-exclamation-circle"></i> Note</div><div class=box-content><p>It may take a few minutes for you traces to appear in Splunk APM. Try hitting refresh on your browser until you find your environement name in the list of Envrionments</div></div><p><a href=#R-image-29709fd8a1305cc5c47bd25399d591a1 class=lightbox-link><img alt=3-splunk-1-filter class="noborder lazy lightbox noshadow figure-image" loading=lazy src=/observability-workshop/v5.65/en/other/6-lambda-kinesis/3-lambdas-in-splunk/../images/3-splunk-1-filter.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-29709fd8a1305cc5c47bd25399d591a1><img alt=3-splunk-1-filter class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=/observability-workshop/v5.65/en/other/6-lambda-kinesis/3-lambdas-in-splunk/../images/3-splunk-1-filter.png></a></p><p>Go to <code>Explore</code> the Service Map to see the Dependencies between your Lambda Functions.</p><p><a href=#R-image-0a36c4b249601982d0e84b10a9aceb86 class=lightbox-link><img alt=3-splunk-2-explore class="noborder lazy lightbox noshadow figure-image" loading=lazy src=/observability-workshop/v5.65/en/other/6-lambda-kinesis/3-lambdas-in-splunk/../images/3-splunk-2-explore.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-0a36c4b249601982d0e84b10a9aceb86><img alt=3-splunk-2-explore class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=/observability-workshop/v5.65/en/other/6-lambda-kinesis/3-lambdas-in-splunk/../images/3-splunk-2-explore.png></a></p><p>You should be able to see the <code>producer-lambda</code> and the call it is making to <code>Kinesis</code> service.</p><div class="box notices cstyle tip"><div class=box-label><i class="fa-fw fas fa-question"></i> Workshop Question</div><div class=box-content><p>What about your <code>consumer-lambda</code>?</p></div></div><p><a href=#R-image-b9cdc5ee7f8f28ac9955fd85a95157ba class=lightbox-link><img alt=3-splunk-3-map-producer class="noborder lazy lightbox noshadow figure-image" loading=lazy src=/observability-workshop/v5.65/en/other/6-lambda-kinesis/3-lambdas-in-splunk/../images/3-splunk-3-map-producer.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-b9cdc5ee7f8f28ac9955fd85a95157ba><img alt=3-splunk-3-map-producer class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=/observability-workshop/v5.65/en/other/6-lambda-kinesis/3-lambdas-in-splunk/../images/3-splunk-3-map-producer.png></a></p><p>Click into <code>Traces</code> and examine some traces that container procuder function calls and traces with consumer function calls.</p><p><a href=#R-image-a10313bed2425147d28bd125d6e8412a class=lightbox-link><img alt=3-splunk-4-trace-producer.png class="noborder lazy lightbox noshadow figure-image" loading=lazy src=/observability-workshop/v5.65/en/other/6-lambda-kinesis/3-lambdas-in-splunk/../images/3-splunk-4-trace-producer.png style=height:auto;width:auto></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-a10313bed2425147d28bd125d6e8412a><img alt=3-splunk-4-trace-producer.png class="noborder lazy lightbox noshadow lightbox-image" loading=lazy src=/observability-workshop/v5.65/en/other/6-lambda-kinesis/3-lambdas-in-splunk/../images/3-splunk-4-trace-producer.png></a></p><p>We can see the <code>producer-lambda</code> putting a Record on the Kinesis stream. But the action of <code>consumer-function</code> is disconnected!</p><p>This is because the Trace Context is not being propagated.</p><p>This is not something that is supported automatically Out-of-the-Box by Kinesis service at the time of this lab. Our Distributed Trace stops at Kinesis inferred service, and we can&rsquo;t see the propagation any further.</p><p>Not yet&mldr;</p><p>Let&rsquo;s see how we work around this in the next section of this lab.</p><footer class=footline><span class="badge cstyle tip badge-with-title"><span class=badge-title class=text-muted>Last Modified By
</span><span class=badge-content>Robert Castley</span>
</span>&nbsp;
<span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted><i class="fa-fw fas fa-calendar"></i>
</span><span class=badge-content>Dec 21, 2023</span></span></footer></article></div></main></div><script src=/observability-workshop/v5.65/js/clipboard.min.js?1725615612 defer></script><script src=/observability-workshop/v5.65/js/perfect-scrollbar.min.js?1725615612 defer></script><script src=/observability-workshop/v5.65/js/theme.js?1725615612 defer></script></body></html>