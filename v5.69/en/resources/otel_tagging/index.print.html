<!doctype html><html lang=en dir=ltr itemscope itemtype=http://schema.org/Article><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.125.5"><meta name=generator content="Relearn 6.4.0+tip"><meta name=description content="When deploying OpenTelemetry in a large organization, it‚Äôs critical to define a standardized naming convention for tagging, and a governance process to ensure the convention is adhered to."><meta name=author content><meta name=twitter:card content="summary"><meta name=twitter:title content="Naming Conventions for Tagging with OpenTelemetry and Splunk :: Splunk Observability Cloud Workshops"><meta name=twitter:description content="When deploying OpenTelemetry in a large organization, it‚Äôs critical to define a standardized naming convention for tagging, and a governance process to ensure the convention is adhered to."><meta property="og:url" content="https://splunk.github.io/observability-workshop/v5.69/en/resources/otel_tagging/index.html"><meta property="og:site_name" content="Splunk Observability Cloud Workshops"><meta property="og:title" content="Naming Conventions for Tagging with OpenTelemetry and Splunk :: Splunk Observability Cloud Workshops"><meta property="og:description" content="When deploying OpenTelemetry in a large organization, it‚Äôs critical to define a standardized naming convention for tagging, and a governance process to ensure the convention is adhered to."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="Resources"><meta property="article:modified_time" content="2024-04-02T12:05:03-04:00"><meta itemprop=name content="Naming Conventions for Tagging with OpenTelemetry and Splunk :: Splunk Observability Cloud Workshops"><meta itemprop=description content="When deploying OpenTelemetry in a large organization, it‚Äôs critical to define a standardized naming convention for tagging, and a governance process to ensure the convention is adhered to."><meta itemprop=dateModified content="2024-04-02T12:05:03-04:00"><meta itemprop=wordCount content="1097"><title>Naming Conventions for Tagging with OpenTelemetry and Splunk :: Splunk Observability Cloud Workshops</title>
<link href=https://splunk.github.io/observability-workshop/v5.69/en/resources/otel_tagging/index.html rel=alternate hreflang=x-default><link href=https://splunk.github.io/observability-workshop/v5.69/en/resources/otel_tagging/index.html rel=alternate hreflang=en><link href=https://splunk.github.io/observability-workshop/v5.69/ja/resources/otel_tagging/index.html rel=alternate hreflang=ja><link href=https://splunk.github.io/observability-workshop/v5.69/en/resources/otel_tagging/index.html rel=canonical type=text/html title="Naming Conventions for Tagging with OpenTelemetry and Splunk :: Splunk Observability Cloud Workshops"><link href=/observability-workshop/v5.69/images/favicon.ico?1728314635 rel=icon type=image/x-icon sizes=any><link href=/observability-workshop/v5.69/css/fontawesome-all.min.css?1728314635 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/observability-workshop/v5.69/css/fontawesome-all.min.css?1728314635 rel=stylesheet></noscript><link href=/observability-workshop/v5.69/css/nucleus.css?1728314635 rel=stylesheet><link href=/observability-workshop/v5.69/css/auto-complete.css?1728314635 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/observability-workshop/v5.69/css/auto-complete.css?1728314635 rel=stylesheet></noscript><link href=/observability-workshop/v5.69/css/perfect-scrollbar.min.css?1728314635 rel=stylesheet><link href=/observability-workshop/v5.69/css/fonts.css?1728314635 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=/observability-workshop/v5.69/css/fonts.css?1728314635 rel=stylesheet></noscript><link href=/observability-workshop/v5.69/css/theme.css?1728314635 rel=stylesheet><link href=/observability-workshop/v5.69/css/theme-splunk-light.css?1728314635 rel=stylesheet id=R-variant-style><link href=/observability-workshop/v5.69/css/chroma-relearn-light.css?1728314635 rel=stylesheet id=R-variant-chroma-style><link href=/observability-workshop/v5.69/css/variant.css?1728314635 rel=stylesheet><link href=/observability-workshop/v5.69/css/print.css?1728314635 rel=stylesheet media=print><link href=/observability-workshop/v5.69/css/format-print.css?1728314635 rel=stylesheet><script src=/observability-workshop/v5.69/js/variant.js?1728314635></script><script>window.relearn=window.relearn||{},window.relearn.relBasePath="../../..",window.relearn.relBaseUri="../../../../..",window.relearn.absBaseUri="https://splunk.github.io/observability-workshop/v5.69",window.relearn.disableAnchorCopy=!1,window.relearn.disableAnchorScrolling=!1,window.index_js_url="/observability-workshop/v5.69/en/index.search.js?1728314635",window.variants&&variants.init(["splunk-light","splunk-dark"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web.js crossorigin=anonymous></script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web-session-recorder.js crossorigin=anonymous></script><script>SplunkRum.init({realm:"us1",rumAccessToken:"dp3FKraOS_wVhe-l7eCOsA",applicationName:"observability-workshop",deploymentEnvironment:"splunk.github.io",version:"1.0"}),SplunkSessionRecorder.init({app:"observability-workshop",realm:"us1",rumAccessToken:"dp3FKraOS_wVhe-l7eCOsA"})</script></script><style>:root{--MAIN-WIDTH-MAX:130rem;--MENU-WIDTH-L:23rem}</style></head><body class="mobile-support print disableInlineCopyToClipboard" data-url=/observability-workshop/v5.69/en/resources/otel_tagging/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)"><i class="fa-fw fas fa-bars"></i></button></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/v5.69/en/index.html><span itemprop=name>Splunk Observability Workshops</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=/observability-workshop/v5.69/en/resources/index.html><span itemprop=name>Resources</span></a><meta itemprop=position content="2">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>OpenTelemetry Tagging</span><meta itemprop=position content="3"></li></ol><div class="topbar-area topbar-area-end" data-area=end><div class="topbar-button topbar-button-prev" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/observability-workshop/v5.69/en/resources/dimensions_properties_tags/index.html title="Dimension, Properties and Tags (ü°ê)"><i class="fa-fw fas fa-chevron-left"></i></a></div><div class="topbar-button topbar-button-next" data-content-empty=disable data-width-s=show data-width-m=show data-width-l=show><a class=topbar-control href=/observability-workshop/v5.69/en/resources/local-hosting/index.html title="Local Hosting (ü°í)"><i class="fa-fw fas fa-chevron-right"></i></a></div></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=naming-conventions-for-tagging-with-opentelemetry-and-splunk>Naming Conventions for Tagging with OpenTelemetry and Splunk</h1><h2 id=introduction>Introduction</h2><p>When deploying OpenTelemetry in a large organization, it‚Äôs critical to define a standardized naming convention for tagging, and a governance process to ensure the convention is adhered to.</p><p>This ensures that MELT data collected via OpenTelemetry can be efficiently utilized for alerting, dashboarding, and troubleshooting purposes. It also ensures that users of Splunk Observability Cloud can quickly find the data they‚Äôre looking for.</p><p>Naming conventions also ensure that data can be aggregated effectively. For example, if we wanted to count the number of unique hosts by environment, then we must use a standardized convention for capturing the host and environment names.</p><h2 id=attributes-vs-tags>Attributes vs. Tags</h2><p>Before we go further, let‚Äôs make a note regarding terminology. Tags in OpenTelemetry are called ‚Äúattributes‚Äù. Attributes can be attached to metrics, logs, and traces, either via manual instrumentation or automated instrumentation.</p><p>Attributes can also be attached to metrics, logs, and traces at the OpenTelemetry collector level, using various processors such as the <a href=https://github.com/open-telemetry/opentelemetry-collector-contrib/tree/main/processor/resourcedetectionprocessor rel=external target=_blank>Resource Detection processor</a>.</p><p>Once traces with attributes are ingested into Splunk Observability Cloud, they are available as ‚Äútags‚Äù. Optionally, attributes collected as part of traces can be used to create <a href=https://docs.splunk.com/Observability/apm/span-tags/metricsets.html#troubleshooting-metricsets rel=external target=_blank>Troubleshooting Metric Sets</a>, which can in turn be used with various features such as <a href=https://docs.splunk.com/Observability/apm/span-tags/tag-spotlight.html rel=external target=_blank>Tag Spotlight</a>.</p><p>Alternatively, attributes can be used to create <a href=https://docs.splunk.com/Observability/apm/span-tags/metricsets.html#monitoring-metricsets rel=external target=_blank>Monitoring Metric Sets</a>, which can be used to drive alerting.</p><h2 id=resource-semantic-conventions>Resource Semantic Conventions</h2><p><a href=https://github.com/open-telemetry/semantic-conventions/tree/main rel=external target=_blank>OpenTelemetry resource semantic conventions</a> should be used as a starting point when determining which attributes an organization should standardize on. In the following sections, we‚Äôll review some of the more commonly used attributes.</p><h3 id=service-attributes>Service Attributes</h3><p>A number of attributes are used to describe the service being monitored.</p><p><code>service.name</code> is a required attribute that defines the logical name of the service. It‚Äôs added automatically by the OpenTelemetry SDK but can be customized. It‚Äôs best to keep this simple (i.e. <code>inventoryservice</code> would be better than <code>inventoryservice-prod-hostxyz</code>, as other attributes can be utilized to capture other aspects of the service instead).</p><p>The following service attributes are recommended:</p><ul><li><code>service.namespace</code> this attribute could be utilized to identify the team that owns the service</li><li><code>service.instance.id</code> is used to identify a unique instance of the service</li><li><code>service.version</code> is used to identify the version of the service</li></ul><h3 id=telemetry-sdk>Telemetry SDK</h3><p>These attributes are set automatically by the SDK, to record information about the instrumentation libraries being used:</p><ul><li><code>telemetry.sdk.name</code> is typically set to <code>opentelemetry</code></li><li><code>telemetry.sdk.language</code> is the language of the SDK, such as <code>java</code></li><li><code>telemetry.sdk.version</code> identifies which version of the SDK is utilized</li></ul><h3 id=containers>Containers</h3><p>For services running in containers, there are numerous attributes used to describe the container runtime, such as <code>container.id</code>, <code>container.name</code>, and <code>container.image.name</code>. The full list can be found <a href=https://github.com/open-telemetry/semantic-conventions/blob/main/docs/resource/container.md rel=external target=_blank>here</a>.</p><h3 id=hosts>Hosts</h3><p>These attributes describe the host where the service is running, and include attributes such as <code>host.id</code>, <code>host.name</code>, and <code>host.arch</code>. The full list can be found <a href=https://github.com/open-telemetry/semantic-conventions/blob/main/docs/resource/host.md rel=external target=_blank>here</a>.</p><h3 id=deployment-environment>Deployment Environment</h3><p>The <code>deployment.environment</code> attribute is used to identify the environment where the service is deployed, such as <strong>staging</strong> or <strong>production</strong>.</p><p>Splunk Observability Cloud uses this attribute to enable related content (as described <a href=https://docs.splunk.com/observability/metrics-and-metadata/enablerelatedcontent.html rel=external target=_blank>here</a>), so it‚Äôs important to include it.</p><h3 id=cloud>Cloud</h3><p>There are also attributes to capture information for services running in public cloud environments, such as AWS. Attributes include cloud.provider, <code>cloud.account.id</code>, and <code>cloud.region</code>.</p><p>The full list of attributes can be found <a href=https://github.com/open-telemetry/semantic-conventions/blob/main/docs/resource/cloud.md rel=external target=_blank>here</a>.</p><p>Some cloud providers, such as <a href=https://github.com/open-telemetry/semantic-conventions/tree/main/docs/resource/cloud-provider/gcp rel=external target=_blank>GCP</a>, define semantic conventions specific to their offering.</p><h3 id=kubernetes>Kubernetes</h3><p>There are a number of standardized attributes for applications running in Kubernetes as well. Many of these are added automatically by Splunk‚Äôs distribution of the OpenTelemetry collector, as described <a href=https://docs.splunk.com/observability/metrics-and-metadata/enablerelatedcontent.html#splunk-infrastructure-monitoring rel=external target=_blank>here</a>.</p><p>These attributes include <code>k8s.cluster.name</code>, <code>k8s.node.name</code>, <code>k8s.pod.name</code>, <code>k8s.namespace.name</code>, and <code>kubernetes.workload.name</code>.</p><h2 id=best-practices-for-creating-custom-attributes>Best Practices for Creating Custom Attributes</h2><p>Many organizations require attributes that go beyond what‚Äôs defined in OpenTelemetry‚Äôs resource semantic conventions.</p><p>In this case, it‚Äôs important to avoid naming conflicts with attribute names already included in the semantic conventions. So it‚Äôs a good idea to check the semantic conventions before deciding on a particular attribute name for your naming convention.</p><p>In addition to a naming convention for attribute names, you also need to consider attribute values. For example, if you‚Äôd like to capture the particular business unit with which an application belongs, then you‚Äôll also want to have a standardized list of business unit values to choose from, to facilitate effective filtering.</p><p>The OpenTelemetry community provides guidelines that should be followed when naming attributes as well, which can be found <a href=https://opentelemetry.io/docs/specs/otel/common/attribute-naming/ rel=external target=_blank>here</a>.</p><p>The <a href=https://opentelemetry.io/docs/specs/otel/common/attribute-naming/#recommendations-for-application-developers rel=external target=_blank>Recommendations for Application Developers</a> section is most relevant to our discussion.</p><p>They recommend:</p><ul><li>Prefixing the attribute name with your company‚Äôs domain name, e.g. <code>com.acme.shopname</code> (if the attribute may be used outside your company as well as inside).</li><li>Prefixing the attribute name with the application name, if the attribute is unique to a particular application and is only used within your organization.</li><li>Not using existing OpenTelemetry semantic convention names as a prefix for your attribute name.</li><li>Consider submitting a proposal to add your attribute name to the OpenTelemetry specification, if there‚Äôs a general need for it across different organizations and industries.</li><li>Avoid having attribute names start with <code>otel.*</code>, as this is reserved for OpenTelemetry specification usage.</li></ul><h2 id=metric-cardinality-considerations>Metric Cardinality Considerations</h2><p>One final thing to keep in mind when deciding on naming standards for attribute names and values is related to metric cardinality.</p><p>Metric cardinality is defined as **the number of unique metric time series (MTS) produced by a combination of metric <strong>names and their associated dimensions</strong>.</p><p>A metric has high cardinality when it has a high number of dimension keys and a high number of possible unique values for those dimension keys.</p><p>For example, suppose your application sends in data for a metric named <code>custom.metric</code>. In the absence of any attributes, <code>custom.metric</code> would generate a single metric time series (MTS).</p><p>On the other hand, if <code>custom.metric</code> includes an attribute named <code>customer.id</code>, and there are thousands of customer ID values, this would generate thousands of metric time series, which may impact costs and query performance.</p><p>Splunk Observability Cloud provides a <a href=https://docs.splunk.com/Observability/infrastructure/metrics-pipeline/metrics-usage-report.html rel=external target=_blank>report</a> that allows for the management of metrics usage. And <a href=https://docs.splunk.com/Observability/infrastructure/metrics-pipeline/use-metrics-pipeline.html rel=external target=_blank>rules</a> can be created to drop undesirable dimensions. However, the first line of defence is understanding how attribute name and value combinations can drive increased metric cardinality.</p><h2 id=summary>Summary</h2><p>In this document, we highlighted the importance of defining naming conventions for OpenTelemetry tags, preferably before starting a large rollout of OpenTelemetry instrumentation.</p><p>We discussed how OpenTelemetry‚Äôs resource semantic conventions define the naming conventions for several attributes, many of which are automatically collected via the OpenTelemetry SDKs, as well as processors that run within the OpenTelemetry collector.</p><p>Finally, we shared some best practices for creating your attribute names, for situations where the resource semantic conventions are not sufficient for your organization‚Äôs needs.</p><footer class=footline><span class="badge cstyle note badge-with-title"><span class=badge-title class=text-muted>Last Modified
</span><span class=badge-content>Apr 2, 2024</span></span></footer></article></div></main></div><script src=/observability-workshop/v5.69/js/clipboard.min.js?1728314635 defer></script><script src=/observability-workshop/v5.69/js/perfect-scrollbar.min.js?1728314635 defer></script><script src=/observability-workshop/v5.69/js/theme.js?1728314635 defer></script></body></html>