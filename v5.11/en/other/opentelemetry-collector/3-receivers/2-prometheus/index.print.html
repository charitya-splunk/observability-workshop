<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.110.0"><meta name=generator content="Relearn 5.23.0+tip"><meta name=description content="Splunk Observability Workshops"><meta name=author content><meta name=twitter:card content="summary"><meta name=twitter:title content="OpenTelemetry Collector Receivers :: Splunk Observability Cloud Workshops"><meta name=twitter:description content="Prometheus Receiver You will also notice another receiver called prometheus. Prometheus is an open-source toolkit used by the OpenTelemetry Collector. This receiver is used to scrape metrics from the OpenTelemetry Collector itself. These metrics can then be used to monitor the health of the collector.
Let&rsquo;s modify the prometheus receiver to clearly show that it is for collecting metrics from the collector itself. By changing the name of the receiver from prometheus to prometheus/internal, it is now much clearer as to what that receiever is doing."><meta property="og:title" content="OpenTelemetry Collector Receivers :: Splunk Observability Cloud Workshops"><meta property="og:description" content="Prometheus Receiver You will also notice another receiver called prometheus. Prometheus is an open-source toolkit used by the OpenTelemetry Collector. This receiver is used to scrape metrics from the OpenTelemetry Collector itself. These metrics can then be used to monitor the health of the collector.
Let&rsquo;s modify the prometheus receiver to clearly show that it is for collecting metrics from the collector itself. By changing the name of the receiver from prometheus to prometheus/internal, it is now much clearer as to what that receiever is doing."><meta property="og:type" content="article"><meta property="og:url" content="https://splunk.github.io/observability-workshop/v5.11/en/other/opentelemetry-collector/3-receivers/2-prometheus/index.html"><meta property="article:section" content="OpenTelemetry Collector Receivers :: Splunk Observability Cloud Workshops"><meta property="og:site_name" content="Splunk Observability Cloud Workshops"><title>OpenTelemetry Collector Receivers :: Splunk Observability Cloud Workshops</title><link href=https://splunk.github.io/observability-workshop/v5.11/en/other/opentelemetry-collector/3-receivers/2-prometheus/index.html rel=canonical type=text/html title="OpenTelemetry Collector Receivers :: Splunk Observability Cloud Workshops"><link href=../../../../../en/other/opentelemetry-collector/3-receivers/2-prometheus/index.xml rel=alternate type=application/rss+xml title="OpenTelemetry Collector Receivers :: Splunk Observability Cloud Workshops"><link href=../../../../../images/favicon.ico?1698787633 rel=icon type=image/x-icon sizes=any><link href=../../../../../css/fontawesome-all.min.css?1698787638 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=../../../../../css/fontawesome-all.min.css?1698787638 rel=stylesheet></noscript><link href=../../../../../css/nucleus.css?1698787638 rel=stylesheet><link href=../../../../../css/auto-complete.css?1698787638 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=../../../../../css/auto-complete.css?1698787638 rel=stylesheet></noscript><link href=../../../../../css/perfect-scrollbar.min.css?1698787638 rel=stylesheet><link href=../../../../../css/fonts.css?1698787638 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=../../../../../css/fonts.css?1698787638 rel=stylesheet></noscript><link href=../../../../../css/theme.css?1698787638 rel=stylesheet><link href=../../../../../css/theme-auto.css?1698787638 rel=stylesheet id=R-variant-style><link href=../../../../../css/variant.css?1698787638 rel=stylesheet><link href=../../../../../css/print.css?1698787638 rel=stylesheet media=print><link href=../../../../../css/format-print.css?1698787638 rel=stylesheet><link href=../../../../../css/ie.css?1698787638 rel=stylesheet><script src=../../../../../js/url.js?1698787638></script>
<script src=../../../../../js/variant.js?1698787638></script>
<script>window.index_js_url="../../../../../en/index.search.js";var root_url="../../../../../",baseUriFull,baseUri=root_url.replace(/\/$/,"");window.T_Copy_to_clipboard="Copy to clipboard",window.T_Copied_to_clipboard="Copied to clipboard!",window.T_Copy_link_to_clipboard="Copy link to clipboard",window.T_Link_copied_to_clipboard="Copied link to clipboard!",window.T_Reset_view="Reset view",window.T_View_reset="View reset!",window.T_No_results_found="No results found for \u0022{0}\u0022",window.T_N_results_found="{1} results found for \u0022{0}\u0022",baseUriFull="https://splunk.github.io/observability-workshop/v5.11/",window.variants&&variants.init(["auto","splunk-light","splunk-dark"])</script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web.js crossorigin=anonymous></script>
<script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web-session-recorder.js crossorigin=anonymous></script>
<script>SplunkRum.init({beaconUrl:"https://rum-ingest.eu0.signalfx.com/v1/rum",rumAuth:"EDIbCJR4LlxWdXMLjkYX1g",app:"observability-workshop",version:"1",environment:"observability-workshop-env"}),SplunkSessionRecorder.init({beaconUrl:"https://rum-ingest.eu0.signalfx.com/v1/rumreplay",rumAuth:"EDIbCJR4LlxWdXMLjkYX1g"})</script><style>@media screen and (min-width:1500px){#R-body .flex-block-wrapper{margin-left:auto;margin-right:auto;max-width:1500px;width:100%}}</style></head><body class="mobile-support print disableInlineCopyToClipboard" data-url=../../../../../en/other/opentelemetry-collector/3-receivers/2-prometheus/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)">
<i class="fa-fw fas fa-bars"></i></button></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=../../../../../en/index.html><span itemprop=name>Splunk Observability Workshops</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=../../../../../en/other/index.html><span itemprop=name>Ninja Workshops</span></a><meta itemprop=position content="2">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=../../../../../en/other/opentelemetry-collector/index.html><span itemprop=name>Making Your Observability Cloud Native With OpenTelemetry</span></a><meta itemprop=position content="3">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=../../../../../en/other/opentelemetry-collector/3-receivers/index.html><span itemprop=name>OpenTelemetry Collector Receivers</span></a><meta itemprop=position content="4">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>OpenTelemetry Collector Receivers</span><meta itemprop=position content="5"></li></ol><div class="topbar-area topbar-area-end" data-area=end></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=opentelemetry-collector-receivers>OpenTelemetry Collector Receivers</h1><h2 id=prometheus-receiver>Prometheus Receiver</h2><p>You will also notice another receiver called <strong>prometheus</strong>. <a href=https://prometheus.io/docs/introduction/overview/ target=_blank>Prometheus</a> is an open-source toolkit used by the OpenTelemetry Collector. This receiver is used to scrape metrics from the OpenTelemetry Collector itself. These metrics can then be used to monitor the health of the collector.</p><p>Let&rsquo;s modify the <strong>prometheus</strong> receiver to clearly show that it is for collecting metrics from the collector itself. By changing the name of the receiver from <strong>prometheus</strong> to <strong>prometheus/internal</strong>, it is now much clearer as to what that receiever is doing. Update the configuration file to look like this:</p><div class=tab-panel data-tab-group=5dc897b21e0cf52af3c4e83ef4a376ac><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=prometheus-receiver-configuration class="tab-nav-button tab-panel-style cstyle initial active" onclick='switchTab("5dc897b21e0cf52af3c4e83ef4a376ac","prometheus-receiver-configuration")'>
<span class=tab-nav-text>Prometheus Receiver Configuration</span></button></div><div class=tab-content-container><div data-tab-item=prometheus-receiver-configuration class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class="line hl"><span class=cl><span class=nt>prometheus/internal</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>config</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>scrape_configs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span>- <span class=nt>job_name</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;otel-collector&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>scrape_interval</span><span class=p>:</span><span class=w> </span><span class=l>10s</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span><span class=nt>static_configs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>targets</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=s1>&#39;0.0.0.0:8888&#39;</span><span class=p>]</span></span></span></code></pre></div></div></div></div></div><h2 id=example-dashboard---prometheus-metrics>Example Dashboard - Prometheus metrics</h2><p>The following screenshot shows an example dashboard of spme of the metrics the Prometheus internal receiver collects from the OpenTelemetry Collector. Here, we can see accepted and sent spans, metrics and log records.</p><div class="box notices cstyle note"><div class=box-label><i class="fa-fw fas fa-exclamation-circle"></i> Note</div><div class=box-content><p>The following screenshot is an out-of-the-box (OOTB) dashboard from Splunk Observability Cloud that allows you to easily monitor your Splunk OpenTelemetry Collector install base.</p></div></div><p><a href=#R-image-ae9102d650f7d5f24fb26fb0489b5963 class=lightbox-link><img src=../../../../../en/other/opentelemetry-collector/3-receivers/2-prometheus/../../images/otel-charts.png alt=otel-charts class="figure-image noborder lightbox shadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-ae9102d650f7d5f24fb26fb0489b5963><img src=../../../../../en/other/opentelemetry-collector/3-receivers/2-prometheus/../../images/otel-charts.png alt=otel-charts class="lightbox-image noborder lightbox shadow" loading=lazy></a></p><footer class=footline></footer></article></div></main></div><script src=../../../../../js/clipboard.min.js?1698787639 defer></script>
<script src=../../../../../js/perfect-scrollbar.min.js?1698787639 defer></script>
<script src=../../../../../js/theme.js?1698787639 defer></script></body></html>