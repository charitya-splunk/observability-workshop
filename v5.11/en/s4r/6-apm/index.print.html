<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.110.0"><meta name=generator content="Relearn 5.23.0+tip"><meta name=description content="Splunk Observability Workshops"><meta name=author content><meta name=twitter:card content="summary"><meta name=twitter:title content="Splunk APM :: Splunk Observability Cloud Workshops"><meta name=twitter:description content="Splunk Observability Workshops"><meta property="og:title" content="Splunk APM :: Splunk Observability Cloud Workshops"><meta property="og:description" content="Splunk Observability Workshops"><meta property="og:type" content="website"><meta property="og:url" content="https://splunk.github.io/observability-workshop/v5.11/en/s4r/6-apm/index.html"><meta property="og:site_name" content="Splunk Observability Cloud Workshops"><title>Splunk APM :: Splunk Observability Cloud Workshops</title><link href=https://splunk.github.io/observability-workshop/v5.11/en/s4r/6-apm/index.html rel=canonical type=text/html title="Splunk APM :: Splunk Observability Cloud Workshops"><link href=../../../en/s4r/6-apm/index.xml rel=alternate type=application/rss+xml title="Splunk APM :: Splunk Observability Cloud Workshops"><link href=../../../images/favicon.ico?1698787633 rel=icon type=image/x-icon sizes=any><link href=../../../css/fontawesome-all.min.css?1698787638 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=../../../css/fontawesome-all.min.css?1698787638 rel=stylesheet></noscript><link href=../../../css/nucleus.css?1698787638 rel=stylesheet><link href=../../../css/auto-complete.css?1698787638 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=../../../css/auto-complete.css?1698787638 rel=stylesheet></noscript><link href=../../../css/perfect-scrollbar.min.css?1698787638 rel=stylesheet><link href=../../../css/fonts.css?1698787638 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=../../../css/fonts.css?1698787638 rel=stylesheet></noscript><link href=../../../css/theme.css?1698787638 rel=stylesheet><link href=../../../css/theme-auto.css?1698787638 rel=stylesheet id=R-variant-style><link href=../../../css/variant.css?1698787638 rel=stylesheet><link href=../../../css/print.css?1698787638 rel=stylesheet media=print><link href=../../../css/format-print.css?1698787638 rel=stylesheet><link href=../../../css/ie.css?1698787638 rel=stylesheet><script src=../../../js/url.js?1698787638></script>
<script src=../../../js/variant.js?1698787638></script>
<script>window.index_js_url="../../../en/index.search.js";var root_url="../../../",baseUriFull,baseUri=root_url.replace(/\/$/,"");window.T_Copy_to_clipboard="Copy to clipboard",window.T_Copied_to_clipboard="Copied to clipboard!",window.T_Copy_link_to_clipboard="Copy link to clipboard",window.T_Link_copied_to_clipboard="Copied link to clipboard!",window.T_Reset_view="Reset view",window.T_View_reset="View reset!",window.T_No_results_found="No results found for \u0022{0}\u0022",window.T_N_results_found="{1} results found for \u0022{0}\u0022",baseUriFull="https://splunk.github.io/observability-workshop/v5.11/",window.variants&&variants.init(["auto","splunk-light","splunk-dark"])</script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web.js crossorigin=anonymous></script>
<script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web-session-recorder.js crossorigin=anonymous></script>
<script>SplunkRum.init({beaconUrl:"https://rum-ingest.eu0.signalfx.com/v1/rum",rumAuth:"EDIbCJR4LlxWdXMLjkYX1g",app:"observability-workshop",version:"1",environment:"observability-workshop-env"}),SplunkSessionRecorder.init({beaconUrl:"https://rum-ingest.eu0.signalfx.com/v1/rumreplay",rumAuth:"EDIbCJR4LlxWdXMLjkYX1g"})</script><style>@media screen and (min-width:1500px){#R-body .flex-block-wrapper{margin-left:auto;margin-right:auto;max-width:1500px;width:100%}}</style></head><body class="mobile-support print disableInlineCopyToClipboard" data-url=../../../en/s4r/6-apm/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)">
<i class="fa-fw fas fa-bars"></i></button></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=../../../en/index.html><span itemprop=name>Splunk Observability Workshops</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=../../../en/s4r/index.html><span itemprop=name>Splunk4Rookies - Observability</span></a><meta itemprop=position content="2">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>Splunk APM</span><meta itemprop=position content="3"></li></ol><div class="topbar-area topbar-area-end" data-area=end></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=splunk-apm>Splunk APM</h1><p>Splunk APM provides a <strong>NoSample™</strong> end-to-end visibility of every service and its dependency to solve problems quicker across monoliths and microservices. Teams can immediately detect problems from new deployments, confidently troubleshoot by scoping and isolating the source of an issue, and optimize service performance by understanding how backend services impact end users and business workflows.</p><p><strong>Real-time monitoring and alerting:</strong> Splunk provides a 10 second resolution on metrics to detect and alert on issues when they happen.<br><strong>Dynamic telemetry maps:</strong> Easily visualize service performance in modern production environments in real time. End-to-end visibility of service performance from infrastructure, applications, end users, and all dependencies helps quickly scope new issues and troubleshoot more effectively.<br><strong>Intelligent tagging and analysis:</strong> View all tags from your business, infrastructure and applications in one place to easily compare new trends in latency or errors to their specific tag values.<br><strong>AI-directed troubleshooting identifies the most impactful issues:</strong> Instead of manually digging through individual dashboards, isolate problems more efficiently. Automatically identify anomalies and the sources of errors that impact services and customers the most.<br><strong>Complete distributed tracing analyses every transaction:</strong> Identify problems in your cloud native environment more effectively. Splunk distributed tracing visualizes and correlates every transaction from the backend and frontend in context with your infrastructure, business workflows and applications.<br><strong>Full stack correlation:</strong> Within Splunk Observability, APM links traces, metrics, logs and profiling together to easily understand the performance of every component and its dependency across your stack.<br><strong>Monitor database query performance:</strong> Easily identify how slow and high execution queries from SQL and NoSQL databases impact your services, endpoints and business workflows — no instrumentation required.</p><p><a href=#R-image-83f9b9fca3f9aa7f932cda2c3c0c7285 class=lightbox-link><img src="../../../en/s4r/6-apm/images/arch-overview.png?width=40vw" alt="Architecture Overview" class="figure-image noborder lightbox shadow" style=height:auto;width:40vw loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-83f9b9fca3f9aa7f932cda2c3c0c7285><img src="../../../en/s4r/6-apm/images/arch-overview.png?width=40vw" alt="Architecture Overview" class="lightbox-image noborder lightbox shadow" loading=lazy></a></p><footer class=footline></footer></article><section><h1 class=a11y-only>Subsections of Splunk APM</h1><article class=default><header class=headline></header><h1 id=traces-and-spans-explained>Traces and Spans Explained</h1><p>A trace is a collection of spans that share the same trace ID, representing a unique transaction handled by your application and its constituent services.</p><p><a href=#R-image-8ec0a4fee88a81ddb111b5fbd2a37d14 class=lightbox-link><img src="../../../en/s4r/6-apm/step1/../images/trace-spans.png?width=40vw" alt="Traces and Spans" class="figure-image noborder lightbox shadow" style=height:auto;width:40vw loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-8ec0a4fee88a81ddb111b5fbd2a37d14><img src="../../../en/s4r/6-apm/step1/../images/trace-spans.png?width=40vw" alt="Traces and Spans" class="lightbox-image noborder lightbox shadow" loading=lazy></a></p><p>Each span has a name, representing the operation captured by this span, and a service name, representing within which service the operation took place.</p><p>Additionally, spans may reference another span as their parent, defining the relationships between the operations captured in the trace that were performed to process that transaction.</p><p>Each span contains a lot of information about the method, operation, or block of code that it captures, including:</p><ul><li>The operation name.</li><li>The start time of the operation with microsecond precision.</li><li>How long the operation took to execute, also with microsecond precision.</li><li>The logical name of the service on which the operation took place.</li><li>The IP address of the service instance on which the operation took place.</li></ul><p>Hover over the APM link</p><p><a href=#R-image-b99a48c55b535da996565902eb3efb1b class=lightbox-link><img src=../../../en/s4r/6-apm/step1/../images/trace-preview.png alt="APM link preview" class="figure-image noborder lightbox shadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-b99a48c55b535da996565902eb3efb1b><img src=../../../en/s4r/6-apm/step1/../images/trace-preview.png alt="APM link preview" class="lightbox-image noborder lightbox shadow" loading=lazy></a></p><p>This is where the end to end value of the Splunk Observability Cloud starts to show. We can hover over this APM link to reveal some quick, at a glance, info about what’s happening on the backend.</p><p>This performance summary is clearly showing two actionable things:</p><ol><li>Time is being spent in the app (not db, network, or external); and</li><li>There are errors occurring in these back-end services, and I can see precisely which service is producing the “root cause” for this particular trace (in this case the payment service in dark red).</li></ol><p>To dig further, I can explore two different paths, depending on the questions I want to ask.</p><p>Let’s explore both to understand why I might want to do one or the other.</p><p>Click on the Workflow Name “frontend:/cart/checkout” or open both links in new tabs</p><p><a href=#R-image-eafed3b3aea542eb035933afcc1ae0cb class=lightbox-link><img src=../../../en/s4r/6-apm/step1/../images/preview-workflow.png alt="Workflow link to APM" class="figure-image noborder lightbox shadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-eafed3b3aea542eb035933afcc1ae0cb><img src=../../../en/s4r/6-apm/step1/../images/preview-workflow.png alt="Workflow link to APM" class="lightbox-image noborder lightbox shadow" loading=lazy></a></p><p>Viewing the service map</p><p><a href=#R-image-d1f4a686542964aa514e2854f7e7f281 class=lightbox-link><img src=../../../en/s4r/6-apm/step1/../images/map.png alt="APM service map with largest errors shown on paymentservice bubble" class="figure-image noborder lightbox shadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-d1f4a686542964aa514e2854f7e7f281><img src=../../../en/s4r/6-apm/step1/../images/map.png alt="APM service map with largest errors shown on paymentservice bubble" class="lightbox-image noborder lightbox shadow" loading=lazy></a></p><p>The service map confirms what we saw earlier, that the issues at this particular time are coming from the paymentservice. We can also see that it is relying on a external service.</p><p>We can use a capability called “Tag Spotlight” to understand if there is anything notable about these erroneous transactions.</p><p>Click on the paymentservice circle, and then click on “Tag Spotlight” on the right</p><p><a href=#R-image-7273c560a589f5f4f4c7a5f12b76a0c6 class=lightbox-link><img src=../../../en/s4r/6-apm/step1/../images/paymentservice.png alt="Service map with paymentservice selected and Tag Spotlight link" class="figure-image noborder lightbox shadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-7273c560a589f5f4f4c7a5f12b76a0c6><img src=../../../en/s4r/6-apm/step1/../images/paymentservice.png alt="Service map with paymentservice selected and Tag Spotlight link" class="lightbox-image noborder lightbox shadow" loading=lazy></a></p><p>Tag Spotlight is a powerful capability in Splunk Observability Cloud that helps us make sense of the unique transactions flowing through our application.</p><p>Tags can be indexed, both on the service where they originate, as well as globally (covering the entire transaction), to help developers understand more about a subset of the transactions that are occurring.</p><p>Point out the tenant level and version</p><p><a href=#R-image-ace13f39553b8d8500d5866a33ae3ea1 class=lightbox-link><img src=../../../en/s4r/6-apm/step1/../images/tags.png alt="Tenant level and version tags showing relevant requests and errors" class="figure-image noborder lightbox shadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-ace13f39553b8d8500d5866a33ae3ea1><img src=../../../en/s4r/6-apm/step1/../images/tags.png alt="Tenant level and version tags showing relevant requests and errors" class="lightbox-image noborder lightbox shadow" loading=lazy></a></p><p>At a glance we can see that the different kinds of customers (gold, bronze, and silver) are all similarly impacted, but the new version of our code (v350.10) has 100% of the errors.</p><p>In many investigations we might filter on some of these tags to narrow our view, but we have a pretty good picture already of what’s going on.</p><p>Click on one of the higher peaks, on the errors line, to get exemplars with errors</p><p><a href=#R-image-669706989dd5f5ae4017b9860349c261 class=lightbox-link><img src=../../../en/s4r/6-apm/step1/../images/examples.png alt="Example traces with relevant errors" class="figure-image noborder lightbox shadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-669706989dd5f5ae4017b9860349c261><img src=../../../en/s4r/6-apm/step1/../images/examples.png alt="Example traces with relevant errors" class="lightbox-image noborder lightbox shadow" loading=lazy></a></p><p>Now I can look at some of the specific traces that have errors, to understand precisely what happened.</p><p>Click on a trace that has root (solid red) errors on the paymentservice</p><p><a href=#R-image-ffd4fbd8b1a9b2c872f2eaceff763785 class=lightbox-link><img src=../../../en/s4r/6-apm/step1/../images/trace.png alt="Trace detail showing multiple paymentservice requests with errors" class="figure-image noborder lightbox shadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-ffd4fbd8b1a9b2c872f2eaceff763785><img src=../../../en/s4r/6-apm/step1/../images/trace.png alt="Trace detail showing multiple paymentservice requests with errors" class="lightbox-image noborder lightbox shadow" loading=lazy></a></p><p>Now I’m starting to get a good picture of what’s going on. This checkout process is making an API call to an external service over and over again and failing.</p><p>I’d like to look at the logs to see precisely what the error is.</p><footer class=footline></footer></article></section></div></main></div><script src=../../../js/clipboard.min.js?1698787639 defer></script>
<script src=../../../js/perfect-scrollbar.min.js?1698787639 defer></script>
<script src=../../../js/theme.js?1698787639 defer></script></body></html>