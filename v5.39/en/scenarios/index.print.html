<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.119.0"><meta name=generator content="Relearn 5.23.2+tip"><meta name=description content="Splunk Observability Workshops"><meta name=author content><meta name=twitter:card content="summary"><meta name=twitter:title content="Scenarios :: Splunk Observability Cloud Workshops"><meta name=twitter:description content="Splunk Observability Workshops"><meta property="og:title" content="Scenarios :: Splunk Observability Cloud Workshops"><meta property="og:description" content="Splunk Observability Workshops"><meta property="og:type" content="website"><meta property="og:url" content="https://splunk.github.io/observability-workshop/v5.39/en/scenarios/index.html"><meta property="og:site_name" content="Splunk Observability Cloud Workshops"><title>Scenarios :: Splunk Observability Cloud Workshops</title><link href=https://splunk.github.io/observability-workshop/v5.39/en/scenarios/index.html rel=canonical type=text/html title="Scenarios :: Splunk Observability Cloud Workshops"><link href=../../en/scenarios/index.xml rel=alternate type=application/rss+xml title="Scenarios :: Splunk Observability Cloud Workshops"><link href=../../images/favicon.ico?1707220482 rel=icon type=image/x-icon sizes=any><link href=../../css/fontawesome-all.min.css?1707220489 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=../../css/fontawesome-all.min.css?1707220489 rel=stylesheet></noscript><link href=../../css/nucleus.css?1707220489 rel=stylesheet><link href=../../css/auto-complete.css?1707220489 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=../../css/auto-complete.css?1707220489 rel=stylesheet></noscript><link href=../../css/perfect-scrollbar.min.css?1707220489 rel=stylesheet><link href=../../css/fonts.css?1707220489 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=../../css/fonts.css?1707220489 rel=stylesheet></noscript><link href=../../css/theme.css?1707220489 rel=stylesheet><link href=../../css/theme-splunk-light.css?1707220489 rel=stylesheet id=R-variant-style><link href=../../css/variant.css?1707220489 rel=stylesheet><link href=../../css/print.css?1707220489 rel=stylesheet media=print><link href=../../css/format-print.css?1707220489 rel=stylesheet><link href=../../css/ie.css?1707220489 rel=stylesheet><script src=../../js/url.js?1707220489></script>
<script src=../../js/variant.js?1707220489></script>
<script>window.index_js_url="../../en/index.search.js";var root_url="../../",baseUri=root_url.replace(/\/$/,"");window.relearn=window.relearn||{},window.relearn.baseUriFull="https://splunk.github.io/observability-workshop/v5.39/",window.variants&&variants.init(["splunk-light","splunk-dark"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web.js crossorigin=anonymous></script>
<script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web-session-recorder.js crossorigin=anonymous></script>
<script>SplunkRum.init({beaconUrl:"https://rum-ingest.eu0.signalfx.com/v1/rum",rumAuth:"EDIbCJR4LlxWdXMLjkYX1g",app:"observability-workshop",version:"1",environment:"observability-workshop-env"}),SplunkSessionRecorder.init({beaconUrl:"https://rum-ingest.eu0.signalfx.com/v1/rumreplay",rumAuth:"EDIbCJR4LlxWdXMLjkYX1g"})</script><style>@media screen and (min-width:1000px){#R-body .flex-block-wrapper{margin-left:auto;margin-right:auto;max-width:1400px;width:100%}}:root{--MENU-WIDTH-L:22.5rem}</style></head><body class="mobile-support print disableInlineCopyToClipboard" data-url=../../en/scenarios/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)">
<i class="fa-fw fas fa-bars"></i></button></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=../../en/index.html><span itemprop=name>Splunk Observability Workshops</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>Scenarios</span><meta itemprop=position content="2"></li></ol><div class="topbar-area topbar-area-end" data-area=end></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=scenarios>Scenarios</h1><div class="children children-h5 children-sort-"><h5><a href=../../en/scenarios/1-consolidate-visability/index.html>Consolidate Visibility</a></h5><p>TBD</p><h5><a href=../../en/scenarios/2-debug-problems/index.html>Debug Problems</a></h5><p>Details TBD
Workshops :
Splunk4rookies - Observability APM Auto instrumentation - Java Based or APM Auto instrumentation -Node Based Improve MTTR With Custom Tags - Java based</p><h5><a href=../../en/scenarios/3-optimize-end-user-experiences/index.html>Optimizing End User Experiences</a></h5><p>How we can use Splunk Observability to get insight into end user experience and proactively test scenarios to improve that experience.
Sections: RUM Synthetics Dashboard charts Detectors</p><h5><a href=../../en/scenarios/4-self-service-observability/index.html>Self-Service Observability</a></h5><p>TBD</p><h5><a href=../../en/scenarios/5-understand-impact/index.html>Understand Impact</a></h5><p>2 minutes AuthorsDerek Mitchell
Splunk Observability Cloud includes powerful features that dramatically reduce the time required for SREs to isolate issues across services, so they know which team to engage to troubleshoot the issue further, and can provide context to help engineering get a head start on debugging.
Unlocking these features requires tags to be included with your application traces. But how do you know which tags are the most valuable and how do you capture them?</p></div><footer class=footline></footer></article><section><h1 class=a11y-only>Subsections of Scenarios</h1><article class=chapter><header class=headline></header><div class=article-subheading>Chapter 1</div><h1 id=consolidate-visibility>Consolidate Visibility</h1><p>TBD</p><footer class=footline></footer></article><article class=chapter><header class=headline></header><div class=article-subheading>Chapter 2</div><h1 id=debug-problems>Debug Problems</h1><p>Details TBD</p><p>Workshops :</p><ul><li><a href=https://splunk.github.io/observability-workshop/latest/en/s4r/index.html target=_blank>Splunk4rookies - Observability</a></li><li><a href=https://splunk.github.io/observability-workshop/latest/en/other/3-auto-instrumentation/3-java-microservices-pet-clinic/ target=_blank>APM Auto instrumentation - Java Based</a>
or</li><li><a href=https://splunk.github.io/observability-workshop/latest/en/other/3-auto-instrumentation/2-nodejs/index.html target=_blank>APM Auto instrumentation -Node Based</a></li><li><a href=https://splunk.github.io/observability-workshop/latest//en/other/7-mttr-custom-tags/ target=_blank>Improve MTTR With Custom Tags - Java based</a></li></ul><footer class=footline></footer></article><section><h1 class=a11y-only>Subsections of Debug Problems</h1><article class=default><header class=headline></header><h1 id=build-the-sample-application>Build the Sample Application</h1><span class="badge cstyle default badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content style=background-color:#ed0090>10 minutes</span></span><h2 id=introduction>Introduction</h2><p>For this workshop, we&rsquo;ll be using a Java-based application called <code>The Door Game</code>. It will be hosted in Kubernetes.</p><h2 id=pre-requisites>Pre-requisites</h2><p>You will start with an EC2 instance and perform some <a href=#initial-steps>initial steps</a> in order to get to the following state:</p><ul><li>Install Kubernetes (k3s) and Docker</li><li>Deploy the <strong>Splunk distribution of the OpenTelemetry Collector</strong></li><li>Build and deploy the <code>doorgame</code> application container</li></ul><h2 id=initial-steps>Initial Steps</h2><p>The initial setup can be completed by executing the following steps on the command line of your EC2 instance.</p><p>You&rsquo;ll be asked to enter a name for your environment. Please use <code>profiling-workshop-yourname</code> (where <code>yourname</code> is replaced by your actual name).</p><div class="wrap-code highlight"><pre tabindex=0><code>cd workshop/profiling

./1-docker-setup.sh

# Exit and ssh back to this instance

# return to the same directory as before 
cd workshop/profiling

# ensure Docker is running 
sudo systemctl start docker

./2-deploy-otel-collector.sh
./3-deploy-doorgame.sh</code></pre></div><h2 id=lets-play-the-door-game>Let&rsquo;s Play The Door Game!</h2><p>Now that the application is deployed, let&rsquo;s play with it and generate some observability data.</p><p>Get the external IP address for your application instance using the following command:</p><div class="wrap-code highlight"><pre tabindex=0><code>kubectl describe svc doorgame | grep &#34;LoadBalancer Ingress&#34;</code></pre></div><p>The output should look like the following:</p><div class="wrap-code highlight"><pre tabindex=0><code>LoadBalancer Ingress:     52.23.184.60</code></pre></div><p>You should be able to access The Door Game application by pointing your browser to port 81 of the provided IP address. For example:</p><div class="wrap-code highlight"><pre tabindex=0><code>http://52.23.184.60:81</code></pre></div><p>You should be met with The Door Game intro screen:</p><p><a href=#R-image-6c277ac391aad6238257485e4e4e37cf class=lightbox-link><img src=../../en/scenarios/2-debug-problems/1-build-application/../images/door_game_initial_screen.png alt="Door Game Welcome Screen" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-6c277ac391aad6238257485e4e4e37cf><img src=../../en/scenarios/2-debug-problems/1-build-application/../images/door_game_initial_screen.png alt="Door Game Welcome Screen" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Click <code>Let's Play</code> then choose a door:</p><p><a href=#R-image-ff5b026cf02ed20be44d8d35deb74892 class=lightbox-link><img src=../../en/scenarios/2-debug-problems/1-build-application/../images/door_game_choose_door.png alt="Door Game Choose Door Screen" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-ff5b026cf02ed20be44d8d35deb74892><img src=../../en/scenarios/2-debug-problems/1-build-application/../images/door_game_choose_door.png alt="Door Game Choose Door Screen" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Play through a couple of times to get the feel for the application flow&mldr; and then play many times to ensure there are enough spans to create usable Profiling data&mldr;</p><h2 id=view-your-application-in-splunk-observability-cloud>View your application in Splunk Observability Cloud</h2><p>Now that the setup is complete, let&rsquo;s confirm that it&rsquo;s sending data to <strong>Splunk Observability Cloud</strong>. Note that when the application is deployed for the first time, it may take a few minutes for the data to appear.</p><p>Navigate to APM, then use the Environment dropdown to select your environment (i.e. <code>profiling-workshop-name</code>).</p><p>If everything was deployed correctly, you should see <code>doorgame</code> displayed in the list of services:</p><p><a href=#R-image-a7502fada60f99bd619e1048d95955be class=lightbox-link><img src=../../en/scenarios/2-debug-problems/1-build-application/../images/apm_overview.png alt="APM Overview" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-a7502fada60f99bd619e1048d95955be><img src=../../en/scenarios/2-debug-problems/1-build-application/../images/apm_overview.png alt="APM Overview" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Click on <strong>Explore</strong> on the right-hand side to view the service map. We should the <code>doorgame</code> application on the service map:</p><p><a href=#R-image-290a75e51affe274b53a770d2df34665 class=lightbox-link><img src=../../en/scenarios/2-debug-problems/1-build-application/../images/service_map.png alt="Service Map" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-290a75e51affe274b53a770d2df34665><img src=../../en/scenarios/2-debug-problems/1-build-application/../images/service_map.png alt="Service Map" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Next, click on <strong>Traces</strong> on the right-hand side to see the traces captured for this application. You&rsquo;ll see that some traces run relatively fast (i.e. just a few milliseconds), whereas others take a few seconds.</p><p><a href=#R-image-f456e01acf85850e2f591291ab94b92a class=lightbox-link><img src=../../en/scenarios/2-debug-problems/1-build-application/../images/traces.png alt=Traces class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-f456e01acf85850e2f591291ab94b92a><img src=../../en/scenarios/2-debug-problems/1-build-application/../images/traces.png alt=Traces class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=enable-cpu-profiling>Enable CPU Profiling</h1><p>Let&rsquo;s learn how to enable the CPU profiler, verify its operation,
and use the results in Splunk Observability Cloud to find out why our application sometimes runs slowly.</p><h3 id=update-the-application-configuration>Update the application configuration</h3><p>We will need to pass an additional configuration argument to the Splunk OpenTelemetry Java agent in order to
enable the profiler. The configuration is <a href=https://docs.splunk.com/observability/en/gdi/get-data-in/application/java/instrumentation/instrument-java-application.html#activate-alwayson-profiling target=_blank>documented here</a>
in detail, but for now we just need one single setting:</p><p><code>SPLUNK_PROFILER_ENABLED="true"</code></p><p>Since our application is deployed in Kubernetes, we can update the Kubernetes manifest file to set this environment variable. Open the <code>doorgame/doorgame.yaml</code> file for editing, and ensure the value of the <code>SPLUNK_PROFILER_ENABLED</code> environment variable is set to &ldquo;true&rdquo;:</p><div class="wrap-code highlight"><pre tabindex=0><code>- name: SPLUNK_PROFILER_ENABLED
  value: &#34;true&#34;</code></pre></div><p>Next, let&rsquo;s redeploy the Door Game application by running the following command:</p><div class="wrap-code highlight"><pre tabindex=0><code>cd workshop/profiling
./4-redeploy-doorgame.sh</code></pre></div><p>After a few minutes, a new pod will be deployed with the updated application settings.</p><h3 id=confirm-operation>Confirm operation</h3><p>To ensure the profiler is enabled, let&rsquo;s review the application logs with the following commands:</p><div class="wrap-code highlight"><pre tabindex=0><code>kubectl logs -l app=doorgame --tail=100 | grep JfrActivator</code></pre></div><p>You should see a line in the application log output that shows the profiler is active:</p><div class="wrap-code highlight"><pre tabindex=0><code>[otel.javaagent 2024-02-05 19:01:12:416 +0000] [main] INFO com.splunk.opentelemetry.profiler.JfrActivator - Profiler is active.```</code></pre></div><p>This confirms that the profiler is enabled and sending data to the OpenTelemetry collector deployed in our Kubernetes cluster, which in turn sends profiling data to Splunk Observability Cloud.</p><h3 id=profiling-in-apm>Profiling in APM</h3><p>Visit <code>http://&lt;your IP address>:81</code> and play a few more rounds of The Door Game.</p><p>Then head on over to Splunk Observability Cloud, click on APM,
and click on the <code>doorgame</code> service at the bottom of the screen.</p><p>In the rightmost column you should see the &ldquo;AlwaysOn Profiling&rdquo;
card that looks similar to this:</p><p><a href=#R-image-aafa86b0445a6e16bd895f87b9a9194f class=lightbox-link><img src=../../en/scenarios/2-debug-problems/2-enable-cpu-profiling/../images/always-on-profiling.png alt="AlwaysOn Profiling" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-aafa86b0445a6e16bd895f87b9a9194f><img src=../../en/scenarios/2-debug-problems/2-enable-cpu-profiling/../images/always-on-profiling.png alt="AlwaysOn Profiling" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Click the card title to go to the AlwaysOn Profiling view. It will look something
like this:</p><p><a href=#R-image-43250c6d80c1809fc90c03a64eca1043 class=lightbox-link><img src=../../en/scenarios/2-debug-problems/2-enable-cpu-profiling/../images/flamegraph_and_table.png alt="Flamegraph and table" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-43250c6d80c1809fc90c03a64eca1043><img src=../../en/scenarios/2-debug-problems/2-enable-cpu-profiling/../images/flamegraph_and_table.png alt="Flamegraph and table" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>By default, we show both the table and <a href=https://www.brendangregg.com/flamegraphs.html target=_blank>flamegraph</a>.
Take some time to explore this view by doing some of the following:</p><ul><li>toggle between flamegraph and table views</li><li>click a table item and notice the change in flamegraph</li><li>navigate the flamegraph by clicking on a stack frame to zoom in, and a parent frame to zoom out</li><li>add a search term like <code>splunk</code> or <code>jetty</code> to highlight some matching stack frames</li></ul><p>We should note that the sample app is greatly underutilized and most of the time
is spent waiting for user input and service requests. As a result, the flame graph
should be somewhat less interesting than a high-volume, real-world production service.</p><h3 id=traces-with-call-stacks>Traces with Call Stacks</h3><p>Now that we&rsquo;ve seen the profiling view, let&rsquo;s go back to the trace list view. We want to find a
trace that was long enough so that we increase the chance of having sampled call stacks.
If you haven&rsquo;t already, you should play The Door Game enough to stick with door 3
(either by choosing it initially and staying, or choosing another door and switching when given the chance).
You&rsquo;ll notice that it&rsquo;s slow, and it should show up at around 5s in the trace list view:</p><p><a href=#R-image-84c5fb1c30da069660e4aacbc31f4b98 class=lightbox-link><img src=../../en/scenarios/2-debug-problems/2-enable-cpu-profiling/../images/slow_trace.png alt="Slow Trace" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-84c5fb1c30da069660e4aacbc31f4b98><img src=../../en/scenarios/2-debug-problems/2-enable-cpu-profiling/../images/slow_trace.png alt="Slow Trace" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Identify the slow trace in the trace list view and click it to view the
individual trace. In the single trace view, you should see that the innermost span
<code>DoorGame.getOutcome</code> is responsible for the entire slow duration of the span.
There should be 2 call stacks sampled during the execution of that span.</p><p><a href=#R-image-bbed99edcbac5285b64620a5008cc69e class=lightbox-link><img src=../../en/scenarios/2-debug-problems/2-enable-cpu-profiling/../images/span_with_stacks.png alt="Span with Stacks" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-bbed99edcbac5285b64620a5008cc69e><img src=../../en/scenarios/2-debug-problems/2-enable-cpu-profiling/../images/span_with_stacks.png alt="Span with Stacks" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>If you&rsquo;re up for the challenge, expand the span and explore the Java stack frames on your own
before we tackle it in the next section.</p><h2 id=what-did-we-accomplish>What did we accomplish?</h2><p>We&rsquo;ve come a long way already!</p><ul><li>We learned how to enable the profiler in the Splunk OpenTelemetry Java instrumentation agent.</li><li>We learned how to verify in the agent output that the profiler is enabled.</li><li>We have explored several profiling related workflows in APM:<ul><li>How to navigate to AlwaysOn Profiling from the troubleshooting view</li><li>How to explore the flamegraph and method call duration table through navigation and filtering</li><li>How to identify when a span has sampled call stacks associated with it</li></ul></li></ul><p>In the next section, we&rsquo;ll explore the profiling data further to determine what&rsquo;s causing the slowness, and then apply a fix to our application to resolve the issue.</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=find-and-fix-application-slowness>Find and Fix Application Slowness</h1><p>In this section, we pick up where we left off last time.
We will use the profiling tool to explore our slow span and link it
back to the source code that caused the slowness. We will update the code to improve
the performance of this span, and we will use the APM profiling tools to verify
that our change is successful.</p><h3 id=exploring-the-span>Exploring the Span</h3><p>At the end of the previous section, we have identified a span that was taking more
than 5 seconds to complete. We observed that the span showed that it was linked
to 2 or more sampled call stacks. Let&rsquo;s proceed by clicking on the span to expand its details.</p><p><a href=#R-image-e4890502e469221fefa4ff8888bfa5ab class=lightbox-link><img src=../../en/scenarios/2-debug-problems/3-find-and-fix-slowness/../images/view_stack_on_span.png alt="View Stack on Span" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-e4890502e469221fefa4ff8888bfa5ab><img src=../../en/scenarios/2-debug-problems/3-find-and-fix-slowness/../images/view_stack_on_span.png alt="View Stack on Span" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>When a span does not have CPU call stack data, we would normally just see the span details.
(you can drill into the parent stack to see this in action). When we expand the child span, however,
we have the option to see &ldquo;CPU Call Stack&rdquo; data as well.</p><p>At the bottom of the call stack, we can see that the thread was busy sleeping:</p><div class="wrap-code highlight"><pre tabindex=0><code>com.splunk.profiling.workshop.ServiceMain$$Lambda$.handle(Unknown Source:0)
com.splunk.profiling.workshop.ServiceMain.lambda$main$(ServiceMain.java:34)
com.splunk.profiling.workshop.DoorGame.getOutcome(DoorGame.java:41)
com.splunk.profiling.workshop.DoorChecker.isWinner(DoorChecker.java:14)
com.splunk.profiling.workshop.DoorChecker.checkDoorTwo(DoorChecker.java:30)
com.splunk.profiling.workshop.DoorChecker.precheck(DoorChecker.java:36)
com.splunk.profiling.workshop.Util.sleep(Util.java:9)
java.util.concurrent.TimeUnit.sleep(Unknown Source:0)
java.lang.Thread.sleep(Unknown Source:0)
java.lang.Thread.sleep(Native Method:0)</code></pre></div><p>The call stack tells us a story &ndash; reading from the bottom up, it lets us describe
what is happening inside the service code. A developer, even one unfamiliar with the
source code, should be able to look at this call stack to craft a narrative like:</p><blockquote><p>We are getting the outcome of a game. We leverage the DoorChecker to
see if something is the winner, but the check for door two somehow issues
a precheck() that, for some reason, is deciding to sleep for a long time.</p></blockquote><p>Our workshop application is left intentionally simple &ndash; a real-world service might see the
thread being sampled during a database call or calling into an un-traced external service.
It is also possible that a slow span is executing a complicated business process,
in which case maybe none of the stack traces relate to each other at all.</p><p>The longer a method or process is, the greater chance we will have call stacks
sampled during its execution.</p><h3 id=lets-fix-that-bug>Let&rsquo;s Fix That Bug</h3><p>By using the profiling tool, we were able to determine that our application is slow
when issuing the <code>DoorChecker.precheck()</code> method from inside <code>DoorChecker.checkDoorTwo()</code>.
Let&rsquo;s open the <code>doorgame/src/main/java/com/splunk/profiling/workshop/DoorChecker.java</code> source file in our editor.</p><p>By quickly glancing through the file, we see that there are methods for checking
each door, and all of them call <code>precheck()</code>. In a real service, we might be uncomfortable
simply removing the <code>precheck()</code> call because there could be unseen/unaccounted side
effects.</p><p>Down on line 29 we see the following:</p><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl>    <span class=kd>private</span> <span class=kt>boolean</span> <span class=nf>checkDoorTwo</span><span class=o>(</span><span class=n>GameInfo</span> <span class=n>gameInfo</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>precheck</span><span class=o>(</span><span class=mi>2</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>gameInfo</span><span class=o>.</span><span class=na>isWinner</span><span class=o>(</span><span class=mi>2</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=kd>private</span> <span class=kt>void</span> <span class=nf>precheck</span><span class=o>(</span><span class=kt>int</span> <span class=n>doorNum</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=kt>long</span> <span class=n>extra</span> <span class=o>=</span> <span class=o>(</span><span class=kt>int</span><span class=o>)</span><span class=n>Math</span><span class=o>.</span><span class=na>pow</span><span class=o>(</span><span class=mi>70</span><span class=o>,</span> <span class=n>doorNum</span><span class=o>);</span>
</span></span><span class=line><span class=cl>        <span class=n>sleep</span><span class=o>(</span><span class=mi>300</span> <span class=o>+</span> <span class=n>extra</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span></span></span></code></pre></div><p>With our developer hat on, we notice that the door number is zero based, so
the first door is 0, the second is 1, and the 3rd is 2 (this is conventional).
The <code>extra</code> value is used as extra/additional sleep time, and it is computed by taking
<code>70^doorNum</code> (<code>Math.pow</code> performs an exponent calculation). That&rsquo;s odd, because this means:</p><ul><li>door 0 => 70^0 => 1ms</li><li>door 1 => 70^1 => 70ms</li><li>door 2 => 70^2 => 4900ms</li></ul><p>We&rsquo;ve found the root cause of our slow bug! This also explains why the first two doors
weren&rsquo;t ever very slow.</p><p>We have a quick chat with our product manager and team lead, and we agree that the <code>precheck()</code>
method must stay but that the extra padding isn&rsquo;t required. Let&rsquo;s remove the <code>extra</code> variable
and make <code>precheck</code> now read like this:</p><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl>    <span class=kd>private</span> <span class=kt>void</span> <span class=nf>precheck</span><span class=o>(</span><span class=kt>int</span> <span class=n>doorNum</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=n>sleep</span><span class=o>(</span><span class=mi>300</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span></span></span></code></pre></div><p>Now all doors will have a consistent behavior. Save your work and then rebuild and redeploy the application using the following command:</p><div class="wrap-code highlight"><pre tabindex=0><code>cd workshop/profiling
./4-redeploy-doorgame.sh</code></pre></div><p>Once the application has been redeployed successfully, visit The Door Game again to confirm that your fix is in place:
<code>http://&lt;your IP address>:81</code></p><h2 id=what-did-we-accomplish>What did we accomplish?</h2><ul><li>We learned how to view a series of call stacks captured during a Span.</li><li>We learned how the call stack can tell us a story and point us to suspect lines of code.</li><li>We identified the slow code and fixed it to make it faster.</li></ul><p>In the next section, we&rsquo;ll explore how to enable the memory profiling component of AlwaysOn Profiling, which can tell us which objects are consuming the most heap memory.</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=enable-memory-profiling>Enable Memory Profiling</h1><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=find-and-fix-memory-issues>Find and Fix Memory Issues</h1><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=find-and-fix-database-issues>Find and Fix Database Issues</h1><footer class=footline></footer></article></section><article class=chapter><header class=headline></header><div class=article-subheading>Chapter 3</div><h1 id=optimizing-end-user-experiences>Optimizing End User Experiences</h1><p>How we can use Splunk Observability to get insight into end user experience and proactively test scenarios to improve that experience.</p><p>Sections:
RUM
Synthetics
Dashboard charts
Detectors</p><footer class=footline></footer></article><section><h1 class=a11y-only>Subsections of Optimizing End User Experiences</h1><article class=default><header class=headline></header><h1 id=frontend-dashboards>Frontend Dashboards</h1><p>Provide a dashboard group for the workshop.</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=detectors>Detectors</h1><p>OOTB per app or test
Chart-based</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=splunk-rum>Splunk RUM</h1><p>Splunk RUM is the industry’s only end-to-end, full-fidelity Real User Monitoring solution. It is built to optimize performance and aid in faster troubleshooting, giving you full visibility into end-user experiences.</p><p>Splunk RUM allows you to identify performance problems in your Web and or Mobile applications that impact the customer experience. We support benchmarking and measuring page performance with core web vitals. This includes but is not limited to W3C timings, the ability to identify long-running tasks, along with anything that can impact your page load.</p><p>With Splunk’s end-to-end monitoring capabilities, you can view the latency between all of the services that make up your application, from the service itself through to infrastructure metrics such as database calls and everything in between.
Our full-fidelity end-to-end monitoring solution captures 100% of your span data. We do not sample, we are framework agnostic and Open Telemetry standardized.</p><p>More often than not we find that the frontend and backend application&rsquo;s performance are interdependent. Fully understanding and being able to visualize the link between your backend services and your user experience is increasingly important.
To see the full picture, Splunk RUM provides a seamless correlation between our front-end and back-end microservices. If your users are experiencing less than optimal conditions on your web-based application due to an issue related to your microservice or infrastructure, Splunk will be able to detect this issue and alert you.</p><p>To complete the picture and offer full visibility, Splunk is also able to show in-context logs and events to enable deeper troubleshooting and root-cause analysis.</p><p><a href=#R-image-cce959a9b3b9dd3378e0a61c420aed37 class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/images/rum-architecture.png alt="Architecture Overview" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-cce959a9b3b9dd3378e0a61c420aed37><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/images/rum-architecture.png alt="Architecture Overview" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><footer class=footline></footer></article><section><h1 class=a11y-only>Subsections of Splunk RUM</h1><article class=default><header class=headline></header><h1 id=1-overview>1. Overview</h1><h2 id=overview-of-the-rum-workshop>Overview of the RUM Workshop</h2><p>The aim of this Splunk Real User Monitoring (RUM) workshop is to let you:</p><ul><li><p>Shop for some fantastic items on the Online Boutique to create traffic, and create a number of RUM User Sessions<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup> that you can view in the Splunk Observability Suite.</p></li><li><p>See an overview of the performance of all your application(s) in the Application Summary Dashboard (Both Mobile and Web based)</p></li><li><p>Examine the performance of a specific website or Mobile App with RUM metrics.</p></li><li><p>Investigate issues with your website and backend services.</p></li><li><p>(Optionally) See how to add RUM to your website.</p></li></ul><p>In order to reach this goal, we will use an online boutique to order various products. Whilst shopping on the online boutique you will create what is called a User Session.</p><p>You may encounter some issues with this web site, and you will use Splunk RUM to identify the issues, so they can be resolved by the developers.</p><p>If this a standalone RUM workshop, the workshop host will provide you with a URL for an online boutique store that has RUM enabled.</p><p>Each of these Online Boutiques are also being visited by a few synthetic users, this will allow us to generate more live data to be analyzed later.</p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>A RUM Users session is a &ldquo;recording&rdquo; of a collection of user interactions on an application, basically collecting a website or app’s performance measured straight from the browser or Mobile App of the end user. To do this a small amount of JavaScript is embedded in each page. This script then collects data from each user as he or she explores the page, and transfers that data back for analysis.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=2-example-of-rum-enablement-in-your-website>2. Example of RUM enablement in your Website</h1><ul><li>Check the original HEAD section of your Online-boutique webpage (or use the examples here) in your browser</li><li>Find the Web address of your workshop hosts Online Boutique</li><li>Compare the changes made to the hosts Online-Boutique and compare with the base one.</li></ul><hr><h2 id=1-browse-to-the-online-boutique>1. Browse to the Online Boutique</h2><p>If you have access to an EC2 instance and have previously installed the Online Boutique as part of the APM session, you can view it on port 81 of the EC2 instance&rsquo;s IP address.</p><p>If you have not got access to an EC2 instance with the Online Boutique installed then your workshop instructor will provide you with the Online Boutique URL that does not have RUM installed so that you can complete the next steps.</p><h2 id=2--inspecting-the-html-source>2. Inspecting the HTML source</h2><p>The changes needed for RUM are placed in the <code>&lt;head></code> section of the hosts Web page. Below is the updated <code>&lt;head></code> section with the changes required to enable RUM:</p><p><a href=#R-image-e9e245bb5cd45abe7906fda628b518b4 class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/2-setup/../images/ViewRUM-HEAD-html.png alt="Online Boutique" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-e9e245bb5cd45abe7906fda628b518b4><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/2-setup/../images/ViewRUM-HEAD-html.png alt="Online Boutique" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>The first three lines (marked in red) have been added to the <code>&lt;head></code> section of the host Web page to enable RUM Tracing, the last three (marked in blue) are optional and used to enable Custom RUM events.</p><ul><li>The first part is to indicate where to download the Splunk Open Telemetry Javascript file from: <code>https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web.js</code> (this can also be hosted locally if so required).</li><li>The second line defines the location where to send the traces to in the beacon url: <code>{beaconUrl: "https://rum-ingest.eu0.signalfx.com/v1/rum"</code></li><li>The RUM Access Token: <code>rumAuth: "&lt;redacted>"</code>.</li><li>Identification tags <code>app</code> and <code>environment</code> to indentify in the SPLUNK RUM UI e.g. <code>app: "ksnq-store", environment: "ksnq-workshop"}</code></li></ul><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Info</div><div class=box-content><p>In this example the app name is <strong>ksnq-store</strong>, this will be different in the Workshop. Check with your host what the app name and environment to use in the RUM session will be and make a note of it!</p></div></div><p>The above two lines are all that is required to enable RUM on your website!</p><p>The (blue) optional section that uses <code>var tracer=Provider.getTracer('appModuleLoader');</code> will add a custom event for every page change allowing you to better track your website conversions and usage.</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=3-rum-landing-page>3. RUM Landing Page</h1><ul><li>Visit the RUM landing page and and check the overview of the performance of all your RUM enabled applications with the Application Summary Dashboard (Both Mobile and Web based)</li></ul><hr><h2 id=1-visit-the-rum-landing-page>1. Visit the RUM Landing Page</h2><p>Login into your Splunk IM/APM/RUM Website. From the left side menu bar select <strong>RUM</strong> <a href=#R-image-a83d3217ef26e26ecd701ea7a4bd45aa class=lightbox-link><img src="../../en/scenarios/3-optimize-end-user-experiences/1-rum/3-rum-landing/../images/RUM_ico.png?classes=inline&amp;height=25px" alt=RUM-ico class="figure-image noborder inline lightbox noshadow" style=height:25px;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-a83d3217ef26e26ecd701ea7a4bd45aa><img src="../../en/scenarios/3-optimize-end-user-experiences/1-rum/3-rum-landing/../images/RUM_ico.png?classes=inline&amp;height=25px" alt=RUM-ico class="lightbox-image noborder inline lightbox noshadow" loading=lazy></a>. This will bring you to your the RUM Landing Page.</p><p>The goal of this page is to give you in a single page, a clear indication of the health, performance and potential errors found in your application(s) and allow you to dive deeper into the information about your User Sessions collected from your web page/App. You will have a pane for each of your active RUM applications. (The view below is the default expanded view)</p><p><a href=#R-image-f502418978aef53131c0cdb857b99233 class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/3-rum-landing/../images/Applicationsummarydashboard.png alt=RUM-App-sum class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-f502418978aef53131c0cdb857b99233><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/3-rum-landing/../images/Applicationsummarydashboard.png alt=RUM-App-sum class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>If you have multiple applications, (which will be the case when every attendee is using their own ec2 instance for the RUM workshop), the pane view may be automatically reduced by collapsing the panes as shown below:</p><p><a href=#R-image-4faef5329a205c4a6cf9f2209626d4f6 class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/3-rum-landing/../images/multiple_apps_collapsed.png alt=RUM-App-sum-collapsed class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-4faef5329a205c4a6cf9f2209626d4f6><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/3-rum-landing/../images/multiple_apps_collapsed.png alt=RUM-App-sum-collapsed class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>You can expanded a condensed RUM Application Summary View to the full dashboard by clicking on the small browser <a href=#R-image-e15be401a28080c280025139cbe6d5c7 class=lightbox-link><img src="../../en/scenarios/3-optimize-end-user-experiences/1-rum/3-rum-landing/../images/browser.png?classes=inline&amp;height=25px" alt=RUM-browser class="figure-image noborder inline lightbox noshadow" style=height:25px;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-e15be401a28080c280025139cbe6d5c7><img src="../../en/scenarios/3-optimize-end-user-experiences/1-rum/3-rum-landing/../images/browser.png?classes=inline&amp;height=25px" alt=RUM-browser class="lightbox-image noborder inline lightbox noshadow" loading=lazy></a> or Mobile <a href=#R-image-be6f0ca3db3f874ed45336f6dc587dc5 class=lightbox-link><img src="../../en/scenarios/3-optimize-end-user-experiences/1-rum/3-rum-landing/../images/mobile.png?classes=inline&amp;height=25px" alt=RUM-mobile class="figure-image noborder inline lightbox noshadow" style=height:25px;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-be6f0ca3db3f874ed45336f6dc587dc5><img src="../../en/scenarios/3-optimize-end-user-experiences/1-rum/3-rum-landing/../images/mobile.png?classes=inline&amp;height=25px" alt=RUM-mobile class="lightbox-image noborder inline lightbox noshadow" loading=lazy></a>icon. (Depending on the type of application: <em>Mobile</em> or <em>Browser</em> based) on the left in front of the applications name, highlighted by the red arrow.</p><p>First find the right application to use for the workshop:</p><p>If you are participating in a stand alone RUM workshop, the workshop leader will tell you the name of the application to use, in the case of a combined workshop, it will follow the naming convention we used for IM and APM and use the ec2 node name as a unique id like <strong>jmcj-store</strong> as shown as the last app in the screenshot above.</p><h2 id=2-configure-the-rum-application-summary-dashboard-header-section>2. Configure the RUM Application Summary Dashboard Header Section</h2><p>RUM Application Summary Dashboard consists of 6 major sections. The first is the selection header, where you can set/filter a number of options:</p><ul><li>A drop down for the <strong>Time Window</strong> you&rsquo;re reviewing (You are looking at the past 15 minutes by default)</li><li>A drop down to select the <strong>Environment</strong><sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup> you want to look at. This allows you to focus on just the subset of applications belonging to that environment, or Select all to view all available.</li><li>A drop down list with the various <strong>Apps</strong> being monitored. You can use the one provided by the workshop host or select your own. This will focus you on just one application.</li><li>A drop down to select the <strong>Source</strong>, <em>Browser</em> or <em>Mobile</em> applications to view. For the Workshop leave <em>All</em> selected.</li><li>A hamburger menu located at the right of the header allowing you to configure some settings of your Splunk RUM application. (We will visit this in a later section).</li></ul><p><a href=#R-image-d8d11171ba1c515b7749f47f72e779fb class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/3-rum-landing/../images/RUM_SummaryHeader.png alt=RUM-SummaryHeader class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-d8d11171ba1c515b7749f47f72e779fb><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/3-rum-landing/../images/RUM_SummaryHeader.png alt=RUM-SummaryHeader class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>For the workshop lets do a deeper dive into the Application Summary screen in the next section: <a href=../../en/scenarios/3-optimize-end-user-experiences/1-rum/4-browser-summary/index.html>Check Health Browser Application</a></p><hr><p>A common application deployment pattern is to have multiple, distinct application environments that don’t interact directly with each other but that are all being monitored by Splunk APM or RUM: for instance, quality assurance (QA) and production environments, or multiple distinct deployments in different datacenters, regions or cloud providers.
<a href=http://nebezb.com/ target=_blank></a></p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>A deployment environment is a distinct deployment of your system or application that allows you to set up configurations that don’t overlap with configurations in other deployments of the same application. Separate deployment environments are often used for different stages of the development process, such as development, staging, and production.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=4-check-browser-applications-health-at-a-glance>4. Check Browser Applications health at a glance</h1><ul><li>Get familiar with the UI and options available from this landing page</li><li>Identify Page Views/Errors and Request/Errors and Java Script Errors in a single view</br>Check the Web Vitals metrics and any Detector that has fired for in relation to your Browser Application</li></ul><hr><h2 id=1-application-summary-dashboard-overview>1. Application Summary Dashboard Overview</h2><h3 id=11-header-bar>1.1. Header Bar</h3><p>As seen in the previous section the RUM Application Summary Dashboard consists of 5 major sections.</br>The first section is the selection header, where you can collapse the Pane via the <a href=#R-image-ea887e05894f84c498b768b2a49f7144 class=lightbox-link><img src="../../en/scenarios/3-optimize-end-user-experiences/1-rum/4-browser-summary/../images/browser.png?classes=inline&amp;height=25px" alt=RUM-browser class="figure-image noborder inline lightbox noshadow" style=height:25px;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-ea887e05894f84c498b768b2a49f7144><img src="../../en/scenarios/3-optimize-end-user-experiences/1-rum/4-browser-summary/../images/browser.png?classes=inline&amp;height=25px" alt=RUM-browser class="lightbox-image noborder inline lightbox noshadow" loading=lazy></a> Browser icon or the <strong>></strong> in front of the application name, which is <em>jmcj-store</em> in the example below. It also provides access to the <em>Application Overview</em> page if you click the link with your application name which is <em>jmcj-store</em> in the example below.</p><p>Further, you can also open the <em>Application Overview</em> or <em>App Health Dashboard</em> via the triple dot <a href=#R-image-4c84ab207be48bdc78bb4f414d68f0cc class=lightbox-link><img src="../../en/scenarios/3-optimize-end-user-experiences/1-rum/4-browser-summary/../images/trippleburger.png?classes=inline&amp;height=25px" alt=trippleburger class="figure-image noborder inline lightbox noshadow" style=height:25px;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-4c84ab207be48bdc78bb4f414d68f0cc><img src="../../en/scenarios/3-optimize-end-user-experiences/1-rum/4-browser-summary/../images/trippleburger.png?classes=inline&amp;height=25px" alt=trippleburger class="lightbox-image noborder inline lightbox noshadow" loading=lazy></a> menu on the right.</p><p><a href=#R-image-c79ebd5bacf134b01e65a1f32af31636 class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/4-browser-summary/../images/summaryHeader.png alt=RUM-SummaryHeader class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-c79ebd5bacf134b01e65a1f32af31636><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/4-browser-summary/../images/summaryHeader.png alt=RUM-SummaryHeader class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>First use the <em>View Dashboard</em> link to open the Browser App Health Dashboard which should open in a new tab. Then switch back to original RUM tab, and then use the <em>Open Application Overview</em> link, or click on the name of the app to launch the Application Overview dashboard.</p><p>We will looking at the <em>Application Overview</em> and <em>Browser App Health</em> Dashboards in detail in the following sections.</p><h2 id=2-application-overview>2. Application Overview</h2><p>The RUM Application Overview Dashboard is focused on providing you with <em>at a glance</em> overview of the status of your application.</p><h3 id=21-page-views--errors--network-requests--errors>2.1. Page Views / Errors & Network Requests / Errors</h3><p>The first section shows <em>Page Views / Errors</em>, & <em>Network Requests and Errors</em> charts show the quantity and trend of these issues in your application. This could be Javascript errors, or failed network calls to back end services.</p><p><a href=#R-image-7eb4e8e9e28cd8db4abfb5b787c42fc9 class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/4-browser-summary/../images/Rum-chart.png alt=RUM-chart class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-7eb4e8e9e28cd8db4abfb5b787c42fc9><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/4-browser-summary/../images/Rum-chart.png alt=RUM-chart class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>In the example above you can see that there are no failed network calls in the Network chart, but in the Page View chart you can see that a number of pages do experience some errors. These are often not visible for regular users, but can seriously impact the performance of your web site.</p><p>You can see the count of the Page Views / Network Requests / Errors by hovering over the charts.</p><p><a href=#R-image-e25d2dd02afecda93231fe35b42fde85 class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/4-browser-summary/../images/RUM-Chart-Clicked.png alt=RUM-chart-clicked class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-e25d2dd02afecda93231fe35b42fde85><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/4-browser-summary/../images/RUM-Chart-Clicked.png alt=RUM-chart-clicked class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><h3 id=22-javascript-errors>2.2. JavaScript Errors</h3><p>With the second section of the RUM Application Summary Dashboard we are showing you an overview of the JavaScript errors occurring in your application, along with a count of each error.</p><p><a href=#R-image-f712f269d67cd44babf061757dd3dde5 class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/4-browser-summary/../images/RUM-Javascripterrors.png alt=RUM-javascript class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-f712f269d67cd44babf061757dd3dde5><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/4-browser-summary/../images/RUM-Javascripterrors.png alt=RUM-javascript class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>In the example above you can see there are three JavaScript errors, one that appears 29 times in the selected time slot, and the other two each appear 12 times.</p><p>If you click on one of the errors a pop-out opens that will show a summary (below) of the errors over time, along with a Stack Trace of the JavaScript error, giving you an indication of where the problems occurred. (We will see this in more detail in one of the following sections)</p><p><a href=#R-image-ed8eaafafc1477cbded63cff6def6d1c class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/4-browser-summary/../images/expandedRUmJAVAscript-error.png alt=RUM-javascript-chart class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-ed8eaafafc1477cbded63cff6def6d1c><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/4-browser-summary/../images/expandedRUmJAVAscript-error.png alt=RUM-javascript-chart class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><h3 id=23-web-vitals>2.3. Web Vitals</h3><p>The third section of the RUM Application Summary Dashboard is showing you the crucial (google) Web Vitals, three metrics, that are used by Google in its ranking system, and give a very good indication of the speed of your site for your end users.</p><p><a href=#R-image-3c7b5d4aa51134ca8fd580135e9dff9c class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/4-browser-summary/../images/RUM-QuickWebVitals.png alt=WEB-vitals class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-3c7b5d4aa51134ca8fd580135e9dff9c><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/4-browser-summary/../images/RUM-QuickWebVitals.png alt=WEB-vitals class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>As you can see our site is well behaved and scores <em>Good</em> for all three Metrics. These metrics can be used to identify the effect changes to your application have, and help you improve the performance of your site.</p><p>If you click on any of the Metrics shown in the Web Vitals pane you will be taken to the corresponding Tag Spotlight Dashboard. e.g. clicking on the <strong>Largest Contentful Paint (LCP)</strong> chartlet, you will be taken to a dashboard similar to the screen shot below, that gives you timeline and table views for how this metric has performed. This should allow you to spot trends and identify where the problem may be more common, such as an OS or browser version, .</p><p><a href=#R-image-7aff10215e6154e41a87af4ea8786da1 class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/4-browser-summary/../images/RUM-Tag-Spotlight.png alt=WEB-vitals-tag class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-7aff10215e6154e41a87af4ea8786da1><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/4-browser-summary/../images/RUM-Tag-Spotlight.png alt=WEB-vitals-tag class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><h3 id=24-most-recent-detectors>2.4. Most Recent Detectors</h3><p>The fourth and final section of the RUM Application Summary Dashboard is focused on providing you an overview of any detector that has triggered for your application. We have created a detector for this screen shot but your pane will be empty for now, but we will add some detectors to your site and make sure they are triggered in one of the next sections.</p><p><a href=#R-image-c6cefdfe6e53647f7a4464914333d47e class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/4-browser-summary/../images/rum-detector.png alt=detectors class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-c6cefdfe6e53647f7a4464914333d47e><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/4-browser-summary/../images/rum-detector.png alt=detectors class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>In the screen shot you can see we have a critical alert for the <em>RUM Aggregated View Detector</em>, and a Count, how often this alert has triggered in the selected time window. If you happen to have an alert listed, you can click on the name of the Alert (that is shown as a blue link) and you will be taken to the Alert Overview page showing the details of the alert (Note: this will move you away from the current page, Please use the <strong>Back</strong> option of your browser to return to the overview page).</p><p><a href=#R-image-a7f02e78da1adfe4f85721390dbb726d class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/4-browser-summary/../images/click-alert.png alt=alert class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-a7f02e78da1adfe4f85721390dbb726d><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/4-browser-summary/../images/click-alert.png alt=alert class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><hr><p>Please take a few minutes to experiment with the RUM Application Summary Dashboard and the underlying chart and dashboards before going on to the next section.</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=5-analyzing-rum-metrics>5. Analyzing RUM Metrics</h1><ul><li>See RUM Metrics and Session information in the RUM UI</li><li>See correlated APM traces in the RUM & APM UI</li></ul><hr><h2 id=1-rum-overview-pages>1. RUM Overview Pages</h2><p>From your RUM Application Summary Dashboard you can see detailed information by opening the Application Overview Page via the tripple dot <a href=#R-image-f582a4d6fea31223126cef8a7142123e class=lightbox-link><img src="../../en/scenarios/3-optimize-end-user-experiences/1-rum/5-analyzing-metrics/../images/trippleburger.png?classes=inline&amp;height=25px" alt=trippleburger class="figure-image noborder inline lightbox noshadow" style=height:25px;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-f582a4d6fea31223126cef8a7142123e><img src="../../en/scenarios/3-optimize-end-user-experiences/1-rum/5-analyzing-metrics/../images/trippleburger.png?classes=inline&amp;height=25px" alt=trippleburger class="lightbox-image noborder inline lightbox noshadow" loading=lazy></a> menu on the right by selecting <em>Open Application Overview</em> or by clicking the link with your application name which is <em>jmcj-store</em> in the example below.</p><p><a href=#R-image-c158db096c01971de20db65b13616027 class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/5-analyzing-metrics/../images/summaryHeader.png alt=RUM-SummaryHeader class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-c158db096c01971de20db65b13616027><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/5-analyzing-metrics/../images/summaryHeader.png alt=RUM-SummaryHeader class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>This will take you to the RUM Application Overview Page screen as shown below.</p><p><a href=#R-image-92c8d32cc63f8bfcc9a3974d8d7c3860 class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/5-analyzing-metrics/../images/RUM-1.png alt=RUM-1 class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-92c8d32cc63f8bfcc9a3974d8d7c3860><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/5-analyzing-metrics/../images/RUM-1.png alt=RUM-1 class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><h2 id=2-rum-browser-overview>2. RUM Browser Overview</h2><h3 id=21-header>2.1. Header</h3><p>The RUM UI consists of 6 major sections. The first is the selection header, where you can set/filter a number of options:</p><ul><li>A drop down for the time window you&rsquo;re reviewing (You are looking at the past hour in this case)</li><li>A drop down to select the Comparison window (You are comparing current performance on a rolling window - in this case compared to 1 hour ago)</li><li>A drop down with the available Environments to view: (Choose the one provided by the workshop host or <em>All</em> like in the example)</li><li>A drop down list with the Various Web apps (You can use the one provided by the workshop host or use <em>All</em>)</li><li><em><strong>Optionally</strong></em> a drop down to select Browser or Mobile metrics (<em>Might not be available in your workshop</em>)</li></ul><p><a href=#R-image-c3f8d9704d2913f4db9cb86221341d55 class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/5-analyzing-metrics/../images/RUM-Header.png alt=RUM-Header class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-c3f8d9704d2913f4db9cb86221341d55><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/5-analyzing-metrics/../images/RUM-Header.png alt=RUM-Header class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><h3 id=22-overview-pane>2.2. Overview Pane</h3><p>The Overview Panes, down the left hand side of the page, give you a summary of the pages which have increased load times.</p><p>In the example here you can see that the <strong>checkout</strong> and <strong>cart</strong> pages have errors due to the yellow triangles, and you can see that the load time has increased by 2.38 to 5.50 seconds.</p><p><a href=#R-image-b5937a47ce4f2447272247aa131b0b7d class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/5-analyzing-metrics/../images/RUM-Page-Load-Times.png alt=RUM-Top class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-b5937a47ce4f2447272247aa131b0b7d><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/5-analyzing-metrics/../images/RUM-Page-Load-Times.png alt=RUM-Top class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>You also see an overview of the number of Front end Error and Backend Errors per minute, and we appear to have three JavaScript errors on our site.</p><p><a href=#R-image-a1e3e6e2d7cd71b729c12df07d27748e class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/5-analyzing-metrics/../images/RUM-JS-Errors.png alt=RUM-Top class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-a1e3e6e2d7cd71b729c12df07d27748e><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/5-analyzing-metrics/../images/RUM-JS-Errors.png alt=RUM-Top class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>The last two panes show you the <strong>Top Page Views</strong> and the <strong>Top Network Requests</strong>.</p><p><a href=#R-image-7f65083fd08cb270f4ccc3a47a7e9b60 class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/5-analyzing-metrics/../images/RUM-Page-Views-Network.png alt=RUM-Top class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-7f65083fd08cb270f4ccc3a47a7e9b60><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/5-analyzing-metrics/../images/RUM-Page-Views-Network.png alt=RUM-Top class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><h3 id=23-key-metrics-pane>2.3. Key Metrics Pane</h3><p>The Key Metrics View is the location where you will find the metrics for the number of
<strong>JavaScript Errors</strong> per second, <strong>Network Errors</strong> per second an the <strong>Backend/Resource Request Duration</strong>.
These Metrics are very useful to guide you to the location of an issue if you are experiencing problems with your site.</p><p><a href=#R-image-cf7359a1204473cb1c0e65348713d4dd class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/5-analyzing-metrics/../images/RUM-Key-Metrics.png alt=RUM-KeyMetrics class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-cf7359a1204473cb1c0e65348713d4dd><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/5-analyzing-metrics/../images/RUM-Key-Metrics.png alt=RUM-KeyMetrics class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><h3 id=24-web-vitals-pane>2.4. Web Vitals Pane</h3><p>The Web Vitals view is the location where you go if you wish to get insight into the experience you are delivering to your End users based on Web Vitals metrics.
Web Vitals is an initiative by Google to provide unified guidance for quality signals that are essential to delivering a great user experience on the web and focuses on three key parameters:</p><ul><li><strong>Largest Contentful Paint (LCP)</strong>, measures loading performance. To provide a good user experience, LCP should occur within 2.5 seconds of when the page first starts loading.</li><li><strong>First Input Delay (FID)</strong>, measures interactivity. To provide a good user experience, pages should have a FID of 100 milliseconds or less.</li><li><strong>Cumulative Layout Shift (CLS)</strong>, measures visual stability. To provide a good user experience, pages should maintain a CLS of 0.1. or less.</li></ul><p><a href=#R-image-136d9c4ca957a872c5b83a0ae577bf8b class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/5-analyzing-metrics/../images/RUM-Web-Vitals.png alt=RUM-WebVitals class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-136d9c4ca957a872c5b83a0ae577bf8b><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/5-analyzing-metrics/../images/RUM-Web-Vitals.png alt=RUM-WebVitals class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><h3 id=25-other-metrics-pane>2.5. Other Metrics Pane</h3><p>The Other Metrics Pane is the location where you find other performance metrics, with a focus on initial load time of your page or tasks that are taking too long to complete.</p><ul><li><strong>Time To First Byte (TTFB)</strong>, measures how long it takes for a client&rsquo;s browser to receive the first byte of the response from the server. The longer it takes for the server to process the request and send a response, the slower your visitors&rsquo; browser is at displaying your page.</li><li><strong>Long Task Duration</strong>, a performance metric that can be used help developers to understand the bad user experience on the website, or can be an indication of a problem.</li><li><strong>Long Task Count</strong>, a metric to indicate how often a long task occurs, again used for exploring user experiences or problem detection.</li></ul><p><a href=#R-image-f8ae7972185c81a4207cb39ab9311a40 class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/5-analyzing-metrics/../images/RUM-Other.png alt=RUM-Other class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-f8ae7972185c81a4207cb39ab9311a40><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/5-analyzing-metrics/../images/RUM-Other.png alt=RUM-Other class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><h3 id=26-custom-event-pane>2.6. Custom Event Pane</h3><p>The Custom Event View is the location where you will find the metrics for any event you may have added yourself to the web pages you are monitoring.</p><p>As we have seen in the RUM enabled website, we have added the following two lines:</p><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>const</span> <span class=nx>Provider</span> <span class=o>=</span> <span class=nx>SplunkRum</span><span class=p>.</span><span class=nx>provider</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kd>var</span> <span class=nx>tracer</span><span class=o>=</span><span class=nx>Provider</span><span class=p>.</span><span class=nx>getTracer</span><span class=p>(</span><span class=s1>&#39;appModuleLoader&#39;</span><span class=p>);</span></span></span></code></pre></div><p>These lines will automatically create custom Events for every new Page, and you can also add these to pieces of custom code that are not part of a framework or an event you created so you can better understand the flow though your application. We support <strong>Custom Event Requests</strong>, <strong>Custom Event Error Rates</strong> and <strong>Custom Event Latency</strong> metrics.</p><p><a href=#R-image-3ea618cbad8f821327e5118b9915080a class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/5-analyzing-metrics/../images/RUM-Custom-Events.png alt=RUM-CustomMetrics class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-3ea618cbad8f821327e5118b9915080a><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/5-analyzing-metrics/../images/RUM-Custom-Events.png alt=RUM-CustomMetrics class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=6-analyzing-rum-tags-in-the-tag-spotlight-view>6. Analyzing RUM Tags in the Tag Spotlight view</h1><ul><li>Look into the Metrics views for the various endpoints and use the Tags sent via the Tag spotlight for deeper analysis</li></ul><hr><h2 id=1-find-an-url-for-the-cart-endpoint>1. Find an url for the Cart endpoint</h2><p>From the RUM Overview page, please select the url for the <strong>Cart</strong> endpoint to dive deeper into the information available for this endpoint.</p><p><a href=#R-image-46290f9c9320db121933d17a48c9ee55 class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/6-tag-spotlight/../images/RUM-select-cart.png alt=RUM-Cart2 class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-46290f9c9320db121933d17a48c9ee55><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/6-tag-spotlight/../images/RUM-select-cart.png alt=RUM-Cart2 class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Once you have selected and clicked on the blue url, you will find yourself in the <strong>Tag Spotlight</strong> overview</p><p><a href=#R-image-ae7b9348de11ca1ae4e63ef85bfff5a3 class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/6-tag-spotlight/../images/RUM-TAG-Overview.png alt=RUM-Tag class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-ae7b9348de11ca1ae4e63ef85bfff5a3><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/6-tag-spotlight/../images/RUM-TAG-Overview.png alt=RUM-Tag class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Here you will see all of the tags that have been sent to Splunk RUM as part of the RUM traces. The tags displayed will be relevant to the overview that you have selected. These are generic Tags created automatically when the Trace was sent, and additional Tags you have added to the trace as part of the configuration of your website.</p><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Additional Tags</div><div class=box-content><p>We are already sending two additional tags, you have seen them defined in the <em>Beacon url</em> that was added to your website: <code>app: "[nodename]-store", environment: "[nodename]-workshop"</code> in the first section of this workshop! You can add additional tags in a similar way.</p></div></div><p>In our example we have selected the <strong>Document Load Latency</strong> view as shown here:</p><p><a href=#R-image-ab0797a4e6979a3dda354bc394a5d43e class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/6-tag-spotlight/../images/RUM-Selection.png alt=RUM-Header class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-ab0797a4e6979a3dda354bc394a5d43e><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/6-tag-spotlight/../images/RUM-Selection.png alt=RUM-Header class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>You can select any of the following Tag views, each focused on a specific metric.</p><p><a href=#R-image-508bc65f15fbda2326bcb853ec55e58f class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/6-tag-spotlight/../images/RUM-Tag-views.png alt=RUM-views class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-508bc65f15fbda2326bcb853ec55e58f><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/6-tag-spotlight/../images/RUM-Tag-views.png alt=RUM-views class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><hr><h2 id=2-explore-the-information-in-the-tag-spotlight-view>2. Explore the information in the Tag Spotlight view</h2><p>The Tag spotlight is designed to help you identify problems, either through the chart view,, where you may quickly identify outliers or via the TAGs.</p><p>In the <strong>Document Load Latency</strong> view, if you look at the <strong>Browser</strong>, <strong>Browser Version</strong> & <strong>OS Name</strong> Tag views,you can see the various browser types and versions, as well as for the underlying OS.</p><p>This makes it easy to identify problems related to specific browser or OS versions, as they would be highlighted.</p><p><a href=#R-image-0a6910b1ff80c083b1eebdf30035e9db class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/6-tag-spotlight/../images/RUMBrowserTags.png alt=RUM-Tag2 class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-0a6910b1ff80c083b1eebdf30035e9db><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/6-tag-spotlight/../images/RUMBrowserTags.png alt=RUM-Tag2 class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>In the above example you can see that Firefox had the slowest response, various Browser versions ( Chrome) that have different response times and the slow response of the Android devices.</p><p>A further example are the regional Tags that you can use to identify problems related to ISP or locations etc. Here you should be able to find the location you have been using to access the Online Boutique. Drill down by selecting the town or country you are accessing the Online Boutique from by clicking on the name as shown below (City of Amsterdam):</p><p><a href=#R-image-865c9aaaf92413385da86874875e3217 class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/6-tag-spotlight/../images/RUM-Region.png alt=RUM-click class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-865c9aaaf92413385da86874875e3217><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/6-tag-spotlight/../images/RUM-Region.png alt=RUM-click class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>This will select only the traces relevant to the city selected as shown below:</p><p><a href=#R-image-b0c74c09e42046f7df1d323655eba737 class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/6-tag-spotlight/../images/RUM-Adam.png alt=RUM-Adam class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-b0c74c09e42046f7df1d323655eba737><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/6-tag-spotlight/../images/RUM-Adam.png alt=RUM-Adam class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>By selecting the various Tag you build up a filter, you can see the current selection below</p><p><a href=#R-image-3e2e334bcacc4ca6322df6ff5be51961 class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/6-tag-spotlight/../images/RUM-Filter.png alt=RUM-Adam class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-3e2e334bcacc4ca6322df6ff5be51961><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/6-tag-spotlight/../images/RUM-Filter.png alt=RUM-Adam class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>To clear the filter and see every trace click on <strong>Clear All</strong> at the top right of the page.</p><p>If the overview page is empty or shows <a href=#R-image-a862c1751d0a2bdfbf44f638895a80a4 class=lightbox-link><img src="../../en/scenarios/3-optimize-end-user-experiences/1-rum/6-tag-spotlight/../images/RUM-NoTime.png?classes=inline&amp;height=25px" alt=RUM-Adam class="figure-image noborder inline lightbox noshadow" style=height:25px;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-a862c1751d0a2bdfbf44f638895a80a4><img src="../../en/scenarios/3-optimize-end-user-experiences/1-rum/6-tag-spotlight/../images/RUM-NoTime.png?classes=inline&amp;height=25px" alt=RUM-Adam class="lightbox-image noborder inline lightbox noshadow" loading=lazy></a>, no traces have been received in the selected timeslot.
You need to increase the time window at the top left. You can start with the <em>Last 12 hours</em> for example.</p><p>You can then use your mouse to select the time slot you want like show in the view below and activate that time filter by clicking on the little spyglass icon.</p><p><a href=#R-image-d06f528783f0bde29d25e4e0521d75e0 class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/6-tag-spotlight/../images/RUM-TimeSelect.png alt=RUM-time class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-d06f528783f0bde29d25e4e0521d75e0><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/6-tag-spotlight/../images/RUM-TimeSelect.png alt=RUM-time class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=7-analyzing-rum-sessions>7. Analyzing RUM Sessions</h1><ul><li>Dive into RUM Session information in the RUM UI</li><li>Identify Javascript errors in the Span of an user interaction</li></ul><hr><h2 id=1-again-select-the-cart-url>1. Again select the cart URL</h2><p>After you have focussed the time slot with the time selector, you need to reselect the <em>cart</em> url from <strong>Url Name</strong> view, as shown below:</p><p><a href=#R-image-11d72fb31bdb68daa02dbb0647bac569 class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/7-rum-sessions/../images/RUM-Cart-All.png alt=RUM-Cart-3 class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-11d72fb31bdb68daa02dbb0647bac569><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/7-rum-sessions/../images/RUM-Cart-All.png alt=RUM-Cart-3 class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>In the example above we selected <code>http://34.246.124.162:81/cart</code></p><h2 id=2-drill-down-in-the-sessions>2. Drill down in the Sessions</h2><p>After you have analyzed the information and drilled down via the Tag Spotlight to a subset of the traces, you can view the actual session as it was run by the end-user&rsquo;s browser.</p><p>You do this by clicking on the link <strong>Example Sessions</strong> as shown below:</p><p><a href=#R-image-c104f2303c2263c850641bcbfa4a9a18 class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/7-rum-sessions/../images/RUM-ExampleSessions.png alt=RUM-Header class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-c104f2303c2263c850641bcbfa4a9a18><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/7-rum-sessions/../images/RUM-ExampleSessions.png alt=RUM-Header class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>This will give you a list of sessions that matched both the time filter and the subset selected in the Tag Profile.</p><p>Select one by clicking on the session ID, It is a good idea to select one that has the longest duration (preferably over 700 ms).</p><p><a href=#R-image-7d65e1144193bb3ca7091e1cfa5a5d4b class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/7-rum-sessions/../images/RUM-Session-Selected.png alt=RUM-Header class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-7d65e1144193bb3ca7091e1cfa5a5d4b><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/7-rum-sessions/../images/RUM-Session-Selected.png alt=RUM-Header class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Once you have selected the session, you will be taken to the session details page. As you are selecting a specific action that is part of the session, you will likely arrive somewhere in the middle of the session, at the moment of the interaction.</p><p>You can see the URL <code>http://34.246.124.162:81/cart</code>, the one you selected earlier, is where we are focusing on in the session stream.</p><p><a href=#R-image-ac15cf0529665ab5a78f87cfdfc9ce61 class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/7-rum-sessions/../images/Session-Tag.png alt=RUM-Session-Tag class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-ac15cf0529665ab5a78f87cfdfc9ce61><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/7-rum-sessions/../images/Session-Tag.png alt=RUM-Session-Tag class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Scroll down a little bit on the page, so you see the end of the operation as shown below.</p><p><a href=#R-image-cf6036193409e1965c593ecb0720d5dd class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/7-rum-sessions/../images/Session-Tag-2.png alt=RUM-Session-info class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-cf6036193409e1965c593ecb0720d5dd><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/7-rum-sessions/../images/Session-Tag-2.png alt=RUM-Session-info class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>You can see that we have received a few Javascript Console errors that may not have been detected or visible to the end users. To examine these in more detail click on the middle one that says: *<strong>Cannot read properties of undefined (reading &lsquo;Prcie&rsquo;)</strong></p><p><a href=#R-image-64b396e0d9f1fe89c90e50fc244f8e1e class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/7-rum-sessions/../images/Session-Tag-3.png alt=RUM-Session-info class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-64b396e0d9f1fe89c90e50fc244f8e1e><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/7-rum-sessions/../images/Session-Tag-3.png alt=RUM-Session-info class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>This will cause the page to expand and show the Span detail for this interaction, It will contain a detailed <em>error.stack</em> you can pass on the developer to solve the issue. You may have noticed when buying in the Online Boutique that the final total always was $0.00.</p><p><a href=#R-image-5d359f424023a8b082c4e5153205863c class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/7-rum-sessions/../images/Session-Tag-4.png alt=RUM-Session-info class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-5d359f424023a8b082c4e5153205863c><img src=../../en/scenarios/3-optimize-end-user-experiences/1-rum/7-rum-sessions/../images/Session-Tag-4.png alt=RUM-Session-info class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=8-alerts-based-on-rum-metrics>8. Alerts based on RUM Metrics</h1><ul><li>Use RUM Metrics to set up Alerts to be warned in case of an issue</li></ul><hr><h2 id=1-create-an-alert-on-one-of-the-rum-metrics>1. Create an alert on one of the RUM Metrics</h2><p>Pick a chart on the RUM app landing page, click the top right menu and click <strong>Create Detector</strong>.</p><footer class=footline></footer></article></section><article class=default><header class=headline></header><h1 id=splunk-synthetic-scripting>Splunk Synthetic Scripting</h1><p>Proactively monitor the performance of your web app before problems affect your users. With <strong>Splunk Synthetic Monitoring</strong>, technical and business teams create detailed tests to proactively monitor the speed and reliability of websites, web apps, and resources over time, at any stage in the development cycle.</p><p><strong>Splunk Synthetic Monitoring</strong> offers the most comprehensive and in-depth capabilities for uptime and web performance optimization as part of the only complete observability suite, Splunk Observability Cloud.</p><p>Easily set up monitoring for APIs, service endpoints and end-user-experience. With <strong>Splunk Synthetic Monitoring</strong>, go beyond basic uptime and performance monitoring and focus on proactively finding and fixing issues, optimizing web performance, and ensuring customers get the best user experience.</p><p>With <strong>Splunk Synthetic Monitoring</strong> you can:</p><ul><li>Detect and resolve issues fast across critical user flows, business transactions and API endpoints</li><li>Prevent web performance issues from affecting customers with an intelligence web optimization engine</li><li>And improve performance of all page resources and third-party dependencies</li></ul><footer class=footline></footer></article><section><h1 class=a11y-only>Subsections of Splunk Synthetic Scripting</h1><article class=default><header class=headline></header><h1 id=2-real-browser-test>2. Real Browser Test</h1><h2 id=introduction>Introduction</h2><p>This workshop walks you through using the <a href=https://developer.chrome.com/docs/devtools/recorder/ target=_blank>Chrome DevTools Recorder</a> to create a synthetic test on a Splunk demonstration environment or on your own public website.</p><p>The exported JSON from the Chrome DevTools Recorder will then be used to create a Splunk Synthetic Monitoring Real Browser Test.</p><h2 id=pre-requisites>Pre-requisites</h2><ul><li>Google Chrome Browser installed</li><li>Publicly browser-accessible URL</li><li>Access to Splunk Observability Cloud</li></ul><footer class=footline></footer></article><section><h1 class=a11y-only>Subsections of 2. Real Browser Test</h1><article class=default><header class=headline></header><h1 id=11-recording-a-test>1.1 Recording a test</h1><h2 id=open-the-starting-url-you-want-to-test>Open the starting URL you want to test</h2><p>Open your starting URL in Chrome Incognito. This is important so you&rsquo;re not carrying cookies into the recording, that we won&rsquo;t have set up in the Synthetic test by default. If you would prefer to start on a demo site, feel free to use <a href=https://frontend-eu.splunko11y.com target=_blank>https://frontend-eu.splunko11y.com</a> or <a href=https://frontend-us.splunko11y.com target=_blank>https://frontend-us.splunko11y.com</a>, which we are using in the examples below.</p><p>Have in mind a short user journey you want to test. Remember: smaller bites are easier to chew! In other words, get started with just a few steps. This is easier not only to create and maintain the test, but also to understand and act on ther results.</p><div class="box notices cstyle note"><div class=box-label><i class="fa-fw fas fa-exclamation-circle"></i> Note</div><div class=box-content><p>Record the test in the same type of viewport that you want to run it. For example, if you want to run a test on a mobile viewport, narrow your browser width to mobile and refresh before starting the recording. This way you are capturing the correct elements that could change depending on responsive rules for the viewport.</p></div></div><h2 id=open-the-chrome-devtools-recorder>Open the Chrome DevTools Recorder</h2><p>Next, open the Developer Tools (in the new tab that was opened above) by pressing <code>Ctrl + Shift + I</code> on Windows or <code>Cmd + Option + I</code> on a Mac, then select <strong>Recorder</strong> from the top-level menu or the <strong>More tools</strong> flyout menu.</p><p><a href=#R-image-47e3b5953f5c579947d1610fbe3b4015 class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/2-browser/1-recording-a-test/../../img/open-recorder.png alt="Open Recorder" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-47e3b5953f5c579947d1610fbe3b4015><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/2-browser/1-recording-a-test/../../img/open-recorder.png alt="Open Recorder" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Note</div><div class=box-content><p>Site elements might change depending on viewport width. Before recording, set your browser window to the correct width for the test you want to create (Desktop, Tablet, or Mobile). Change the DevTools &ldquo;dock side&rdquo; to pop out as a separate window if it helps.</p></div></div><h2 id=create-a-new-recording>Create a new recording</h2><p>With the Recorder panel open in the DevTools window. Click on the
<span class="btn cstyle blue"><button type=button>
Create a new recording</button></span> button to start.</p><p><a href=#R-image-744c052594c8dd470fdfccc7defc0ae9 class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/2-browser/1-recording-a-test/../../img/recorder.png alt=Recorder class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-744c052594c8dd470fdfccc7defc0ae9><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/2-browser/1-recording-a-test/../../img/recorder.png alt=Recorder class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>For the <strong>Recording Name</strong> use your initials to prefix the name of the recording e.g. <strong><code>&lt;your initials></code> - <code>&lt;website name></code></strong>. Click on <strong>Start Recording</strong> to start recording your actions.</p><p><a href=#R-image-e73989acedfb6035dabdbad1cab8807b class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/2-browser/1-recording-a-test/../../img/recording-name.png alt="Recording Name" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-e73989acedfb6035dabdbad1cab8807b><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/2-browser/1-recording-a-test/../../img/recording-name.png alt="Recording Name" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Now that we are recording, complete a few actions on the site. An example for our demo site is:</p><ul><li>Click on <strong>Vintage Camera Lens</strong></li><li>Click on <strong>Add to Cart</strong></li><li>Click on <strong>Place Order</strong></li><li>Click on <strong>End recording</strong> in the Recorder panel.</li></ul><p><a href=#R-image-8a6688f24fffc7a142e9c0700a07cb57 class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/2-browser/1-recording-a-test/../../img/end-recording.png alt="End Recording" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-8a6688f24fffc7a142e9c0700a07cb57><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/2-browser/1-recording-a-test/../../img/end-recording.png alt="End Recording" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><h2 id=exporting-the-recording>Exporting the recording</h2><p>Click on the <strong>Export</strong> button:</p><p><a href=#R-image-3a8c3c8093103d3c5b0c70cf726d56d8 class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/2-browser/1-recording-a-test/../../img/export-button.png alt="Export button" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-3a8c3c8093103d3c5b0c70cf726d56d8><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/2-browser/1-recording-a-test/../../img/export-button.png alt="Export button" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Select <strong>JSON</strong> as the format, then click on <strong>Save</strong></p><p><a href=#R-image-aba25ed5da245c63a110a1c4d5153d22 class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/2-browser/1-recording-a-test/../../img/export-json.png alt="Export JSON" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-aba25ed5da245c63a110a1c4d5153d22><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/2-browser/1-recording-a-test/../../img/export-json.png alt="Export JSON" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p><a href=#R-image-be161cb256af4727c360ebc464c92d4e class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/2-browser/1-recording-a-test/../../img/save-json.png alt="Save JSON" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-be161cb256af4727c360ebc464c92d4e><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/2-browser/1-recording-a-test/../../img/save-json.png alt="Save JSON" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p><strong>Congratulations!</strong> You have successfully created a recording using the Chrome DevTools Recorder. Next, we will use this recording to create a Real Browser Test in Splunk Synthetic Monitoring.</p><hr><div class=expand><input type=checkbox id=R-expand-788c8be609bc5c624ab330c7ed06a2b2 aria-controls=R-expandcontent-788c8be609bc5c624ab330c7ed06a2b2>
<label class=expand-label for=R-expand-788c8be609bc5c624ab330c7ed06a2b2><i class="fas fa-chevron-down"></i>
<i class="fas fa-chevron-right"></i>
Click here to view the JSON file</label><div id=R-expandcontent-788c8be609bc5c624ab330c7ed06a2b2 class=expand-content><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;title&#34;</span><span class=p>:</span> <span class=s2>&#34;RWC - Online Boutique&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;steps&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;setViewport&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;width&#34;</span><span class=p>:</span> <span class=mi>1430</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;height&#34;</span><span class=p>:</span> <span class=mi>1016</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;deviceScaleFactor&#34;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;isMobile&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;hasTouch&#34;</span><span class=p>:</span> <span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;isLandscape&#34;</span><span class=p>:</span> <span class=kc>false</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;navigate&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;url&#34;</span><span class=p>:</span> <span class=s2>&#34;https://frontend-eu.o11ystore.com/&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;assertedEvents&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;navigation&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=nt>&#34;url&#34;</span><span class=p>:</span> <span class=s2>&#34;https://frontend-eu.o11ystore.com/&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=nt>&#34;title&#34;</span><span class=p>:</span> <span class=s2>&#34;Online Boutique&#34;</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;click&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;target&#34;</span><span class=p>:</span> <span class=s2>&#34;main&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;selectors&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>                <span class=p>[</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;div:nth-of-type(2) &gt; div:nth-of-type(2) a &gt; div&#34;</span>
</span></span><span class=line><span class=cl>                <span class=p>],</span>
</span></span><span class=line><span class=cl>                <span class=p>[</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;xpath//html/body/main/div/div/div[2]/div[2]/div/a/div&#34;</span>
</span></span><span class=line><span class=cl>                <span class=p>],</span>
</span></span><span class=line><span class=cl>                <span class=p>[</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;pierce/div:nth-of-type(2) &gt; div:nth-of-type(2) a &gt; div&#34;</span>
</span></span><span class=line><span class=cl>                <span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=p>],</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;offsetY&#34;</span><span class=p>:</span> <span class=mi>170</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;offsetX&#34;</span><span class=p>:</span> <span class=mi>180</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;assertedEvents&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;navigation&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=nt>&#34;url&#34;</span><span class=p>:</span> <span class=s2>&#34;https://frontend-eu.o11ystore.com/product/66VCHSJNUP&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=nt>&#34;title&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;click&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;target&#34;</span><span class=p>:</span> <span class=s2>&#34;main&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;selectors&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>                <span class=p>[</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;aria/ADD TO CART&#34;</span>
</span></span><span class=line><span class=cl>                <span class=p>],</span>
</span></span><span class=line><span class=cl>                <span class=p>[</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;button&#34;</span>
</span></span><span class=line><span class=cl>                <span class=p>],</span>
</span></span><span class=line><span class=cl>                <span class=p>[</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;xpath//html/body/main/div[1]/div/div[2]/div/form/div/button&#34;</span>
</span></span><span class=line><span class=cl>                <span class=p>],</span>
</span></span><span class=line><span class=cl>                <span class=p>[</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;pierce/button&#34;</span>
</span></span><span class=line><span class=cl>                <span class=p>],</span>
</span></span><span class=line><span class=cl>                <span class=p>[</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;text/Add to Cart&#34;</span>
</span></span><span class=line><span class=cl>                <span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=p>],</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;offsetY&#34;</span><span class=p>:</span> <span class=mf>35.0078125</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;offsetX&#34;</span><span class=p>:</span> <span class=mf>46.4140625</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;assertedEvents&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;navigation&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=nt>&#34;url&#34;</span><span class=p>:</span> <span class=s2>&#34;https://frontend-eu.o11ystore.com/cart&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=nt>&#34;title&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;click&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;target&#34;</span><span class=p>:</span> <span class=s2>&#34;main&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;selectors&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>                <span class=p>[</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;aria/PLACE ORDER&#34;</span>
</span></span><span class=line><span class=cl>                <span class=p>],</span>
</span></span><span class=line><span class=cl>                <span class=p>[</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;div &gt; div &gt; div.py-3 button&#34;</span>
</span></span><span class=line><span class=cl>                <span class=p>],</span>
</span></span><span class=line><span class=cl>                <span class=p>[</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;xpath//html/body/main/div/div/div[4]/div/form/div[4]/button&#34;</span>
</span></span><span class=line><span class=cl>                <span class=p>],</span>
</span></span><span class=line><span class=cl>                <span class=p>[</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;pierce/div &gt; div &gt; div.py-3 button&#34;</span>
</span></span><span class=line><span class=cl>                <span class=p>],</span>
</span></span><span class=line><span class=cl>                <span class=p>[</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;text/Place order&#34;</span>
</span></span><span class=line><span class=cl>                <span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=p>],</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;offsetY&#34;</span><span class=p>:</span> <span class=mf>29.8125</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;offsetX&#34;</span><span class=p>:</span> <span class=mf>66.8203125</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;assertedEvents&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>                <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;navigation&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=nt>&#34;url&#34;</span><span class=p>:</span> <span class=s2>&#34;https://frontend-eu.o11ystore.com/cart/checkout&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                    <span class=nt>&#34;title&#34;</span><span class=p>:</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl>                <span class=p>}</span>
</span></span><span class=line><span class=cl>            <span class=p>]</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div></div><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=12-create-real-browser-test>1.2 Create Real Browser Test</h1><p>In Splunk Observability Cloud, navigate to <strong>Synthetics</strong> and click on
<span class="btn cstyle blue"><button type=button>
Add new test</button>
</span>.</p><p>From the dropdown select <strong>Browser test</strong>.</p><p><a href=#R-image-90fdd3303aee1e25f9ee27f46338d119 class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/2-browser/2-create-real-browser-test/../../img/add-new-test.png alt="Add new test" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-90fdd3303aee1e25f9ee27f46338d119><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/2-browser/2-create-real-browser-test/../../img/add-new-test.png alt="Add new test" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>You will then be presented with the <strong>Browser test content</strong> configuration page.</p><p><a href=#R-image-9d5345e1d5daab47f809a8cbec2ddd9b class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/2-browser/2-create-real-browser-test/../../img/new-test.png alt="New Test" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-9d5345e1d5daab47f809a8cbec2ddd9b><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/2-browser/2-create-real-browser-test/../../img/new-test.png alt="New Test" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=13-import-json>1.3 Import JSON</h1><p>To begin configuring our test, we need to import the JSON that we exported from the Chrome DevTools Recorder. To enable the
<span class="btn cstyle transparent"><button type=button>
<strong>Import</strong></button></span> button, we must first give our test a name e.g. <strong><code>&lt;your initials></code> - Online Boutique</strong>.</p><p><a href=#R-image-779e2384aba45095719e7217f85f0652 class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/2-browser/3-import-json/../../img/import.png alt=Import class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-779e2384aba45095719e7217f85f0652><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/2-browser/3-import-json/../../img/import.png alt=Import class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Once the
<span class="btn cstyle transparent"><button type=button>
<strong>Import</strong></button></span> button is enabled, click on it and either drop the JSON file that you exported from the Chrome DevTools Recorder or upload the file.</p><p><a href=#R-image-250b881bd3d22b7229ac99551e8988b7 class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/2-browser/3-import-json/../../img/import-json.png alt="Import JSON" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-250b881bd3d22b7229ac99551e8988b7><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/2-browser/3-import-json/../../img/import-json.png alt="Import JSON" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Once the JSON file has been uploaded, click on
<span class="btn cstyle blue"><button type=button>
Continue to edit steps</button></span></p><p><a href=#R-image-9c5c88e78344e2a88f6674fc9cdc5d3d class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/2-browser/3-import-json/../../img/import-complete.png alt="Import Complete" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-9c5c88e78344e2a88f6674fc9cdc5d3d><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/2-browser/3-import-json/../../img/import-complete.png alt="Import Complete" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p><a href=#R-image-43808d696dff2be33db87c1254f653c0 class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/2-browser/3-import-json/../../img/edit-steps.png alt="Edit Steps" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-43808d696dff2be33db87c1254f653c0><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/2-browser/3-import-json/../../img/edit-steps.png alt="Edit Steps" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Before we make any edits to the test, let&rsquo;s first configure the settings, click on
<span class="btn cstyle blue"><button type=button>
&lt; Return to test</button></span></p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=14-settings>1.4 Settings</h1><p>The simple settings allow you to configure the basics of the test:</p><ul><li><strong>Name</strong>: The name of the test (e.g. RWC - Online Boutique).</li><li><strong>Details</strong>:<ul><li><strong>Locations</strong>: The locations where the test will run from.</li><li><strong>Device</strong>: Emulate different devices and connection speeds. Also, the viewport will be adjusted to match the chosen device.</li><li><strong>Frequency</strong>: How often the test will run.</li><li><strong>Round-robin</strong>: If multiple locations are selected, the test will run from one location at a time, rather than all locations at once.</li><li><strong>Active</strong>: Set the test to active or inactive.</li></ul></li></ul><p>![Return to Test]For this workshop, we will configure the locations that we wish to monitor from. Click in the <strong>Locations</strong> field and you will be presented with a list of global locations (over 50 in total).</p><p><a href=#R-image-37787fdcc38565a33e2ee8027a13a483 class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/2-browser/4-edit-test-settings/../../img/global-locations.png alt="Global Locations" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-37787fdcc38565a33e2ee8027a13a483><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/2-browser/4-edit-test-settings/../../img/global-locations.png alt="Global Locations" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Select the following locations:</p><ul><li><strong>AWS - N. Virginia</strong></li><li><strong>AWS - London</strong></li><li><strong>AWS - Melbourne</strong></li></ul><p>Once complete, scroll down and click on Click on
<span class="btn cstyle blue"><button type=button>
Submit</button></span> to save the test.</p><p>The test will now be scheduled to run every 5 minutes from the 3 locations that we have selected. This does take a few minutes for the schedule to be created.</p><p>So whilst we wait for the test to be scheduled, click on
<span class="btn cstyle transparent"><button type=button>
Edit test</button></span> so we can go through the Advanced settings.</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=15-advanced-settings>1.5 Advanced Settings</h1><p>Click on <strong>Advanced</strong>, these settings are optional and can be used to further configure the test.</p><div class="box notices cstyle note"><div class=box-label><i class="fa-fw fas fa-exclamation-circle"></i> Note</div><div class=box-content><p>In the case of this workshop, we will <strong>not</strong> be using any of these settings as this is for informational purposes only.</p></div></div><p><a href=#R-image-77d31ff7f4cc94264e1fc61826c16430 class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/2-browser/5-advanced-settings/../../img/advanced-settings.png alt="Advanced Settings" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-77d31ff7f4cc94264e1fc61826c16430><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/2-browser/5-advanced-settings/../../img/advanced-settings.png alt="Advanced Settings" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><ul><li><strong>Security</strong>:<ul><li><strong>TLS/SSL validation</strong>: When activated, this feature is used to enforce the validation of expired, invalid hostname, or untrusted issuer on SSL/TLS certificates.</li><li><strong>Authentication</strong>: Add credentials to authenticate with sites that require additional security protocols, for example from within a corporate network. By using <a href=https://docs.splunk.com/Observability/synthetics/test-config/global-variables.html target=_blank>concealed global variables</a> in the Authentication field, you create an additional layer of security for your credentials and simplify the ability to share credentials across checks.</li></ul></li><li><strong>Custom Content</strong>:<ul><li><strong>Custom headers</strong>: Specify custom headers to send with each request. For example, you can add a header in your request to filter out requests from analytics on the back end by sending a specific header in the requests. You can also use custom headers to set cookies.</li><li><strong>Cookies</strong>: Set cookies in the browser before the test starts. For example, to prevent a popup modal from randomly appearing and interfering with your test, you can set cookies. Any cookies that are set will apply to the domain of the starting URL of the check. Splunk Synthetics Monitoring uses the public suffix list to determine the domain.</li><li><strong>Host overrides</strong>: Add host override rules to reroute requests from one host to another. For example, you can create a host override to test an existing production site against page resources loaded from a development site or a specific CDN edge node.</li></ul></li></ul><p>Next, we will edit the test steps to provide more meaningful names for each step.</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=16-edit-test-steps>1.6 Edit test steps</h1><p>To edit the steps click on the
<span class="btn cstyle transparent"><button type=button>
+ Edit steps or synthetic transactions</button></span> button. From here, we are going to give meaningful names to each step.</p><p><a href=#R-image-6b8430c600fa001d97e8680ee4a8acdc class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/2-browser/6-edit-steps/../../img/edit-steps.png alt="Edit steps" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-6b8430c600fa001d97e8680ee4a8acdc><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/2-browser/6-edit-steps/../../img/edit-steps.png alt="Edit steps" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>For each of the four steps, we are going to give them a meaningful, readable name. For our demo site, that looks like:</p><ul><li><strong>Step 1</strong> replace the text <strong>Go to URL</strong> with <strong>HomePage - Online Boutique</strong></li><li><strong>Step 2</strong> enter the text <strong>Select Vintage Camera Lens</strong>.</li><li><strong>Step 3</strong> enter <strong>Add to Cart</strong>.</li><li><strong>Step 4</strong> enter <strong>Place Order</strong>.</li></ul><p><a href=#R-image-068be32cc3e8d84b2c8732c1799738b3 class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/2-browser/6-edit-steps/../../img/step-names.png alt="Step names" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-068be32cc3e8d84b2c8732c1799738b3><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/2-browser/6-edit-steps/../../img/step-names.png alt="Step names" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><div class="box notices cstyle note"><div class=box-label><i class="fa-fw fas fa-exclamation-circle"></i> Note</div><div class=box-content><p>If you&rsquo;d like, group the test steps into Transactions and edit the transaction names. This is especially useful for Single Page Apps (SPAs), where the resource waterfall is not split by URL. We can also chart and alert based on transactions.</p></div></div><p>Click
<span class="btn cstyle blue"><button type=button>
&lt; Return to test</button></span> to return to the test configuration page and click
<span class="btn cstyle blue"><button type=button>
Save</button></span> to save the test.</p><p>You will be returned to the test dashboard where you will see test results start to appear.</p><p><a href=#R-image-9174fc0730b540c9b4be3a1d9f33bf85 class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/2-browser/6-edit-steps/../../img/scatterplot.png alt=Scatterplot class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-9174fc0730b540c9b4be3a1d9f33bf85><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/2-browser/6-edit-steps/../../img/scatterplot.png alt=Scatterplot class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p><strong>Congratulations!</strong> You have successfully created a Real Browser Test in Splunk Synthetic Monitoring. Next, we will look into a test result in more detail.</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=17-view-test-results>1.7 View test results</h1><p>1. Click into a spike or failure in your test run results.</p><p><a href=#R-image-6bdeb6b09c9ba86b4f4805df6b26b190 class=lightbox-link><img src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-01/7da71cab-5d3f-4557-af22-413e51706016/ascreenshot.jpeg?tl_px=0,372&amp;br_px=1719,1333&amp;force_format=png&amp;width=1120.0&amp;wat=1&amp;wat_opacity=0.7&amp;wat_gravity=northwest&amp;wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&amp;wat_pad=251,277" alt class="figure-image noborder lightbox noshadow" style=height:auto;width:1120 loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-6bdeb6b09c9ba86b4f4805df6b26b190><img src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-01/7da71cab-5d3f-4557-af22-413e51706016/ascreenshot.jpeg?tl_px=0,372&amp;br_px=1719,1333&amp;force_format=png&amp;width=1120.0&amp;wat=1&amp;wat_opacity=0.7&amp;wat_gravity=northwest&amp;wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&amp;wat_pad=251,277" alt class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>2. What can you learn about this test run? If it failed, use the error message, filmstrip, video replay, and waterfall to understand what happened.</p><p><a href=#R-image-2f953372ac0778bdde95c7e22204daac class=lightbox-link><img src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-01/274b798b-1f52-417b-9d7b-3840a3874b72/ascreenshot.jpeg?tl_px=0,0&amp;br_px=1719,961&amp;force_format=png&amp;width=1120.0&amp;wat=1&amp;wat_opacity=0.7&amp;wat_gravity=northwest&amp;wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&amp;wat_pad=234,240" alt class="figure-image noborder lightbox noshadow" style=height:auto;width:1120 loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-2f953372ac0778bdde95c7e22204daac><img src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-01/274b798b-1f52-417b-9d7b-3840a3874b72/ascreenshot.jpeg?tl_px=0,0&amp;br_px=1719,961&amp;force_format=png&amp;width=1120.0&amp;wat=1&amp;wat_opacity=0.7&amp;wat_gravity=northwest&amp;wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&amp;wat_pad=234,240" alt class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>3. What do you see in the resources? Make sure to click through all of the page (or transaction) tabs.</p><p><a href=#R-image-3f9aafe16b0210a689991c738be9f2ba class=lightbox-link><img src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-01/f971fc4b-49bd-4134-ae27-fe9444e41ef0/ascreenshot.jpeg?tl_px=738,453&amp;br_px=2458,1414&amp;force_format=png&amp;width=1120.0&amp;wat=1&amp;wat_opacity=0.7&amp;wat_gravity=northwest&amp;wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&amp;wat_pad=524,276" alt class="figure-image noborder lightbox noshadow" style=height:auto;width:1120 loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-3f9aafe16b0210a689991c738be9f2ba><img src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-01/f971fc4b-49bd-4134-ae27-fe9444e41ef0/ascreenshot.jpeg?tl_px=738,453&amp;br_px=2458,1414&amp;force_format=png&amp;width=1120.0&amp;wat=1&amp;wat_opacity=0.7&amp;wat_gravity=northwest&amp;wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&amp;wat_pad=524,276" alt class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><div class="box notices cstyle tip"><div class=box-label><i class="fa-fw fas fa-question"></i> Workshop Question</div><div class=box-content><p>Do you see anything interesting? Unexpected response codes, duplicate requests, forgotten third parties, large or slow files, and gaps between requests are common issues to find and fix.</p></div></div><footer class=footline></footer></article></section><article class=default><header class=headline></header><h1 id=api-test>API Test</h1><p>The API Test provides a flexible way to check the functionality and performance of API endpoints. The shift toward API-first development has magnified the necessity to monitor the back-end services that provide your core front-end functionality.</p><p>Whether you&rsquo;re interested in testing the multi-step API interactions or you want to gain visibility into the performance of your endpoints, the API Test can help you accomplish your goals.</p><p><a href=#R-image-5201e92f2c2a54e6cd9bf2c78f3961a6 class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/3-api-test/../img/api-test-result.png alt="API test result" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-5201e92f2c2a54e6cd9bf2c78f3961a6><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/3-api-test/../img/api-test-result.png alt="API test result" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><footer class=footline></footer></article><section><h1 class=a11y-only>Subsections of API Test</h1><article class=default><header class=headline></header><h1 id=global-variables>Global Variables</h1><h2 id=global-variables>Global Variables</h2><p>View the global variable that we&rsquo;ll use to perform our API test. Click on <strong>Global Variables</strong> under the cog. The global variable named <code>env.encoded_auth</code> will be the one that we&rsquo;ll use to build the spotify API transaction.</p><p><a href=#R-image-2b378bb3bf8c3f9a70080e15a4fca549 class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/3-api-test/1-global-varilables/../../img/global-variables.png alt=placeholder class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-2b378bb3bf8c3f9a70080e15a4fca549><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/3-api-test/1-global-varilables/../../img/global-variables.png alt=placeholder class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=create-new-api-test>Create new API test</h1><h2 id=create-a-new-api-test>Create a new API test</h2><p>Create a new API test by clicking on the
<span class="btn cstyle blue"><button type=button>
Add new test</button></span> button and select <strong>API test</strong> from the dropdown. Name the test using <strong>your initials</strong> followed by <strong>Spotify API</strong> e.g. <strong>RWC - Spotify API</strong></p><p><a href=#R-image-21082ee14204d2fca55caa8a50dc664a class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/3-api-test/2-create-new-check/../../img/new-api-check.png alt=placeholder class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-21082ee14204d2fca55caa8a50dc664a><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/3-api-test/2-create-new-check/../../img/new-api-check.png alt=placeholder class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=authentication-request>Authentication Request</h1><h2 id=add-authentication-request>Add Authentication Request</h2><p>Click on
<span class="btn cstyle transparent"><button type=button>
+ Add requests</button></span> and enter the request step name e.g. <strong>Authenticate with Spotify API</strong>.</p><p><a href=#R-image-806fea452935886f9563c7ef10b3cb11 class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/3-api-test/3-authentication-request/../../img/add-request.png alt=placeholder class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-806fea452935886f9563c7ef10b3cb11><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/3-api-test/3-authentication-request/../../img/add-request.png alt=placeholder class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Expand the Request section, from the drop-down change the request method to <strong>POST</strong> and enter the following URL:</p><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>https://accounts.spotify.com/api/token</span></span></code></pre></div><p>In the <strong>Payload body</strong> section enter the following:</p><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>grant_type=client_credentials</span></span></code></pre></div><p>Next, add two request headers with the following key/value pairings:</p><ul><li><strong>CONTENT-TYPE: application/x-www-form-urlencoded</strong></li><li><strong>AUTHORIZATION: Basic {{env.encoded_auth}}</strong></li></ul><p>Expand the <strong>Validation</strong> section and add the following extraction:</p><ul><li><strong>Extract</strong> from <strong>Response body</strong> <strong>JSON</strong> <strong>$.access_token</strong> <strong>as</strong> <strong>access_token</strong>.</li></ul><p>This will parse the JSON payload that is received from the Spotify API, extract the access token and store it as a custom variable.</p><p><a href=#R-image-6ba93d3cb832a3c2325ec90a8f6959b1 class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/3-api-test/3-authentication-request/../../img/add-payload-token.png alt="Add payload token" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-6ba93d3cb832a3c2325ec90a8f6959b1><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/3-api-test/3-authentication-request/../../img/add-payload-token.png alt="Add payload token" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=search-request>Search Request</h1><h2 id=add-search-request>Add Search Request</h2><p>Click on
<span class="btn cstyle transparent"><button type=button>
+ Add Request</button></span> to add the next step. Name the step <strong>Search for Tracks named &ldquo;Up around the bend&rdquo;</strong>.</p><p>Expand the <strong>Request</strong> section and change the request method to <strong>GET</strong> and enter the following URL:</p><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>https://api.spotify.com/v1/search?q=Up%20around%20the%20bend&amp;type=track&amp;offset=0&amp;limit=5</span></span></code></pre></div><p>Next, add two request headers with the following key/value pairings:</p><ul><li><strong>CONTENT-TYPE: application/json</strong></li><li><strong>AUTHORIZATION: Bearer {{custom.access_token}}</strong></li></ul><p><a href=#R-image-d8cc026d8b23405eba75e5c559992fe7 class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/3-api-test/4-search-request/../../img/add-search-request.png alt="Add search request" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-d8cc026d8b23405eba75e5c559992fe7><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/3-api-test/4-search-request/../../img/add-search-request.png alt="Add search request" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Expand the <strong>Validation</strong> section and add the following extraction:</p><ul><li><strong>Extract</strong> from <strong>Response body</strong> <strong>JSON</strong> <strong>$.tracks.items[0].id</strong> <strong>as</strong> <strong>track.id</strong>.</li></ul><p><a href=#R-image-70a5d1594a754b5c585dc92d5c03d227 class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/3-api-test/4-search-request/../../img/add-search-payload.png alt="Add search payload" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-70a5d1594a754b5c585dc92d5c03d227><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/3-api-test/4-search-request/../../img/add-search-payload.png alt="Add search payload" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Click on
<span class="btn cstyle blue"><button type=button>
< Return to test</button></span> to return to the test configuration page. And then click
<span class="btn cstyle blue"><button type=button>
Save</button></span> to save the API test.</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=view-results>View results</h1><h2 id=view-results>View results</h2><p>Wait for a few minutes for the test to provision and run. Once you see the test has run successfully, click on the run to view the test results:</p><p><a href=#R-image-08b90030ce73cb5e95cb6c911813b922 class=lightbox-link><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/3-api-test/5-view-results/../../img/api-test-result.png alt="API test result" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-08b90030ce73cb5e95cb6c911813b922><img src=../../en/scenarios/3-optimize-end-user-experiences/2-synthetics/3-api-test/5-view-results/../../img/api-test-result.png alt="API test result" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><h2 id=6-resources>6. Resources</h2><ul><li><p><a href=https://docs.splunk.com/Observability/synthetics/api-test/set-up-api-test.html target=_blank>How to Create an API Test</a></p></li><li><p><a href=https://docs.splunk.com/Observability/synthetics/api-test/api-test.html target=_blank>API Test Overview</a></p></li></ul><footer class=footline></footer></article></section><article class=default><header class=headline></header><h1 id=1-uptime-test>1. Uptime Test</h1><h2 id=introduction>Introduction</h2><p>The simplest way to keep an eye on endpoint availability is with an Uptime test. This lightweight test can run internally or from around the world, as frequently as every minute.</p><h2 id=pre-requisites>Pre-requisites</h2><ul><li>Publicly accessible HTTP(S) endpoint(s) to test</li><li>Access to Splunk Observability Cloud</li></ul><footer class=footline></footer></article><section><h1 class=a11y-only>Subsections of 1. Uptime Test</h1><article class=default><header class=headline></header><h1 id=1-creating-a-test>1 Creating a test</h1><h1 id=create-an-uptime-test>Create an Uptime Test</h1><p>1. Open Synthetics</p><p><a href=#R-image-fcda7d7d0b5e565bd50e29b5d5d73753 class=lightbox-link><img src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-01/339ff6a1-1d8d-4f65-8127-b0b04dd853c2/user_cropped_screenshot.jpeg?tl_px=0,0&amp;br_px=1047,610&amp;force_format=png&amp;width=1120.0&amp;wat=1&amp;wat_opacity=0.7&amp;wat_gravity=northwest&amp;wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&amp;wat_pad=23,256" alt class="figure-image noborder lightbox noshadow" style=height:auto;width:1120 loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-fcda7d7d0b5e565bd50e29b5d5d73753><img src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-01/339ff6a1-1d8d-4f65-8127-b0b04dd853c2/user_cropped_screenshot.jpeg?tl_px=0,0&amp;br_px=1047,610&amp;force_format=png&amp;width=1120.0&amp;wat=1&amp;wat_opacity=0.7&amp;wat_gravity=northwest&amp;wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&amp;wat_pad=23,256" alt class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>2. Click the
<span class="btn cstyle blue"><button type=button>
Add new test</button></span> button on the right side of the screen</p><p><a href=#R-image-1393c3250ebd1190d162f8a47ee0c6cc class=lightbox-link><img src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-01/6fd92b3e-e91a-492c-af7e-84f17571e6af/ascreenshot.jpeg?tl_px=1160,387&amp;br_px=2880,1348&amp;force_format=png&amp;width=1120.0&amp;wat=1&amp;wat_opacity=0.7&amp;wat_gravity=northwest&amp;wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&amp;wat_pad=857,276" alt class="figure-image noborder lightbox noshadow" style=height:auto;width:1120 loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-1393c3250ebd1190d162f8a47ee0c6cc><img src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-01/6fd92b3e-e91a-492c-af7e-84f17571e6af/ascreenshot.jpeg?tl_px=1160,387&amp;br_px=2880,1348&amp;force_format=png&amp;width=1120.0&amp;wat=1&amp;wat_opacity=0.7&amp;wat_gravity=northwest&amp;wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&amp;wat_pad=857,276" alt class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>3. Select Uptime and HTTP test</p><p><a href=#R-image-799bed004b44413799eabfb4f82fe3fa class=lightbox-link><img src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-01/1457c466-904f-4801-b06a-0062a3ea321a/ascreenshot.jpeg?tl_px=1160,671&amp;br_px=2880,1632&amp;force_format=png&amp;width=1120.0&amp;wat=1&amp;wat_opacity=0.7&amp;wat_gravity=northwest&amp;wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&amp;wat_pad=632,276" alt class="figure-image noborder lightbox noshadow" style=height:auto;width:1120 loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-799bed004b44413799eabfb4f82fe3fa><img src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-01/1457c466-904f-4801-b06a-0062a3ea321a/ascreenshot.jpeg?tl_px=1160,671&amp;br_px=2880,1632&amp;force_format=png&amp;width=1120.0&amp;wat=1&amp;wat_opacity=0.7&amp;wat_gravity=northwest&amp;wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&amp;wat_pad=632,276" alt class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>4. Name your test with [yourname] and any other details you&rsquo;d like to include, like geographic region.</p><p><a href=#R-image-67ec79c6455b910384a9a1a3f9281715 class=lightbox-link><img src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-01/bc5b4245-b4b1-4cd1-baa1-88875961db18/ascreenshot.jpeg?tl_px=101,119&amp;br_px=1820,1080&amp;force_format=png&amp;width=1120.0&amp;wat=1&amp;wat_opacity=0.7&amp;wat_gravity=northwest&amp;wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&amp;wat_pad=524,277" alt class="figure-image noborder lightbox noshadow" style=height:auto;width:1120 loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-67ec79c6455b910384a9a1a3f9281715><img src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-01/bc5b4245-b4b1-4cd1-baa1-88875961db18/ascreenshot.jpeg?tl_px=101,119&amp;br_px=1820,1080&amp;force_format=png&amp;width=1120.0&amp;wat=1&amp;wat_opacity=0.7&amp;wat_gravity=northwest&amp;wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&amp;wat_pad=524,277" alt class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>5. Fill in the URL field. You can use one of your own, or one of ours like <a href=https://frontend-eu.splunko11y.com target=_blank>https://frontend-eu.splunko11y.com</a>, <a href=https://frontend-us.splunko11y.com target=_blank>https://frontend-us.splunko11y.com</a>, or <a href=https://www.splunk.com target=_blank>https://www.splunk.com</a></p><p><a href=#R-image-2b5c7e36440d2aee6391485399e3a070 class=lightbox-link><img src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-01/e7aaccb3-1c1a-4db3-9918-ceed2d4c50d0/ascreenshot.jpeg?tl_px=22,421&amp;br_px=1741,1382&amp;force_format=png&amp;width=1120.0&amp;wat=1&amp;wat_opacity=0.7&amp;wat_gravity=northwest&amp;wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&amp;wat_pad=524,277" alt class="figure-image noborder lightbox noshadow" style=height:auto;width:1120 loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-2b5c7e36440d2aee6391485399e3a070><img src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-01/e7aaccb3-1c1a-4db3-9918-ceed2d4c50d0/ascreenshot.jpeg?tl_px=22,421&amp;br_px=1741,1382&amp;force_format=png&amp;width=1120.0&amp;wat=1&amp;wat_opacity=0.7&amp;wat_gravity=northwest&amp;wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&amp;wat_pad=524,277" alt class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>6. You can &ldquo;try now&rdquo; to validate that the endpoint is accessible before saving the test.</p><p><a href=#R-image-c0daabd7dc2be1fa7e6bcda299c6734f class=lightbox-link><img src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-01/4168460c-aa9e-4c47-b856-eab08ff0425d/ascreenshot.jpeg?tl_px=0,521&amp;br_px=1719,1482&amp;force_format=png&amp;width=1120.0&amp;wat=1&amp;wat_opacity=0.7&amp;wat_gravity=northwest&amp;wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&amp;wat_pad=452,277" alt class="figure-image noborder lightbox noshadow" style=height:auto;width:1120 loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-c0daabd7dc2be1fa7e6bcda299c6734f><img src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-01/4168460c-aa9e-4c47-b856-eab08ff0425d/ascreenshot.jpeg?tl_px=0,521&amp;br_px=1719,1482&amp;force_format=png&amp;width=1120.0&amp;wat=1&amp;wat_opacity=0.7&amp;wat_gravity=northwest&amp;wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&amp;wat_pad=452,277" alt class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>7. Add and remove any locations you&rsquo;d like.</p><p><a href=#R-image-452326c6ba700a4bd5e0f9e996c170f7 class=lightbox-link><img src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-01/74e0492f-13a5-4a93-9f3c-f1f311d3dd8a/ascreenshot.jpeg?tl_px=0,560&amp;br_px=1719,1521&amp;force_format=png&amp;width=1120.0&amp;wat=1&amp;wat_opacity=0.7&amp;wat_gravity=northwest&amp;wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&amp;wat_pad=385,277" alt class="figure-image noborder lightbox noshadow" style=height:auto;width:1120 loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-452326c6ba700a4bd5e0f9e996c170f7><img src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-01/74e0492f-13a5-4a93-9f3c-f1f311d3dd8a/ascreenshot.jpeg?tl_px=0,560&amp;br_px=1719,1521&amp;force_format=png&amp;width=1120.0&amp;wat=1&amp;wat_opacity=0.7&amp;wat_gravity=northwest&amp;wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&amp;wat_pad=385,277" alt class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>8. Change the test frequency to quickly gather data.</p><p><a href=#R-image-429023dabc0e34ca53646ca79b44d228 class=lightbox-link><img src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-01/1307df14-9c74-437d-87a7-6194b265d772/ascreenshot.jpeg?tl_px=0,0&amp;br_px=1719,961&amp;force_format=png&amp;width=1120.0&amp;wat=1&amp;wat_opacity=0.7&amp;wat_gravity=northwest&amp;wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&amp;wat_pad=448,187" alt class="figure-image noborder lightbox noshadow" style=height:auto;width:1120 loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-429023dabc0e34ca53646ca79b44d228><img src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-01/1307df14-9c74-437d-87a7-6194b265d772/ascreenshot.jpeg?tl_px=0,0&amp;br_px=1719,961&amp;force_format=png&amp;width=1120.0&amp;wat=1&amp;wat_opacity=0.7&amp;wat_gravity=northwest&amp;wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&amp;wat_pad=448,187" alt class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>9. Add any additional validations needed, for example if you are expecting a response code other than 2xx.</p><p><a href=#R-image-957cca054e7373fb03631b82ffb6b58c class=lightbox-link><img src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-01/b60fbd9f-cf2e-4a18-8253-0810a9cbf9c0/ascreenshot.jpeg?tl_px=0,330&amp;br_px=1719,1291&amp;force_format=png&amp;width=1120.0&amp;wat=1&amp;wat_opacity=0.7&amp;wat_gravity=northwest&amp;wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&amp;wat_pad=267,276" alt class="figure-image noborder lightbox noshadow" style=height:auto;width:1120 loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-957cca054e7373fb03631b82ffb6b58c><img src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-01/b60fbd9f-cf2e-4a18-8253-0810a9cbf9c0/ascreenshot.jpeg?tl_px=0,330&amp;br_px=1719,1291&amp;force_format=png&amp;width=1120.0&amp;wat=1&amp;wat_opacity=0.7&amp;wat_gravity=northwest&amp;wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&amp;wat_pad=267,276" alt class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>10. Scroll down and click
<span class="btn cstyle blue"><button type=button>
Submit</button></span> to save the test configuration and start it running. Take a water break, then we&rsquo;ll look at the results!</p><p><a href=#R-image-fd1efcb2621ad51b5df058691f248f5c class=lightbox-link><img src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-01/404871c6-55cd-40e0-83a2-a9a12dd183ce/ascreenshot.jpeg?tl_px=0,838&amp;br_px=1719,1799&amp;force_format=png&amp;width=1120.0&amp;wat=1&amp;wat_opacity=0.7&amp;wat_gravity=northwest&amp;wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&amp;wat_pad=134,553" alt class="figure-image noborder lightbox noshadow" style=height:auto;width:1120 loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-fd1efcb2621ad51b5df058691f248f5c><img src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-01/404871c6-55cd-40e0-83a2-a9a12dd183ce/ascreenshot.jpeg?tl_px=0,838&amp;br_px=1719,1799&amp;force_format=png&amp;width=1120.0&amp;wat=1&amp;wat_opacity=0.7&amp;wat_gravity=northwest&amp;wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&amp;wat_pad=134,553" alt class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=12-understanding-results>1.2 Understanding results</h1><h1 id=understand-uptime-test-results>Understand uptime test results</h1><ol><li>Click through the Performance KPIs chart filters to see how you can slice and dice your data. This is a good place to get started understanding trends in your data. Later we will see what custom charts look like, so that you can have a consistent view of what you care about most.</li></ol><div class="box notices cstyle tip"><div class=box-label><i class="fa-fw fas fa-question"></i> Workshop Question</div><div class=box-content><p>How does the data look? Is it consistent across time and locations? Do certain locations run slower than others? Are there any spikes or failures?</p></div></div><p><a href=#R-image-d8fc719c1454cc367260492242ae70e2 class=lightbox-link><img src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-01/a47514b7-184f-4338-ae9e-c852c48c797e/ascreenshot.jpeg?tl_px=1160,0&amp;br_px=2880,961&amp;force_format=png&amp;width=1120.0&amp;wat=1&amp;wat_opacity=0.7&amp;wat_gravity=northwest&amp;wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&amp;wat_pad=755,238" alt class="figure-image noborder lightbox noshadow" style=height:auto;width:1120 loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-d8fc719c1454cc367260492242ae70e2><img src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-01/a47514b7-184f-4338-ae9e-c852c48c797e/ascreenshot.jpeg?tl_px=1160,0&amp;br_px=2880,961&amp;force_format=png&amp;width=1120.0&amp;wat=1&amp;wat_opacity=0.7&amp;wat_gravity=northwest&amp;wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&amp;wat_pad=755,238" alt class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><ol><li>How&rsquo;s your test running? Click into a recent run either in the chart or in the table below. If there are failures, look at the response to see if you need to add a response code assertion (302 is a common one), if there is some authorization needed, or something else.</li></ol><p><a href=#R-image-e4ebf13163dd47a290b46fa4c522f229 class=lightbox-link><img src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-01/dd23b173-e567-4858-997e-bdcc5233d4e4/ascreenshot.jpeg?tl_px=0,838&amp;br_px=1719,1799&amp;force_format=png&amp;width=1120.0&amp;wat=1&amp;wat_opacity=0.7&amp;wat_gravity=northwest&amp;wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&amp;wat_pad=167,363" alt class="figure-image noborder lightbox noshadow" style=height:auto;width:1120 loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-e4ebf13163dd47a290b46fa4c522f229><img src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-01/dd23b173-e567-4858-997e-bdcc5233d4e4/ascreenshot.jpeg?tl_px=0,838&amp;br_px=1719,1799&amp;force_format=png&amp;width=1120.0&amp;wat=1&amp;wat_opacity=0.7&amp;wat_gravity=northwest&amp;wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&amp;wat_pad=167,363" alt class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><ol><li>Here we have information about this particular test run including if it succeeded or failed, the location, timestamp, and duration in addition to the other Uptime test metrics. Click through to see the response, request, and connection info as well.</li></ol><p><a href=#R-image-bef3a264250474923775b7968fa5e033 class=lightbox-link><img src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-01/719d3bab-606e-4f67-9f2d-2835f0d136af/ascreenshot.jpeg?tl_px=0,240&amp;br_px=1719,1201&amp;force_format=png&amp;width=1120.0&amp;wat=1&amp;wat_opacity=0.7&amp;wat_gravity=northwest&amp;wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&amp;wat_pad=216,276" alt class="figure-image noborder lightbox noshadow" style=height:auto;width:1120 loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-bef3a264250474923775b7968fa5e033><img src="https://ajeuwbhvhr.cloudimg.io/colony-recorder.s3.amazonaws.com/files/2024-02-01/719d3bab-606e-4f67-9f2d-2835f0d136af/ascreenshot.jpeg?tl_px=0,240&amp;br_px=1719,1201&amp;force_format=png&amp;width=1120.0&amp;wat=1&amp;wat_opacity=0.7&amp;wat_gravity=northwest&amp;wat_url=https://colony-recorder.s3.us-west-1.amazonaws.com/images/watermarks/FB923C_standard.png&amp;wat_pad=216,276" alt class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><ol><li>Once you have your Uptime test running successfully, let&rsquo;s move on to the next test type.</li></ol><footer class=footline></footer></article></section></section></section><article class=chapter><header class=headline></header><div class=article-subheading>Chapter 4</div><h1 id=self-service-observability>Self-Service Observability</h1><p>TBD</p><footer class=footline></footer></article><article class=chapter><header class=headline></header><div class=article-subheading>Chapter 5</div><h1 id=understand-impact>Understand Impact</h1><p><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>2 minutes</span></span> <span class="badge cstyle blue badge-with-title"><span class=badge-title>Authors</span><span class=badge-content>Derek Mitchell</span></span></p><p><strong>Splunk Observability Cloud</strong> includes powerful features that dramatically reduce the time required for SREs to isolate issues across services, so they know which team to engage to troubleshoot the issue further, and can provide context to help engineering get a head start on debugging.</p><p>Unlocking these features requires tags to be included with your application traces. But how do you know which tags are the most valuable and how do you capture them?</p><p>In this workshop, we&rsquo;ll explore:</p><ul><li>What are <strong>tags</strong> and why are they such a critical part of making an application observable.</li><li>How to use <a href=https://opentelemetry.io target=_blank><strong>OpenTelemetry</strong></a> to capture tags of interest from your application.</li><li>How to index tags in <strong>Splunk Observability Cloud</strong> and the differences between <strong>Troubleshooting MetricSets</strong> and <strong>Monitoring MetricSets</strong>.</li><li>How to utilize tags in <strong>Splunk Observability Cloud</strong> to find “unknown unknowns” using the <strong>Tag Spotlight</strong> and <strong>Dynamic Service Map</strong> features.</li><li>How to utilize tags for alerting and dashboards.</li></ul><p>The workshop uses a simple microservices-based application to illustrate these concepts. Let&rsquo;s get started!</p><div class="box notices cstyle primary"><div class=box-label><i class="fa-fw fas fa-lightbulb"></i> Tip</div><div class=box-content><p>The easiest way to navigate through this workshop is by using:</p><ul><li>the left/right arrows (<strong>&lt;</strong> | <strong>></strong>) on the top right of this page</li><li>the left (◀️) and right (▶️) cursor keys on your keyboard</li></ul></div></div><footer class=footline></footer></article><section><h1 class=a11y-only>Subsections of Understand Impact</h1><article class=default><header class=headline></header><h1 id=build-the-sample-application>Build the Sample Application</h1><span class="badge cstyle default badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content style=background-color:#ed0090>10 minutes</span></span><h2 id=introduction>Introduction</h2><p>For this workshop, we&rsquo;ll be using a microservices-based application. This application is for an online retailer and normally includes more than a dozen services. However, to keep the workshop simple, we&rsquo;ll be focusing on two services used by the retailer as part of their payment processing workflow: the credit check service and the credit processor service.</p><h2 id=pre-requisites>Pre-requisites</h2><p>You will start with an EC2 instance and perform some <a href=#initial-steps>initial steps</a> in order to get to the following state:</p><ul><li>Install Kubernetes (k3s) and Docker</li><li>Deploy the <strong>Splunk distribution of the OpenTelemetry Collector</strong></li><li>Build and deploy <code>creditcheckservice</code> and <code>creditprocessorservice</code></li><li>Deploy a load generator to send traffic to the services</li></ul><h2 id=initial-steps>Initial Steps</h2><p>The initial setup can be completed by executing the following steps on the command line of your EC2 instance.</p><p>You&rsquo;ll be asked to enter a name for your environment. Please use <code>tagging-workshop-yourname</code> (where <code>yourname</code> is replaced by your actual name).</p><div class="wrap-code highlight"><pre tabindex=0><code>cd workshop/tagging

./1-docker-setup.sh

# Exit and ssh back to this instance

# return to the same directory as before 
cd workshop/tagging

# ensure Docker is running 
sudo systemctl start docker

./2-deploy-otel-collector.sh
./3-deploy-creditcheckservice.sh
./4-deploy-creditprocessorservice.sh
./7-deploy-load-generator.sh</code></pre></div><h2 id=view-your-application-in-splunk-observability-cloud>View your application in Splunk Observability Cloud</h2><p>Now that the setup is complete, let&rsquo;s confirm that it&rsquo;s sending data to <strong>Splunk Observability Cloud</strong>. Note that when the application is deployed for the first time, it may take a few minutes for the data to appear.</p><p>Navigate to APM, then use the Environment dropdown to select your environment (i.e. <code>tagging-workshop-name</code>).</p><p>If everything was deployed correctly, you should see <code>creditprocessorservice</code> and <code>creditcheckservice</code> displayed in the list of services:</p><p><a href=#R-image-0b75eeeb03ccfb1c535844c17b925337 class=lightbox-link><img src=../../en/scenarios/5-understand-impact/1-build-application/../images/apm_overview.png alt="APM Overview" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-0b75eeeb03ccfb1c535844c17b925337><img src=../../en/scenarios/5-understand-impact/1-build-application/../images/apm_overview.png alt="APM Overview" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Click on <strong>Explore</strong> on the right-hand side to view the service map. We can see that the <code>creditcheckservice</code> makes calls to the <code>creditprocessorservice</code>, with an average response time of at least 3 seconds:</p><p><a href=#R-image-1653aaa611d3ba3d2aa8e42203e38e54 class=lightbox-link><img src=../../en/scenarios/5-understand-impact/1-build-application/../images/service_map.png alt="Service Map" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-1653aaa611d3ba3d2aa8e42203e38e54><img src=../../en/scenarios/5-understand-impact/1-build-application/../images/service_map.png alt="Service Map" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Next, click on <strong>Traces</strong> on the right-hand side to see the traces captured for this application. You&rsquo;ll see that some traces run relatively fast (i.e. just a few milliseconds), whereas others take a few seconds.</p><p><a href=#R-image-3e7d4701b2f88bf88c2ad4df68aec3f6 class=lightbox-link><img src=../../en/scenarios/5-understand-impact/1-build-application/../images/traces.png alt=Traces class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-3e7d4701b2f88bf88c2ad4df68aec3f6><img src=../../en/scenarios/5-understand-impact/1-build-application/../images/traces.png alt=Traces class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>If you toggle <strong>Errors only</strong> to <code>on</code>, you&rsquo;ll also notice that some traces have errors:</p><p><a href=#R-image-fe775c2f83035f9a24c26b14ade1f4e1 class=lightbox-link><img src=../../en/scenarios/5-understand-impact/1-build-application/../images/traces_with_errors.png alt=Traces class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-fe775c2f83035f9a24c26b14ade1f4e1><img src=../../en/scenarios/5-understand-impact/1-build-application/../images/traces_with_errors.png alt=Traces class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Toggle <strong>Errors only</strong> back to <code>off</code> and sort the traces by duration, then click on one of the longer running traces. In this example, the trace took five seconds, and we can see that most of the time was spent calling the <code>/runCreditCheck</code> operation, which is part of the <code>creditprocessorservice</code>.</p><p><a href=#R-image-103b63a2bd89b29e907ed418191c0cc3 class=lightbox-link><img src=../../en/scenarios/5-understand-impact/1-build-application/../images/long_running_trace.png alt="Long Running Trace" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-103b63a2bd89b29e907ed418191c0cc3><img src=../../en/scenarios/5-understand-impact/1-build-application/../images/long_running_trace.png alt="Long Running Trace" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Currently, we don&rsquo;t have enough details in our traces to understand why some requests finish in a few milliseconds, and others take several seconds. To provide the best possible customer experience, this will be critical for us to understand.</p><p>We also don&rsquo;t have enough information to understand why some requests result in errors, and others don&rsquo;t. For example, if we look at one of the error traces, we can see that the error occurs when the <code>creditprocessorservice</code> attempts to call another service named <code>otherservice</code>. But why do some requests results in a call to <code>otherservice</code>, and others don&rsquo;t?</p><p><a href=#R-image-9fbe992e4e011397b1b66afbec660fce class=lightbox-link><img src=../../en/scenarios/5-understand-impact/1-build-application/../images/error_trace.png alt="Trace with Errors" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-9fbe992e4e011397b1b66afbec660fce><img src=../../en/scenarios/5-understand-impact/1-build-application/../images/error_trace.png alt="Trace with Errors" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>We&rsquo;ll explore these questions and more in the workshop.</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=what-are-tags>What are Tags?</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>3 minutes</span></span><p>To understand why some requests have errors or slow performance, we&rsquo;ll need to add context to our traces. We&rsquo;ll do this by adding tags. But first, let&rsquo;s take a moment to discuss what tags are, and why they&rsquo;re so important for observability.</p><h2 id=what-are-tags>What are tags?</h2><p>Tags are key-value pairs that provide additional metadata about spans in a trace, allowing you to enrich the context of the spans you send to Splunk APM.</p><p>For example, a payment processing application would find it helpful to track:</p><ul><li>The payment type used (i.e. credit card, gift card, etc.)</li><li>The ID of the customer that requested the payment</li></ul><p>This way, if errors or performance issues occur while processing the payment, we have the context we need for troubleshooting.</p><p>While some tags can be added with the OpenTelemetry collector, the ones we’ll be working with in this workshop are more granular, and are added by application developers using the OpenTelemetry API.</p><h2 id=attributes-vs-tags>Attributes vs. Tags</h2><p>A note about terminology before we proceed. While this workshop is about <strong>tags</strong>, and this is the terminology we use in <strong>Splunk Observability Cloud</strong>, OpenTelemetry uses the term <strong>attributes</strong> instead. So when you see tags mentioned throughout this workshop, you can treat them as synonymous with attributes.</p><h2 id=what-are-tags-so-important>What are tags so important?</h2><p>Tags are essential for an application to be truly observable. As we saw with our credit check service, some users are having a great experience: fast with no errors. But other users get a slow experience or encounter errors.</p><p>Tags add the context to the traces to help us understand why some users get a great experience and others don&rsquo;t. And powerful features in <strong>Splunk Observability Cloud</strong> utilize tags to help you jump quickly to root cause.</p><p>Let&rsquo;s proceed to look at how tags can be captured using OpenTelemetry.</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=capture-tags-with-opentelemetry>Capture Tags with OpenTelemetry</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>15 minutes</span></span><p>Let&rsquo;s add some tags to our traces, so we can find out why some customers receive a poor experience from our application.</p><h2 id=identify-useful-tags>Identify Useful Tags</h2><p>We&rsquo;ll start by reviewing the code for the <code>credit_check</code> function of <code>creditcheckservice</code> (which can be found in the <code>/home/splunk/workshop/tagging/creditcheckservice/main.py</code> file):</p><div class="wrap-code highlight"><pre tabindex=0><code>@app.route(&#39;/check&#39;)
def credit_check():
    customerNum = request.args.get(&#39;customernum&#39;)

    # Get Credit Score
    creditScoreReq = requests.get(&#34;http://creditprocessorservice:8899/getScore?customernum=&#34; + customerNum)
    creditScoreReq.raise_for_status()
    creditScore = int(creditScoreReq.text)

    creditScoreCategory = getCreditCategoryFromScore(creditScore)

    # Run Credit Check
    creditCheckReq = requests.get(&#34;http://creditprocessorservice:8899/runCreditCheck?customernum=&#34; + str(customerNum) + &#34;&amp;score=&#34; + str(creditScore))
    creditCheckReq.raise_for_status()
    checkResult = str(creditCheckReq.text)

    return checkResult</code></pre></div><p>We can see that this function accepts a <strong>customer number</strong> as an input. This would be helpful to capture as part of a trace. What else would be helpful?</p><p>Well, the <strong>credit score</strong> returned for this customer by the <code>creditprocessorservice</code> may be interesting (we want to ensure we don&rsquo;t capture any PII data though). It would also be helpful to capture the <strong>credit score category</strong>, and the <strong>credit check result</strong>.</p><p>Great, we&rsquo;ve identified four tags to capture from this service that could help with our investigation. But how do we capture these?</p><h2 id=capture-tags>Capture Tags</h2><p>We start by adding importing the trace module by adding an import statement to the top of the <code>creditcheckservice/main.py</code> file:</p><div class="wrap-code highlight"><pre tabindex=0><code>import requests
from flask import Flask, request
from waitress import serve
from opentelemetry import trace  # &lt;--- ADDED BY WORKSHOP
...</code></pre></div><p>Next, we need to get a reference to the current span so we can add an attribute (aka tag) to it:</p><div class="wrap-code highlight"><pre tabindex=0><code>def credit_check():
    current_span = trace.get_current_span()  # &lt;--- ADDED BY WORKSHOP
    customerNum = request.args.get(&#39;customernum&#39;)
    current_span.set_attribute(&#34;customer.num&#34;, customerNum)  # &lt;--- ADDED BY WORKSHOP
...</code></pre></div><p>That was pretty easy, right? Let&rsquo;s capture some more, with the final result looking like this:</p><div class="wrap-code highlight"><pre tabindex=0><code>def credit_check():
    current_span = trace.get_current_span()  # &lt;--- ADDED BY WORKSHOP
    customerNum = request.args.get(&#39;customernum&#39;)
    current_span.set_attribute(&#34;customer.num&#34;, customerNum)  # &lt;--- ADDED BY WORKSHOP

    # Get Credit Score
    creditScoreReq = requests.get(&#34;http://creditprocessorservice:8899/getScore?customernum=&#34; + customerNum)
    creditScoreReq.raise_for_status()
    creditScore = int(creditScoreReq.text)
    current_span.set_attribute(&#34;credit.score&#34;, creditScore)  # &lt;--- ADDED BY WORKSHOP

    creditScoreCategory = getCreditCategoryFromScore(creditScore)
    current_span.set_attribute(&#34;credit.score.category&#34;, creditScoreCategory)  # &lt;--- ADDED BY WORKSHOP

    # Run Credit Check
    creditCheckReq = requests.get(&#34;http://creditprocessorservice:8899/runCreditCheck?customernum=&#34; + str(customerNum) + &#34;&amp;score=&#34; + str(creditScore))
    creditCheckReq.raise_for_status()
    checkResult = str(creditCheckReq.text)
    current_span.set_attribute(&#34;credit.check.result&#34;, checkResult)  # &lt;--- ADDED BY WORKSHOP

    return checkResult</code></pre></div><h2 id=redeploy-service>Redeploy Service</h2><p>Once these changes are made, let&rsquo;s run the following script to rebuild the Docker image used for <code>creditcheckservice</code> and redeploy it to our Kubernetes cluster:</p><div class="wrap-code highlight"><pre tabindex=0><code>./5-redeploy-creditcheckservice.sh</code></pre></div><h2 id=confirm-tag-is-captured-successfully>Confirm Tag is Captured Successfully</h2><p>After a few minutes, return to <strong>Splunk Observability Cloud</strong> and load one of the latest traces to confirm that the tags were captured successfully (hint: sort by duration to find the latest traces):</p><p><strong><a href=#R-image-c2d0d86892235a8a5b308da16e3cec47 class=lightbox-link><img src=../../en/scenarios/5-understand-impact/3-capture-tags/../images/trace_with_attributes.png alt="Trace with Attributes" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-c2d0d86892235a8a5b308da16e3cec47><img src=../../en/scenarios/5-understand-impact/3-capture-tags/../images/trace_with_attributes.png alt="Trace with Attributes" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></strong></p><p>Well done, you&rsquo;ve leveled up your OpenTelemetry game and have added context to traces using tags.</p><p>Next, we&rsquo;re ready to see how you can use these tags with <strong>Splunk Observability Cloud</strong>!</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=explore-trace-data>Explore Trace Data</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>5 minutes</span></span><p>Now that we&rsquo;ve captured several tags from our application, let&rsquo;s explore some of the trace data we&rsquo;ve captured that include this additional context, and see if we can identify what&rsquo;s causing poor user experience in some cases.</p><h2 id=use-trace-analyzer>Use Trace Analyzer</h2><p>Navigate to <strong>APM</strong>, then select <strong>Traces</strong>. This takes us to the <strong>Trace Analyzer</strong>, where we can add filters to search for traces of interest. For example, we can filter on traces where the credit score starts with <code>7</code>:</p><p><a href=#R-image-cf403007052e5cf2e47fe4661ff0f0a6 class=lightbox-link><img src=../../en/scenarios/5-understand-impact/4-explore-trace-data/../images/credit_score_starts_with_seven.png alt="Credit Check Starts with Seven" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-cf403007052e5cf2e47fe4661ff0f0a6><img src=../../en/scenarios/5-understand-impact/4-explore-trace-data/../images/credit_score_starts_with_seven.png alt="Credit Check Starts with Seven" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>If you load one of these traces, you&rsquo;ll see that the credit score indeed starts with seven.</p><p>We can apply similar filters for the customer number, credit score category, and credit score result.</p><h2 id=explore-traces-with-errors>Explore Traces With Errors</h2><p>Let&rsquo;s remove the credit score filter and toggle <strong>Errors only</strong> to on, which results in a list of only those traces where an error occurred:</p><p><a href=#R-image-b3f3006497bc645f1d44e4fdfe86c20e class=lightbox-link><img src=../../en/scenarios/5-understand-impact/4-explore-trace-data/../images/traces_errors_only.png alt="Traces with Errors Only" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-b3f3006497bc645f1d44e4fdfe86c20e><img src=../../en/scenarios/5-understand-impact/4-explore-trace-data/../images/traces_errors_only.png alt="Traces with Errors Only" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Click on a few of these traces, and look at the tags we captured. Do you notice any patterns?</p><p>Next, toggle <strong>Errors only</strong> to off, and sort traces by duration. Look at a few of the slowest running traces, and compare them to the fastest running traces. Do you notice any patterns?</p><p>If you found a pattern that explains the slow performance and errors - great job! But keep in mind that this is a difficult way to troubleshoot, as it requires you to look through many traces and mentally keep track of what you saw, so you can identify a pattern.</p><p>Thankfully, <strong>Splunk Observability Cloud</strong> provides a more efficient way to do this, which we&rsquo;ll explore next.</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=index-tags>Index Tags</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>5 minutes</span></span><h2 id=index-tags>Index Tags</h2><p>To use advanced features in <strong>Splunk Observability Cloud</strong> such as <strong>Tag Spotlight</strong>, we&rsquo;ll need to first index one or more tags.</p><p>To do this, navigate to <strong>Settings</strong> -> <strong>APM MetricSets</strong>. Then click the <strong>+ New MetricSet</strong> button.</p><p>Let&rsquo;s index the <code>credit.score.category</code> tag by entering the following details (<strong>note</strong>: since everyone in the workshop is using the same organization, the instructor will do this step on your behalf):</p><p><a href=#R-image-6d99f28d03dfbad9c45c168449cdcdf3 class=lightbox-link><img src=../../en/scenarios/5-understand-impact/5-index-tags/../images/create_troubleshooting_metric_set.png alt="Create Troubleshooting MetricSet" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-6d99f28d03dfbad9c45c168449cdcdf3><img src=../../en/scenarios/5-understand-impact/5-index-tags/../images/create_troubleshooting_metric_set.png alt="Create Troubleshooting MetricSet" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Click <strong>Start Analysis</strong> to proceed.</p><p>The tag will appear in the list of <strong>Pending MetricSets</strong> while analysis is performed.</p><p><a href=#R-image-6033278c2943ad067eb0ec96aa259870 class=lightbox-link><img src=../../en/scenarios/5-understand-impact/5-index-tags/../images/pending_metric_set.png alt="Pending MetricSets" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-6033278c2943ad067eb0ec96aa259870><img src=../../en/scenarios/5-understand-impact/5-index-tags/../images/pending_metric_set.png alt="Pending MetricSets" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Once analysis is complete, click on the checkmark in the <strong>Actions</strong> column.</p><p><a href=#R-image-2d6fc63954bd192c89dc94c50eb9be6e class=lightbox-link><img src=../../en/scenarios/5-understand-impact/5-index-tags/../images/metricset_config_applied.png alt="MetricSet Configuraiton Applied" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-2d6fc63954bd192c89dc94c50eb9be6e><img src=../../en/scenarios/5-understand-impact/5-index-tags/../images/metricset_config_applied.png alt="MetricSet Configuraiton Applied" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><h2 id=how-to-choose-tags-for-indexing>How to choose tags for indexing</h2><p>Why did we choose to index the <code>credit.score.category</code> tag and not the others?</p><p>To understand this, let&rsquo;s review the primary use cases for tags:</p><ul><li>Filtering</li><li>Grouping</li></ul><h3 id=filtering>Filtering</h3><p>With the filtering use case, we can use the <strong>Trace Analyzer</strong> capability of <strong>Splunk Observability Cloud</strong> to filter on traces that match a particular tag value.</p><p>We saw an example of this earlier, when we filtered on traces where the credit score started with &ldquo;7&rdquo;.</p><p>Or if a customer calls in to complain about slow service, we could use <strong>Trace Analyzer</strong> to locate all traces with that particular customer number.</p><p>Tags used for filtering use cases are generally high-cardinality, meaning that there could be thousands or even hundreds of thousands of unique values. In fact, <strong>Splunk Observability Cloud</strong> can handle an effectively infinite number of unique tag values! Filtering using these tags allows us to rapidly locate the traces of interest.</p><p>Note that we aren&rsquo;t required to index tags to use them for filtering with <strong>Trace Analyzer</strong>.</p><h3 id=grouping>Grouping</h3><p>With the grouping use case, we can surface trends for tags that we collect using the powerful <strong>Tag Spotlight</strong> feature in <strong>Splunk Observability Cloud</strong>, which we&rsquo;ll see in action shortly.</p><p>Tags used for grouping use cases should be low to medium-cardinality, with hundreds of unique values.</p><p>For custom tags to be used with <strong>Tag Spotlight</strong>, they first need to be indexed.</p><p>We decided to index the <code>credit.score.category</code> tag because it has a few distinct values that would be useful for grouping. In contrast, the customer number and credit score tags have hundreds or thousands of unique values, and are more valuable for filtering use cases rather than grouping.</p><h2 id=troubleshooting-vs-monitoring-metricsets>Troubleshooting vs. Monitoring MetricSets</h2><p>You may have noticed that, to index this tag, we created something called a <strong>Troubleshooting MetricSet</strong>. It&rsquo;s named this way because a Troubleshooting MetricSet, or TMS, allows us to troubleshoot issues with this tag using features such as <strong>Tag Spotlight</strong>.</p><p>You may have also noticed that there&rsquo;s another option which we didn&rsquo;t choose called a <strong>Monitoring MetricSet</strong> (or MMS). Monitoring MetricSets go beyond troubleshooting and allow us to use tags for alerting and dashboards. We&rsquo;ll explore this concept later in the workshop.</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=use-tags-for-troubleshooting>Use Tags for Troubleshooting</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>5 minutes</span></span><h2 id=using-tag-spotlight>Using Tag Spotlight</h2><p>Now that we&rsquo;ve indexed the <code>credit.score.category</code> tag, we can use it with <strong>Tag Spotlight</strong> to troubleshoot our application.</p><p>Navigate to <strong>APM</strong> then click on <strong>Tag Spotlight</strong> on the right-hand side.</p><p>Ensure the <code>creditcheckservice</code> service is selected from the <strong>Service</strong> drop-down (if not already selected).</p><p>With <strong>Tag Spotlight</strong>, we can see 100% of credit score requests that result in a score of <code>impossible</code> have an error, yet requests for all other credit score types have no errors at all!</p><p><strong><a href=#R-image-d5b5ffae949763bfc9ce50e842d67968 class=lightbox-link><img src=../../en/scenarios/5-understand-impact/6-use-tags/../images/tag_spotlight_errors.png alt="Tag Spotlight with Errors" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-d5b5ffae949763bfc9ce50e842d67968><img src=../../en/scenarios/5-understand-impact/6-use-tags/../images/tag_spotlight_errors.png alt="Tag Spotlight with Errors" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></strong></p><p>This illustrates the power of <strong>Tag Spotlight</strong>! Finding this pattern would be time-consuming without it, as we&rsquo;d have to manually look through hundreds of traces to identify the pattern (and even then, there&rsquo;s no guarantee we&rsquo;d find it).</p><p>We&rsquo;ve looked at errors, but what about latency? Let&rsquo;s click on <strong>Latency</strong> near the top of the screen to find out.</p><p>Here, we can see that the requests with a <code>poor</code> credit score request are running slowly, with P50, P90, and P99 times of around 3 seconds, which is too long for our users to wait, and much slower than other requests.</p><p>We can also see that some requests with an <code>exceptional</code> credit score request are running slowly, with P99 times of around 5 seconds, though the P50 response time is relatively quick.</p><p><strong><a href=#R-image-80e457e603a76745bc40c98cb9fcab56 class=lightbox-link><img src=../../en/scenarios/5-understand-impact/6-use-tags/../images/tag_spotlight_latency.png alt="Tag Spotlight with Latency" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-80e457e603a76745bc40c98cb9fcab56><img src=../../en/scenarios/5-understand-impact/6-use-tags/../images/tag_spotlight_latency.png alt="Tag Spotlight with Latency" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></strong></p><h2 id=using-dynamic-service-maps>Using Dynamic Service Maps</h2><p>Now that we know the credit score category associated with the request can impact performance and error rates, let&rsquo;s explore another feature that utilizes indexed tags: <strong>Dynamic Service Maps</strong>.</p><p>With Dynamic Service Maps, we can breakdown a particular service by a tag. For example, let&rsquo;s click on <strong>APM</strong>, then click <strong>Explore</strong> to view the service map.</p><p>Click on <code>creditcheckservice</code>. Then, on the right-hand menu, click on the drop-down that says <strong>Breakdown</strong>, and select the <code>credit.score.category</code> tag.</p><p>At this point, the service map is updated dynamically, and we can see the performance of requests hitting <code>creditcheckservice</code> broken down by the credit score category:</p><p><strong><a href=#R-image-708b54a958875e1ca473d13f4eb26777 class=lightbox-link><img src=../../en/scenarios/5-understand-impact/6-use-tags/../images/service_map_breakdown.png alt="Service Map Breakdown" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-708b54a958875e1ca473d13f4eb26777><img src=../../en/scenarios/5-understand-impact/6-use-tags/../images/service_map_breakdown.png alt="Service Map Breakdown" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></strong></p><p>This view makes it clear that performance for <code>good</code> and <code>fair</code> credit scores is excellent, while <code>poor</code> and <code>exceptional</code> scores are much slower, and <code>impossible</code> scores result in errors.</p><h2 id=summary>Summary</h2><p><strong>Tag Spotlight</strong> has uncovered several interesting patterns for the engineers that own this service to explore further:</p><ul><li>Why are all the <code>impossible</code> credit score requests resulting in error?</li><li>Why are all the <code>poor</code> credit score requests running slowly?</li><li>Why do some of the <code>exceptional</code> requests run slowly?</li></ul><p>As an SRE, passing this context to the engineering team would be extremely helpful for their investigation, as it would allow them to track down the issue much more quickly than if we simply told them that the service was &ldquo;sometimes slow&rdquo;.</p><p>If you&rsquo;re curious, have a look at the source code for the <code>creditprocessorservice</code>. You&rsquo;ll see that requests with impossible, poor, and exceptional credit scores are handled differently, thus resulting in the differences in error rates and latency that we uncovered.</p><p>The behavior we saw with our application is typical for modern cloud-native applications, where different inputs passed to a service lead to different code paths, some of which result in slower performance or errors. For example, in a real credit check service, requests resulting in low credit scores may be sent to another downstream service to further evaluate risk, and may perform more slowly than requests resulting in higher scores, or encounter higher error rates.</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=use-tags-with-alerting-and-dashboards>Use Tags with Alerting and Dashboards</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>10 minutes</span></span><p>Earlier, we created a <strong>Troubleshooting Metric Set</strong> on the <code>credit.score.category</code> tag, which allowed us to use <strong>Tag Spotlight</strong> with that tag and identify a pattern to explain why some users received a poor experience.</p><p>In this section of the workshop, we&rsquo;ll explore a related concept: <strong>Monitoring MetricSets</strong>.</p><h2 id=what-are-monitoring-metricsets>What are Monitoring MetricSets?</h2><p><strong>Monitoring MetricSets</strong> go beyond troubleshooting and allow us to use tags for alerting and dashboards.</p><h2 id=create-a-monitoring-metricset>Create a Monitoring MetricSet</h2><p>Let&rsquo;s navigate to <strong>Settings</strong> -> <strong>APM MetricSets</strong>, and click the edit button (i.e. the little pencil) beside the MetricSet for <code>credit.score.category</code>.</p><p>Check the box beside <strong>Also create Monitoring MetricSet</strong> then click <strong>Start Analysis</strong> (<strong>note</strong>: your workshop instructor will do this for you)</p><p><a href=#R-image-5e988ccb97c832d69ef5112a8dba661c class=lightbox-link><img src=../../en/scenarios/5-understand-impact/7-alerting-and-dashboards/../images/monitoring_metricset.png alt="Monitoring MetricSet" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-5e988ccb97c832d69ef5112a8dba661c><img src=../../en/scenarios/5-understand-impact/7-alerting-and-dashboards/../images/monitoring_metricset.png alt="Monitoring MetricSet" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>The <code>credit.score.category</code> tag appears again as a <strong>Pending MetricSet</strong>. After a few moments, a checkmark should appear. Click this checkmark to enable the <strong>Pending MetricSet</strong>.</p><h2 id=using-monitoring-metricsets>Using Monitoring MetricSets</h2><p>Next, let&rsquo;s explore how we can use this <strong>Monitoring MetricSet</strong>.</p><h3 id=dashboards>Dashboards</h3><p>Navigate to <strong>Metric Finder</strong>, then type in the name of the tag, which is <code>credit_score_category</code> (note that the dots in the tag name were replaced by underscores when the MMS was created). You&rsquo;ll see that multiple metrics include this tag as a dimension:</p><p><a href=#R-image-06b60713cbcf5918a38ad4edcf959c40 class=lightbox-link><img src=../../en/scenarios/5-understand-impact/7-alerting-and-dashboards/../images/metric_finder.png alt="Metric Finder" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-06b60713cbcf5918a38ad4edcf959c40><img src=../../en/scenarios/5-understand-impact/7-alerting-and-dashboards/../images/metric_finder.png alt="Metric Finder" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>By default, <strong>Splunk Observability Cloud</strong> calculates several metrics using the trace data it receives. See <a href=https://docs.splunk.com/observability/en/apm/span-tags/metricsets.html target=_blank>Learn about MetricSets in APM</a> for more details.</p><p>By creating an MMS, <code>credit_score_category</code> was added as a dimension to these metrics, which means that this dimension can now be used for alerting and dashboards.</p><p>To see how, let&rsquo;s click on the metric named <code>service.request.duration.ns.p99</code>, which brings up the following chart:</p><p><a href=#R-image-59bec1f495ce62e780076a0cac426e1d class=lightbox-link><img src=../../en/scenarios/5-understand-impact/7-alerting-and-dashboards/../images/service_request_duration_chart.png alt="Service Request Duration" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-59bec1f495ce62e780076a0cac426e1d><img src=../../en/scenarios/5-understand-impact/7-alerting-and-dashboards/../images/service_request_duration_chart.png alt="Service Request Duration" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>This metric tracks the p99 response time of service requests in nanoseconds, broken down by various attributes. Nanoseconds are bit too granular for our needs, so let&rsquo;s click <strong>Enter formula</strong> and convert this to seconds by entering <code>A / 1000000000</code>. Then we can hide <code>A</code> and show only <code>B</code>:</p><p><a href=#R-image-d296dfef57164052b598b47938b9af47 class=lightbox-link><img src=../../en/scenarios/5-understand-impact/7-alerting-and-dashboards/../images/chart_with_seconds.png alt="Chart with Seconds" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-d296dfef57164052b598b47938b9af47><img src=../../en/scenarios/5-understand-impact/7-alerting-and-dashboards/../images/chart_with_seconds.png alt="Chart with Seconds" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Next, let&rsquo;s break down the chart by credit score category. Click on the <strong>Add analytics</strong> button on the first row, select <strong>Mean</strong>, then <strong>Mean:Aggregation</strong>, then Group By the <code>credit_score_category</code> dimension:</p><p><a href=#R-image-799a60f7bf4791695a7229ef5ba6d292 class=lightbox-link><img src=../../en/scenarios/5-understand-impact/7-alerting-and-dashboards/../images/duration_by_credit_score.png alt="Duration by Credit Score" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-799a60f7bf4791695a7229ef5ba6d292><img src=../../en/scenarios/5-understand-impact/7-alerting-and-dashboards/../images/duration_by_credit_score.png alt="Duration by Credit Score" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Now we can see the duration by credit score category. In my example, the green line represents the <code>exceptional</code> category, and we can see that the duration for these requests sometimes goes all the way up to 5 seconds.</p><p>The yellow line represents the <code>very good</code> category, and has very fast response times.</p><p>The magenta line represents the <code>poor</code> category, and has response times between 2-3 seconds.</p><p>It may be useful to save this chart on a dashboard for future reference. To do this, click on the <strong>Save as&mldr;</strong> button and provide a name for the chart:</p><p><a href=#R-image-f2e4b44ac846cdd56e9c2b0f04df0bb4 class=lightbox-link><img src=../../en/scenarios/5-understand-impact/7-alerting-and-dashboards/../images/save_chart_as.png alt="Save Chart As" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-f2e4b44ac846cdd56e9c2b0f04df0bb4><img src=../../en/scenarios/5-understand-impact/7-alerting-and-dashboards/../images/save_chart_as.png alt="Save Chart As" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>When asked which dashboard to save the chart to, let&rsquo;s create a new one named <code>Credit Check Service</code>:</p><p><a href=#R-image-f7091d98599a9948be9e90548fa77cea class=lightbox-link><img src=../../en/scenarios/5-understand-impact/7-alerting-and-dashboards/../images/create_dashboard.png alt="Save Chart As" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-f7091d98599a9948be9e90548fa77cea><img src=../../en/scenarios/5-understand-impact/7-alerting-and-dashboards/../images/create_dashboard.png alt="Save Chart As" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Now we can see the chart on our dashboard, and can add more charts as needed to monitor our credit check service:</p><p><a href=#R-image-8d8464c78f9e6f3bf00267c4cc00f5d9 class=lightbox-link><img src=../../en/scenarios/5-understand-impact/7-alerting-and-dashboards/../images/credit_check_service_dashboard.png alt="Credit Check Service Dashboard" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-8d8464c78f9e6f3bf00267c4cc00f5d9><img src=../../en/scenarios/5-understand-impact/7-alerting-and-dashboards/../images/credit_check_service_dashboard.png alt="Credit Check Service Dashboard" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><h3 id=alerts>Alerts</h3><p>It&rsquo;s great that we have a dashboard to monitor the response times of the credit check service by credit score, but we don&rsquo;t want to stare at a dashboard all day.</p><p>Let&rsquo;s create an alert so we can be notified proactively if customers with <code>exceptional</code> credit scores encounter slow requests.</p><p>To create this alert, click on the little bell on the top right-hand corner of the chart, then select <strong>New detector from chart</strong>:</p><p><a href=#R-image-e08367edefb32a1b4cbed55f6aa61f5e class=lightbox-link><img src=../../en/scenarios/5-understand-impact/7-alerting-and-dashboards/../images/new_detector_from_chart.png alt="New Detector From Chart" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-e08367edefb32a1b4cbed55f6aa61f5e><img src=../../en/scenarios/5-understand-impact/7-alerting-and-dashboards/../images/new_detector_from_chart.png alt="New Detector From Chart" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Let&rsquo;s call the detector <code>Latency by Credit Score Category</code>. Set the environment to your environment name (i.e. <code>tagging-workshop-yourname</code>) then select <code>creditcheckservice</code> as the service. Since we only want to look at performance for customers with <code>exceptional</code> credit scores, add a filter using the <code>credit_score_category</code> dimension and select <code>exceptional</code>:</p><p><a href=#R-image-a1265ca416b89ee109183b90b7f05518 class=lightbox-link><img src=../../en/scenarios/5-understand-impact/7-alerting-and-dashboards/../images/create_new_detector.png alt="Create New Detector" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-a1265ca416b89ee109183b90b7f05518><img src=../../en/scenarios/5-understand-impact/7-alerting-and-dashboards/../images/create_new_detector.png alt="Create New Detector" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>We can then set the remainder of the alert details as we normally would. The key thing to remember here is that without capturing a tag with the credit score category and indexing it, we wouldn&rsquo;t be able to alert at this granular level, but would instead be forced to bucket all customers together, regardless of their importance to the business.</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=summary>Summary</h1><span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-clock"></i></span><span class=badge-content>2 minutes</span></span><p>In this workshop we learned the following:</p><ul><li>What are tags and why are they such a critical part of making an application observable.</li><li>How to use <a href=https://opentelemetry.io target=_blank><strong>OpenTelemetry</strong></a> to capture tags of interest from your application.</li><li>How to index tags in <strong>Splunk Observability Cloud</strong> and the differences between <strong>Troubleshooting MetricSets</strong> and <strong>Monitoring MetricSets</strong>.</li><li>How to utilize tags in <strong>Splunk Observability Cloud</strong> to find “unknown unknowns” using the <strong>Tag Spotlight</strong> and <strong>Dynamic Service Map</strong> features.</li><li>How to utilize tags for alerting and dashboards.</li></ul><p>Collecting tags aligned with the best practices shared in this workshop will let you get even more value from the data you’re sending to <strong>Splunk Observability Cloud</strong>. Now that you’ve completed this workshop, you have the knowledge you need to start collecting tags from your own applications!</p><p>To get started with capturing tags today, check out <a href=https://docs.splunk.com/observability/en/apm/span-tags/add-context-trace-span.html#instrument-your-application-code-to-add-tags-to-spans target=_blank>how to add tags in various supported languages</a>, and then <a href=https://docs.splunk.com/observability/en/apm/span-tags/index-span-tags.html#apm-index-span-tags target=_blank>how to use them to create Troubleshooting MetricSets</a> so they can be analyzed in Tag Spotlight. For more help, feel free to <a href=https://www.splunk.com/en_us/about-splunk/contact-us.html target=_blank>ask a Splunk Expert</a>.</p><div class="box notices cstyle primary"><div class=box-label><i class="fa-fw fas fa-lightbulb"></i> Tip for Workshop Facilitator(s)</div><div class=box-content><p>Once the workshop is complete, remember to delete the APM MetricSet you created earlier for the <code>credit.score.category</code> tag.</p></div></div><footer class=footline></footer></article></section></section></div></main></div><script src=../../js/clipboard.min.js?1707220492 defer></script>
<script src=../../js/perfect-scrollbar.min.js?1707220492 defer></script>
<script src=../../js/theme.js?1707220492 defer></script></body></html>