<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.119.0"><meta name=generator content="Relearn 5.23.2+tip"><meta name=description content="Splunk Observability Workshops"><meta name=author content><meta name=twitter:card content="summary"><meta name=twitter:title content="6. APM Waterfall :: Splunk Observability Cloud Workshops"><meta name=twitter:description content="We have arrived at the Trace Waterfall from the Trace Analyzer. A trace is a collection of spans that share the same trace ID, representing a unique transaction handled by your application and its constituent services.
Each span in Splunk APM captures a single operation. Splunk APM considers a span to be an error span if the operation that the span captures results in an error.
Exercise Click on the !"><meta property="og:title" content="6. APM Waterfall :: Splunk Observability Cloud Workshops"><meta property="og:description" content="We have arrived at the Trace Waterfall from the Trace Analyzer. A trace is a collection of spans that share the same trace ID, representing a unique transaction handled by your application and its constituent services.
Each span in Splunk APM captures a single operation. Splunk APM considers a span to be an error span if the operation that the span captures results in an error.
Exercise Click on the !"><meta property="og:type" content="article"><meta property="og:url" content="https://splunk.github.io/observability-workshop/v5.29/en/s4r/6-apm/6-apm-waterfall/index.html"><meta property="article:section" content="Splunk APM :: Splunk Observability Cloud Workshops"><meta property="og:site_name" content="Splunk Observability Cloud Workshops"><title>6. APM Waterfall :: Splunk Observability Cloud Workshops</title><link href=https://splunk.github.io/observability-workshop/v5.29/en/s4r/6-apm/6-apm-waterfall/index.html rel=canonical type=text/html title="6. APM Waterfall :: Splunk Observability Cloud Workshops"><link href=../../../../en/s4r/6-apm/6-apm-waterfall/index.xml rel=alternate type=application/rss+xml title="6. APM Waterfall :: Splunk Observability Cloud Workshops"><link href=../../../../images/favicon.ico?1701716243 rel=icon type=image/x-icon sizes=any><link href=../../../../css/fontawesome-all.min.css?1701716247 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=../../../../css/fontawesome-all.min.css?1701716247 rel=stylesheet></noscript><link href=../../../../css/nucleus.css?1701716247 rel=stylesheet><link href=../../../../css/auto-complete.css?1701716247 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=../../../../css/auto-complete.css?1701716247 rel=stylesheet></noscript><link href=../../../../css/perfect-scrollbar.min.css?1701716247 rel=stylesheet><link href=../../../../css/fonts.css?1701716247 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=../../../../css/fonts.css?1701716247 rel=stylesheet></noscript><link href=../../../../css/theme.css?1701716247 rel=stylesheet><link href=../../../../css/theme-splunk-light.css?1701716247 rel=stylesheet id=R-variant-style><link href=../../../../css/variant.css?1701716247 rel=stylesheet><link href=../../../../css/print.css?1701716247 rel=stylesheet media=print><link href=../../../../css/format-print.css?1701716247 rel=stylesheet><link href=../../../../css/ie.css?1701716247 rel=stylesheet><script src=../../../../js/url.js?1701716247></script>
<script src=../../../../js/variant.js?1701716247></script>
<script>window.index_js_url="../../../../en/index.search.js";var root_url="../../../../",baseUri=root_url.replace(/\/$/,"");window.relearn=window.relearn||{},window.relearn.baseUriFull="https://splunk.github.io/observability-workshop/v5.29/",window.variants&&variants.init(["splunk-light","splunk-dark"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web.js crossorigin=anonymous></script>
<script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web-session-recorder.js crossorigin=anonymous></script>
<script>SplunkRum.init({beaconUrl:"https://rum-ingest.eu0.signalfx.com/v1/rum",rumAuth:"EDIbCJR4LlxWdXMLjkYX1g",app:"observability-workshop",version:"1",environment:"observability-workshop-env"}),SplunkSessionRecorder.init({beaconUrl:"https://rum-ingest.eu0.signalfx.com/v1/rumreplay",rumAuth:"EDIbCJR4LlxWdXMLjkYX1g"})</script><style>@media screen and (min-width:1000px){#R-body .flex-block-wrapper{margin-left:auto;margin-right:auto;max-width:1000px;width:100%}}:root{--MENU-WIDTH-L:19.75rem}</style></head><body class="mobile-support print disableInlineCopyToClipboard" data-url=../../../../en/s4r/6-apm/6-apm-waterfall/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)">
<i class="fa-fw fas fa-bars"></i></button></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=../../../../en/index.html><span itemprop=name>Splunk Observability Workshops</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=../../../../en/s4r/index.html><span itemprop=name>Splunk4Rookies - Observability</span></a><meta itemprop=position content="2">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=../../../../en/s4r/6-apm/index.html><span itemprop=name>Splunk APM</span></a><meta itemprop=position content="3">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>6. APM Waterfall</span><meta itemprop=position content="4"></li></ol><div class="topbar-area topbar-area-end" data-area=end></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=6-apm-waterfall>6. APM Waterfall</h1><p>We have arrived at the <strong>Trace Waterfall</strong> from the <strong>Trace Analyzer</strong>. A trace is a collection of spans that share the same trace ID, representing a unique transaction handled by your application and its constituent services.</p><p>Each span in Splunk APM captures a single operation. Splunk APM considers a span to be an error span if the operation that the span captures results in an error.</p><p><a href=#R-image-583e18c2b2d04583ea8f43d07a16ec2b class=lightbox-link><img src=../../../../en/s4r/6-apm/6-apm-waterfall/../images/apm-trace-waterfall.png alt="Trace Waterfall" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-583e18c2b2d04583ea8f43d07a16ec2b><img src=../../../../en/s4r/6-apm/6-apm-waterfall/../images/apm-trace-waterfall.png alt="Trace Waterfall" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><ul><li>Click on the
<span class="btn cstyle red"><button type=button>
!</button></span> next to any of the <code>paymentservice:grpc.hipstershop.PaymentService/Charge</code> spans in the waterfall.</li></ul><div class=tab-panel data-tab-group=ac3e9efb2cf36a847c7c384a5a6b93f0><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=question class="tab-nav-button tab-panel-style cstyle initial active" onclick='switchTab("ac3e9efb2cf36a847c7c384a5a6b93f0","question")'>
<span class=tab-nav-text>Question</span></button>
<button data-tab-item=answer class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("ac3e9efb2cf36a847c7c384a5a6b93f0","answer")'>
<span class=tab-nav-text>Answer</span></button></div><div class=tab-content-container><div data-tab-item=question class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><p><strong>What is the error message and version being reported in the span metadata?</strong></p></div></div><div data-tab-item=answer class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><p><strong>Invalid request and <code>v350.10</code></strong>.</p></div></div></div></div></div></div>Now that we have identified the version of the <strong>paymentservice</strong> that is causing the issue, let&rsquo;s see if we can find out more information about the error. This is where <strong>Related Logs</strong> come in.</p><p><a href=#R-image-8e2379c916f7acc665a449beae84f3ac class=lightbox-link><img src=../../../../en/s4r/6-apm/6-apm-waterfall/../images/apm-related-logs.png alt="Related Logs" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-8e2379c916f7acc665a449beae84f3ac><img src=../../../../en/s4r/6-apm/6-apm-waterfall/../images/apm-related-logs.png alt="Related Logs" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Related Content relies on specific metadata that allow APM, Infrastructure Monitoring, and Log Observer to pass filters around Observability Cloud. For related logs to work, you need to have the following metadata in your logs:</p><ul><li><code>service.name</code></li><li><code>deployment.environment</code></li><li><code>host.name</code></li><li><code>trace_id</code></li><li><code>span_id</code></li></ul><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-running"></i> Exercise</div><div class=box-content><ul><li>At the very bottom of the <strong>Trace Waterfall</strong> click on the word <strong>Logs (1)</strong>. This highlights that there are <strong>Related Logs</strong> for this trace.</li><li>Click on the <strong>Logs for trace XXX</strong> entry in the pop-up, this will open the logs for the complete trace in <strong>Log Observer</strong>.</li></ul></div></div><footer class=footline></footer></article></div></main></div><script src=../../../../js/clipboard.min.js?1701716247 defer></script>
<script src=../../../../js/perfect-scrollbar.min.js?1701716247 defer></script>
<script src=../../../../js/theme.js?1701716247 defer></script></body></html>