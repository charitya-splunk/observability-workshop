<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.119.0"><meta name=generator content="Relearn 5.23.2+tip"><meta name=description content="Splunk Observability Workshops"><meta name=author content><meta name=twitter:card content="summary"><meta name=twitter:title content="Lambdas in Splunk APM :: Splunk Observability Cloud Workshops"><meta name=twitter:description content="Lambdas in Splunk APM Now it&rsquo;s time to check how your Lambda traffic has been captured in Splunk APM.
Navigate to your Splunk Observability Cloud Select APM from the Main Menu and then select your APM Environment. Your APM environment should be in the format $(hostname)-apm-lambda where the hostname value is a four letter name of your lab host. (Check it by looking at your command prompt, or by running echo $(hostname))."><meta property="og:title" content="Lambdas in Splunk APM :: Splunk Observability Cloud Workshops"><meta property="og:description" content="Lambdas in Splunk APM Now it&rsquo;s time to check how your Lambda traffic has been captured in Splunk APM.
Navigate to your Splunk Observability Cloud Select APM from the Main Menu and then select your APM Environment. Your APM environment should be in the format $(hostname)-apm-lambda where the hostname value is a four letter name of your lab host. (Check it by looking at your command prompt, or by running echo $(hostname))."><meta property="og:type" content="article"><meta property="og:url" content="https://splunk.github.io/observability-workshop/v5.25/en/other/lambda-kinesis/3-lambdas-in-splunk/index.html"><meta property="article:section" content="Build a Distributed Trace in Lambda and Kinesis :: Splunk Observability Cloud Workshops"><meta property="og:site_name" content="Splunk Observability Cloud Workshops"><title>Lambdas in Splunk APM :: Splunk Observability Cloud Workshops</title><link href=https://splunk.github.io/observability-workshop/v5.25/en/other/lambda-kinesis/3-lambdas-in-splunk/index.html rel=canonical type=text/html title="Lambdas in Splunk APM :: Splunk Observability Cloud Workshops"><link href=../../../../en/other/lambda-kinesis/3-lambdas-in-splunk/index.xml rel=alternate type=application/rss+xml title="Lambdas in Splunk APM :: Splunk Observability Cloud Workshops"><link href=../../../../images/favicon.ico?1701435156 rel=icon type=image/x-icon sizes=any><link href=../../../../css/fontawesome-all.min.css?1701435160 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=../../../../css/fontawesome-all.min.css?1701435160 rel=stylesheet></noscript><link href=../../../../css/nucleus.css?1701435160 rel=stylesheet><link href=../../../../css/auto-complete.css?1701435160 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=../../../../css/auto-complete.css?1701435160 rel=stylesheet></noscript><link href=../../../../css/perfect-scrollbar.min.css?1701435160 rel=stylesheet><link href=../../../../css/fonts.css?1701435160 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=../../../../css/fonts.css?1701435160 rel=stylesheet></noscript><link href=../../../../css/theme.css?1701435160 rel=stylesheet><link href=../../../../css/theme-auto.css?1701435160 rel=stylesheet id=R-variant-style><link href=../../../../css/variant.css?1701435160 rel=stylesheet><link href=../../../../css/print.css?1701435160 rel=stylesheet media=print><link href=../../../../css/format-print.css?1701435160 rel=stylesheet><link href=../../../../css/ie.css?1701435160 rel=stylesheet><script src=../../../../js/url.js?1701435160></script>
<script src=../../../../js/variant.js?1701435160></script>
<script>window.index_js_url="../../../../en/index.search.js";var root_url="../../../../",baseUri=root_url.replace(/\/$/,"");window.relearn=window.relearn||{},window.relearn.baseUriFull="https://splunk.github.io/observability-workshop/v5.25/",window.variants&&variants.init(["auto","splunk-light","splunk-dark"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web.js crossorigin=anonymous></script>
<script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web-session-recorder.js crossorigin=anonymous></script>
<script>SplunkRum.init({beaconUrl:"https://rum-ingest.eu0.signalfx.com/v1/rum",rumAuth:"EDIbCJR4LlxWdXMLjkYX1g",app:"observability-workshop",version:"1",environment:"observability-workshop-env"}),SplunkSessionRecorder.init({beaconUrl:"https://rum-ingest.eu0.signalfx.com/v1/rumreplay",rumAuth:"EDIbCJR4LlxWdXMLjkYX1g"})</script><style>@media screen and (min-width:1000px){#R-body .flex-block-wrapper{margin-left:auto;margin-right:auto;max-width:1000px;width:100%}}:root{--MENU-WIDTH-L:19.75rem}</style></head><body class="mobile-support print disableInlineCopyToClipboard" data-url=../../../../en/other/lambda-kinesis/3-lambdas-in-splunk/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)">
<i class="fa-fw fas fa-bars"></i></button></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=../../../../en/index.html><span itemprop=name>Splunk Observability Workshops</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=../../../../en/other/index.html><span itemprop=name>Ninja Workshops</span></a><meta itemprop=position content="2">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=../../../../en/other/lambda-kinesis/index.html><span itemprop=name>Build a Distributed Trace in Lambda and Kinesis</span></a><meta itemprop=position content="3">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>Lambdas in Splunk APM</span><meta itemprop=position content="4"></li></ol><div class="topbar-area topbar-area-end" data-area=end></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=lambdas-in-splunk-apm>Lambdas in Splunk APM</h1><h2 id=lambdas-in-splunk-apm>Lambdas in Splunk APM</h2><p>Now it&rsquo;s time to check how your Lambda traffic has been captured in Splunk APM.</p><h2 id=navigate-to-your-splunk-observability-cloud>Navigate to your Splunk Observability Cloud</h2><p>Select APM from the Main Menu and then select your APM Environment. Your APM environment should be in the format <code>$(hostname)-apm-lambda</code> where the hostname value is a four letter name of your lab host. (Check it by looking at your command prompt, or by running <code>echo $(hostname)</code>).</p><div class="box notices cstyle note"><div class=box-label><i class="fa-fw fas fa-exclamation-circle"></i> Note</div><div class=box-content><p>It may take a few minutes for you traces to appear in Splunk APM. Try hitting refresh on your browser until you find your environement name in the list of Envrionments</div></div><p><a href=#R-image-35a64d7bdc86c6ec87bc19e33c43cbf4 class=lightbox-link><img src=../../../../en/other/lambda-kinesis/3-lambdas-in-splunk/../images/3-splunk-1-filter.png alt=3-splunk-1-filter class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-35a64d7bdc86c6ec87bc19e33c43cbf4><img src=../../../../en/other/lambda-kinesis/3-lambdas-in-splunk/../images/3-splunk-1-filter.png alt=3-splunk-1-filter class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Go to <code>Explore</code> the Service Map to see the Dependencies between your Lambda Functions.</p><p><a href=#R-image-dce9732fafb4083c0e29b040744688b8 class=lightbox-link><img src=../../../../en/other/lambda-kinesis/3-lambdas-in-splunk/../images/3-splunk-2-explore.png alt=3-splunk-2-explore class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-dce9732fafb4083c0e29b040744688b8><img src=../../../../en/other/lambda-kinesis/3-lambdas-in-splunk/../images/3-splunk-2-explore.png alt=3-splunk-2-explore class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>You should be able to see the <code>producer-lambda</code> and the call it is making to <code>Kinesis</code> service.</p><div class="box notices cstyle tip"><div class=box-label><i class="fa-fw fas fa-question"></i> Workshop Question</div><div class=box-content><p>What about your <code>consumer-lambda</code>?</p></div></div><p><a href=#R-image-d4c767a99585a48207591315e24e9266 class=lightbox-link><img src=../../../../en/other/lambda-kinesis/3-lambdas-in-splunk/../images/3-splunk-3-map-producer.png alt=3-splunk-3-map-producer class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-d4c767a99585a48207591315e24e9266><img src=../../../../en/other/lambda-kinesis/3-lambdas-in-splunk/../images/3-splunk-3-map-producer.png alt=3-splunk-3-map-producer class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Click into <code>Traces</code> and examine some traces that container procuder function calls and traces with consumer function calls.</p><p><a href=#R-image-9beff4f248c84eec6e5d9546f4263cd9 class=lightbox-link><img src=../../../../en/other/lambda-kinesis/3-lambdas-in-splunk/../images/3-splunk-4-trace-producer.png alt=3-splunk-4-trace-producer.png class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-9beff4f248c84eec6e5d9546f4263cd9><img src=../../../../en/other/lambda-kinesis/3-lambdas-in-splunk/../images/3-splunk-4-trace-producer.png alt=3-splunk-4-trace-producer.png class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>We can see the <code>producer-lambda</code> putting a Record on the Kinesis stream. But the action of <code>consumer-function</code> is disconnected!</p><p>This is because the Trace Context is not being propagated.</p><p>This is not something that is supported automatically Out-of-the-Box by Kinesis service at the time of this lab. Our Distributed Trace stops at Kinesis inferred service, and we can&rsquo;t see the propagation any further.</p><p>Not yet&mldr;</p><p>Let&rsquo;s see how we work around this in the next section of this lab.</p><footer class=footline></footer></article></div></main></div><script src=../../../../js/clipboard.min.js?1701435160 defer></script>
<script src=../../../../js/perfect-scrollbar.min.js?1701435160 defer></script>
<script src=../../../../js/theme.js?1701435160 defer></script></body></html>