<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.110.0"><meta name=generator content="Relearn 5.21.0+tip"><meta name=description content="Splunk Observability Workshops"><title>1.1 Generate load :: Splunk Observability Cloud Workshops</title><link href=https://splunk.github.io/observability-workshop/v5.4/en/apm/online-boutique/locust/index.html rel=alternate hreflang=x-default><link href=https://splunk.github.io/observability-workshop/v5.4/en/apm/online-boutique/locust/index.html rel=alternate hreflang=en><link href=https://splunk.github.io/observability-workshop/v5.4/ja/apm/online-boutique/locust/index.html rel=alternate hreflang=ja><link href=https://splunk.github.io/observability-workshop/v5.4/en/apm/online-boutique/locust/index.html rel=canonical type=text/html title="1.1 Generate load :: Splunk Observability Cloud Workshops"><link href=../../../../en/apm/online-boutique/locust/index.xml rel=alternate type=application/rss+xml title="1.1 Generate load :: Splunk Observability Cloud Workshops"><link href=../../../../images/favicon.ico?1696010921 rel=icon type=image/x-icon sizes=any><link href=../../../../css/fontawesome-all.min.css?1696010923 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=../../../../css/fontawesome-all.min.css?1696010923 rel=stylesheet></noscript><link href=../../../../css/nucleus.css?1696010923 rel=stylesheet><link href=../../../../css/auto-complete.css?1696010923 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=../../../../css/auto-complete.css?1696010923 rel=stylesheet></noscript><link href=../../../../css/perfect-scrollbar.min.css?1696010923 rel=stylesheet><link href=../../../../css/fonts.css?1696010923 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=../../../../css/fonts.css?1696010923 rel=stylesheet></noscript><link href=../../../../css/theme.css?1696010923 rel=stylesheet><link href=../../../../css/theme-splunk-light.css?1696010923 rel=stylesheet id=R-variant-style><link href=../../../../css/variant.css?1696010923 rel=stylesheet><link href=../../../../css/print.css?1696010923 rel=stylesheet media=print><link href=../../../../css/format-print.css?1696010923 rel=stylesheet><link href=../../../../css/ie.css?1696010923 rel=stylesheet><script src=../../../../js/url.js?1696010923></script>
<script src=../../../../js/variant.js?1696010923></script>
<script>window.index_js_url="../../../../en/index.search.js";var root_url="../../../../",baseUriFull,baseUri=root_url.replace(/\/$/,"");window.T_Copy_to_clipboard="Copy to clipboard",window.T_Copied_to_clipboard="Copied to clipboard!",window.T_Copy_link_to_clipboard="Copy link to clipboard",window.T_Link_copied_to_clipboard="Copied link to clipboard!",window.T_No_results_found="No results found for \u0022{0}\u0022",window.T_N_results_found="{1} results found for \u0022{0}\u0022",baseUriFull="https://splunk.github.io/observability-workshop/v5.4/",window.variants&&variants.init(["splunk-light","splunk-dark","aws"])</script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web.js crossorigin=anonymous></script>
<script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web-session-recorder.js crossorigin=anonymous></script>
<script>SplunkRum.init({beaconUrl:"https://rum-ingest.eu0.signalfx.com/v1/rum",rumAuth:"EDIbCJR4LlxWdXMLjkYX1g",app:"observability-workshop",version:"1",environment:"observability-workshop-env"}),SplunkSessionRecorder.init({beaconUrl:"https://rum-ingest.eu0.signalfx.com/v1/rumreplay",rumAuth:"EDIbCJR4LlxWdXMLjkYX1g"})</script><style>@media screen and (min-width:1300px){#body .flex-block-wrapper{margin-left:auto;margin-right:auto;max-width:1300px;width:100%}}</style></head><body class="mobile-support print disableInlineCopyToClipboard" data-url=../../../../en/apm/online-boutique/locust/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)">
<i class="fa-fw fas fa-bars"></i></button></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=../../../../en/index.html><span itemprop=name>Splunk Observability Workshops</span></a><meta itemprop=position content="4">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=../../../../en/apm/index.html><span itemprop=name>Splunk APM</span></a><meta itemprop=position content="4">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=../../../../en/apm/online-boutique/index.html><span itemprop=name>1. The Online Boutique</span></a><meta itemprop=position content="4">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>1.1 Generate load</span><meta itemprop=position content="4"></li></ol><div class="topbar-area topbar-area-end" data-area=end></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=11-generate-load>1.1 Generate load</h1><span class="btn cstyle transparent"><button type=button>
<i class="fa-fw fas fa-clock"></i>
5 minutes</button></span><h2 id=1-generate-traffic>1. Generate traffic</h2><p>The Online Boutique deployment contains a container running Locust that we can use to generate load traffic against the website to generate metrics, traces and spans.</p><div class=expand><input type=checkbox id=R-expand-40c0d999baeb515d84c8077c59ee29c4 aria-controls=expandcontent-40c0d999baeb515d84c8077c59ee29c4>
<label class=expand-label for=R-expand-40c0d999baeb515d84c8077c59ee29c4><i class="fas fa-chevron-down"></i>
<i class="fas fa-chevron-right"></i>
<span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-user-ninja"></i></span><span class=badge-content><strong>Ninja</strong> - Access your Locust instance</span></span></label><div id=R-expandcontent-40c0d999baeb515d84c8077c59ee29c4 class=expand-content><div class="box notices cstyle blue"><div class=box-label></div><div class=box-content><p>Locust is available on port 82 of the EC2 instance&rsquo;s IP address. Open a new tab in your web browser and go to <code>http://&lt;ec2-ip-address>:82/</code>, you will then be able to see the Locust running.</p></div></div></div></div><p>Your Workshop instructor will provide you with URL to access the Locust load generator. Enter this URL into your browser and you will see the Locust Start new load test landing page.</p><p><a href=#R-image-bfb7ff45031c0818c8b1febb6151ad0f class=lightbox-link><img src=../../../../en/apm/online-boutique/locust/../../images/locust.png alt=Locust class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-bfb7ff45031c0818c8b1febb6151ad0f><img src=../../../../en/apm/online-boutique/locust/../../images/locust.png alt=Locust class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Set the <strong>Spawn rate</strong> to be 2 and click <strong>Start Swarming</strong>, this will start a gentle continuous load on the application.</p><p><a href=#R-image-41a9abf01d4befa30fbdb5abd7caf7f1 class=lightbox-link><img src=../../../../en/apm/online-boutique/locust/../../images/locust-spawn-rate.png alt="Spawn Rate" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-41a9abf01d4befa30fbdb5abd7caf7f1><img src=../../../../en/apm/online-boutique/locust/../../images/locust-spawn-rate.png alt="Spawn Rate" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p><a href=#R-image-eadc3377c32928af2a8198a43f3642c7 class=lightbox-link><img src=../../../../en/apm/online-boutique/locust/../../images/locust-statistics.png alt=Statistics class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-eadc3377c32928af2a8198a43f3642c7><img src=../../../../en/apm/online-boutique/locust/../../images/locust-statistics.png alt=Statistics class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><hr><p>Now go to <strong>Dashboards → All Dashboards → APM Services → Service</strong>.</p><p>For this we need to know the name of your application environment. In this workshop all the environments use: <code>&lt;hostname>-apm-env</code>.</p><p>To find the hostname, on the AWS/EC2 instance run the following command:</p><div class=tab-panel data-tab-group=8d1348b7aa83bd6a00a15d1f1d6a60f5><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=echo-hostname class="tab-nav-button tab-panel-style cstyle initial active" onclick='switchTab("8d1348b7aa83bd6a00a15d1f1d6a60f5","echo-hostname")'>
<span><div class=tab-nav-hidden>Echo Hostname</div><div class=tab-nav-text>Echo Hostname</div></span></button>
<button data-tab-item=output-example class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("8d1348b7aa83bd6a00a15d1f1d6a60f5","output-example")'>
<span><div class=tab-nav-hidden>Output Example</div><div class=tab-nav-text>Output Example</div></span></button></div><div class=tab-content-container><div data-tab-item=echo-hostname class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>echo</span> <span class=k>$(</span>hostname<span class=k>)</span>-apm-env</span></span></code></pre></div></div></div><div data-tab-item=output-example class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>bdzx-apm-env</span></span></code></pre></div></div></div></div></div><p>Select your environment you found in the previous step then select the <code>frontend</code> service and set time to Past 15 minutes.</p><p><a href=#R-image-9f442938ef95e99654d3591022a78b07 class=lightbox-link><img src=../../../../en/apm/online-boutique/locust/../../images/online-boutique-service-dashboard.png alt="APM Dashboard" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-9f442938ef95e99654d3591022a78b07><img src=../../../../en/apm/online-boutique/locust/../../images/online-boutique-service-dashboard.png alt="APM Dashboard" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>With this automatically generated dashboard you can keep an eye out for the health of your service(s) using RED (Rate, Error & Duration) metrics. It provides various performance related charts as well as correlated information on the underlying host and Kubernetes pods (if applicable).</p><p>Take some time to explore the various charts in this dashboard</p><hr><h2 id=2-verify-splunk-apm-metrics>2. Verify Splunk APM metrics</h2><p>In the left hand menu card click on <strong>APM</strong> this will bring you to the APM Overview dashboard:</p><p><a href=#R-image-0647a55b146f20af1acc455a314efaf6 class=lightbox-link><img src=../../../../en/apm/online-boutique/locust/../../images/online-boutique-apm.png alt="select APM" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-0647a55b146f20af1acc455a314efaf6><img src=../../../../en/apm/online-boutique/locust/../../images/online-boutique-apm.png alt="select APM" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Select the <strong>Explore</strong> on the right hand side and select your environment you found before and set the time to 15 minutes. This will show you the automatically generated Dependency/Service Map for the Online Boutique application.</p><p>It should look similar to the screenshot below:</p><p><a href=#R-image-18ffdad3980e70fa97f08749202b64c6 class=lightbox-link><img src=../../../../en/apm/online-boutique/locust/../../images/online-boutique-map.png alt="Online Boutique in APM" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-18ffdad3980e70fa97f08749202b64c6><img src=../../../../en/apm/online-boutique/locust/../../images/online-boutique-map.png alt="Online Boutique in APM" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>The legend at the bottom of the page explains the different visualizations in the Dependency/Service Map.</p><p><a href=#R-image-ec494a1a1691800f000a6fa0197bcdbc class=lightbox-link><img src=../../../../en/apm/online-boutique/locust/../../images/apm-legend.png alt="APM Legend" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-ec494a1a1691800f000a6fa0197bcdbc><img src=../../../../en/apm/online-boutique/locust/../../images/apm-legend.png alt="APM Legend" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><ul><li>Service requests, error rate and root error rate.</li><li>Request rate, latency and error rate</li></ul><p>Also in this view you can see the overall Error and Latency rates over time charts.</p><h2 id=3-opentelemetry-dashboard>3. OpenTelemetry Dashboard</h2><p>Once the Open Telemetery Collector is deployed the platform will automatically provide a built in dashboard display OpenTelemetry Collector metrics.</p><p>From the top left hamburger menu <strong>Dashboards → OpenTelemetry Collector</strong>, scroll all the way to the bottom of the page and validate metrics and spans are being sent:</p><p><a href=#R-image-d01400fe6943019606d355c1e722a358 class=lightbox-link><img src=../../../../en/apm/online-boutique/locust/../../images/otel-dashboard.png alt="OpenTelemetry Collector dashboard" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-d01400fe6943019606d355c1e722a358><img src=../../../../en/apm/online-boutique/locust/../../images/otel-dashboard.png alt="OpenTelemetry Collector dashboard" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><h2 id=4-opentelemetry-zpages>4. OpenTelemetry zpages</h2><p>To debug the traces being sent you can use the zpages extension. <a href=https://github.com/open-telemetry/opentelemetry-specification/blob/main/experimental/trace/zpages.md#tracez target=_blank>zpages</a> are part of the OpenTelemetry collector and provide live data for troubleshooting and statistics.</p><div class=expand><input type=checkbox id=R-expand-7524f576584b2fc925041daa11c5d4d4 aria-controls=expandcontent-7524f576584b2fc925041daa11c5d4d4>
<label class=expand-label for=R-expand-7524f576584b2fc925041daa11c5d4d4><i class="fas fa-chevron-down"></i>
<i class="fas fa-chevron-right"></i>
<span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-user-ninja"></i></span><span class=badge-content><strong>Ninja</strong> - Access zPages on your EC2 instance</span></span></label><div id=R-expandcontent-7524f576584b2fc925041daa11c5d4d4 class=expand-content><div class="box notices cstyle blue"><div class=box-label></div><div class=box-content><p>zPages is available on port <code>55679</code> of the EC2 instance&rsquo;s IP address. Open a new tab in your web browser and enter in <code>http://{==EC2-IP==}:55679/debug/tracez</code>, you will then be able to see the zpages output.</p><p>Alternatively, from your shell prompt you can run a text based browser:</p><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>lynx http://localhost:55679/debug/tracez</span></span></code></pre></div></div></div></div></div><p>Your Workshop instructor will provide you with a URL to access zPages. Enter this URL into your browser and you will see the zPages output.</p><p><a href=#R-image-ec197c256772a3b44d921d5625c0f706 class=lightbox-link><img src=../../../../en/apm/online-boutique/locust/../../images/zpages.png alt=zpages class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-ec197c256772a3b44d921d5625c0f706><img src=../../../../en/apm/online-boutique/locust/../../images/zpages.png alt=zpages class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><footer class=footline></footer></article></div></main></div><script src=../../../../js/clipboard.min.js?1696010923 defer></script>
<script src=../../../../js/perfect-scrollbar.min.js?1696010923 defer></script>
<script src=../../../../js/theme.js?1696010923 defer></script></body></html>