<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.119.0"><meta name=generator content="Relearn 5.23.2+tip"><meta name=description content="Splunk Observability Workshops"><meta name=author content><meta name=twitter:card content="summary"><meta name=twitter:title content="Preparation of the Pet Clinic application. :: Splunk Observability Cloud Workshops"><meta name=twitter:description content="1. Deploying the prebuilt containers into Kubernetes The first thing we need to set up is &mldr; well, an application. The first deployment of our application will be using prebuilt containers to give us the base scenario: a Java microservices-based application running in Kubernetes.
So let&rsquo;s deploy our application: &#8203; kubectl apply kubectl apply Output kubectl apply -f ~/workshop/petclinic/petclinic-deploy.yaml deployment.apps/config-server created service/config-server created deployment.apps/discovery-server created service/discovery-server created deployment.apps/api-gateway created service/api-gateway created service/api-gateway-external created deployment."><meta property="og:title" content="Preparation of the Pet Clinic application. :: Splunk Observability Cloud Workshops"><meta property="og:description" content="1. Deploying the prebuilt containers into Kubernetes The first thing we need to set up is &mldr; well, an application. The first deployment of our application will be using prebuilt containers to give us the base scenario: a Java microservices-based application running in Kubernetes.
So let&rsquo;s deploy our application: &#8203; kubectl apply kubectl apply Output kubectl apply -f ~/workshop/petclinic/petclinic-deploy.yaml deployment.apps/config-server created service/config-server created deployment.apps/discovery-server created service/discovery-server created deployment.apps/api-gateway created service/api-gateway created service/api-gateway-external created deployment."><meta property="og:type" content="article"><meta property="og:url" content="https://splunk.github.io/observability-workshop/v5.37/en/other/3-auto-instrumentation/3-java-microservices-pet-clinic/10-preparation/index.html"><meta property="article:section" content="Workshop using the Java microservices Pet Clinic demo. (Kubernetes based). :: Splunk Observability Cloud Workshops"><meta property="og:site_name" content="Splunk Observability Cloud Workshops"><title>Preparation of the Pet Clinic application. :: Splunk Observability Cloud Workshops</title><link href=https://splunk.github.io/observability-workshop/v5.37/en/other/3-auto-instrumentation/3-java-microservices-pet-clinic/10-preparation/index.html rel=canonical type=text/html title="Preparation of the Pet Clinic application. :: Splunk Observability Cloud Workshops"><link href=../../../../../en/other/3-auto-instrumentation/3-java-microservices-pet-clinic/10-preparation/index.xml rel=alternate type=application/rss+xml title="Preparation of the Pet Clinic application. :: Splunk Observability Cloud Workshops"><link href=../../../../../images/favicon.ico?1704475199 rel=icon type=image/x-icon sizes=any><link href=../../../../../css/fontawesome-all.min.css?1704475204 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=../../../../../css/fontawesome-all.min.css?1704475204 rel=stylesheet></noscript><link href=../../../../../css/nucleus.css?1704475204 rel=stylesheet><link href=../../../../../css/auto-complete.css?1704475204 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=../../../../../css/auto-complete.css?1704475204 rel=stylesheet></noscript><link href=../../../../../css/perfect-scrollbar.min.css?1704475204 rel=stylesheet><link href=../../../../../css/fonts.css?1704475204 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=../../../../../css/fonts.css?1704475204 rel=stylesheet></noscript><link href=../../../../../css/theme.css?1704475204 rel=stylesheet><link href=../../../../../css/theme-splunk-light.css?1704475204 rel=stylesheet id=R-variant-style><link href=../../../../../css/variant.css?1704475204 rel=stylesheet><link href=../../../../../css/print.css?1704475204 rel=stylesheet media=print><link href=../../../../../css/format-print.css?1704475204 rel=stylesheet><link href=../../../../../css/ie.css?1704475204 rel=stylesheet><script src=../../../../../js/url.js?1704475204></script>
<script src=../../../../../js/variant.js?1704475204></script>
<script>window.index_js_url="../../../../../en/index.search.js";var root_url="../../../../../",baseUri=root_url.replace(/\/$/,"");window.relearn=window.relearn||{},window.relearn.baseUriFull="https://splunk.github.io/observability-workshop/v5.37/",window.variants&&variants.init(["splunk-light","splunk-dark"]),window.T_Copy_to_clipboard=`Copy to clipboard`,window.T_Copied_to_clipboard=`Copied to clipboard!`,window.T_Copy_link_to_clipboard=`Copy link to clipboard`,window.T_Link_copied_to_clipboard=`Copied link to clipboard!`,window.T_Reset_view=`Reset view`,window.T_View_reset=`View reset!`,window.T_No_results_found=`No results found for "{0}"`,window.T_N_results_found=`{1} results found for "{0}"`</script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web.js crossorigin=anonymous></script>
<script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web-session-recorder.js crossorigin=anonymous></script>
<script>SplunkRum.init({beaconUrl:"https://rum-ingest.eu0.signalfx.com/v1/rum",rumAuth:"EDIbCJR4LlxWdXMLjkYX1g",app:"observability-workshop",version:"1",environment:"observability-workshop-env"}),SplunkSessionRecorder.init({beaconUrl:"https://rum-ingest.eu0.signalfx.com/v1/rumreplay",rumAuth:"EDIbCJR4LlxWdXMLjkYX1g"})</script><style>@media screen and (min-width:1000px){#R-body .flex-block-wrapper{margin-left:auto;margin-right:auto;max-width:1400px;width:100%}}:root{--MENU-WIDTH-L:21rem}</style></head><body class="mobile-support print disableInlineCopyToClipboard" data-url=../../../../../en/other/3-auto-instrumentation/3-java-microservices-pet-clinic/10-preparation/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)">
<i class="fa-fw fas fa-bars"></i></button></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=../../../../../en/index.html><span itemprop=name>Splunk Observability Workshops</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=../../../../../en/other/index.html><span itemprop=name>Ninja Workshops</span></a><meta itemprop=position content="2">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=../../../../../en/other/3-auto-instrumentation/index.html><span itemprop=name>Auto-Instrumentation Workshops</span></a><meta itemprop=position content="3">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=../../../../../en/other/3-auto-instrumentation/3-java-microservices-pet-clinic/index.html><span itemprop=name>Workshop using the Java microservices Pet Clinic demo. (Kubernetes based).</span></a><meta itemprop=position content="4">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>Preparation of the Pet Clinic application.</span><meta itemprop=position content="5"></li></ol><div class="topbar-area topbar-area-end" data-area=end></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline></header><h1 id=preparation-of-the-pet-clinic-application>Preparation of the Pet Clinic application.</h1><h2 id=1-deploying-the-prebuilt-containers-into-kubernetes>1. Deploying the prebuilt containers into Kubernetes</h2><p>The first thing we need to set up is &mldr; well, an application. The first deployment of our application will be using prebuilt containers to give us the base scenario: a Java microservices-based application running in Kubernetes.</p><p>So let&rsquo;s deploy our application:<div class=tab-panel data-tab-group=efabfa172136ff4d26bb3e0d51a21fd6><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=kubectl-apply class="tab-nav-button tab-panel-style cstyle initial active" onclick='switchTab("efabfa172136ff4d26bb3e0d51a21fd6","kubectl-apply")'>
<span class=tab-nav-text>kubectl apply</span></button>
<button data-tab-item=kubectl-apply-output class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("efabfa172136ff4d26bb3e0d51a21fd6","kubectl-apply-output")'>
<span class=tab-nav-text>kubectl apply Output</span></button></div><div class=tab-content-container><div data-tab-item=kubectl-apply class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl apply -f ~/workshop/petclinic/petclinic-deploy.yaml</span></span></code></pre></div></div></div><div data-tab-item=kubectl-apply-output class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>deployment.apps/config-server created
</span></span><span class=line><span class=cl>service/config-server created
</span></span><span class=line><span class=cl>deployment.apps/discovery-server created
</span></span><span class=line><span class=cl>service/discovery-server created
</span></span><span class=line><span class=cl>deployment.apps/api-gateway created
</span></span><span class=line><span class=cl>service/api-gateway created
</span></span><span class=line><span class=cl>service/api-gateway-external created
</span></span><span class=line><span class=cl>deployment.apps/customers-service created
</span></span><span class=line><span class=cl>service/customers-service created
</span></span><span class=line><span class=cl>deployment.apps/vets-service created
</span></span><span class=line><span class=cl>service/vets-service created
</span></span><span class=line><span class=cl>deployment.apps/visits-service created
</span></span><span class=line><span class=cl>service/visits-service created
</span></span><span class=line><span class=cl>deployment.apps/admin-server created
</span></span><span class=line><span class=cl>service/admin-server created
</span></span><span class=line><span class=cl>service/mysql created
</span></span><span class=line><span class=cl>deployment.apps/mysql created
</span></span><span class=line><span class=cl>configmap/mysql-initdb-config created
</span></span><span class=line><span class=cl>service/mysql-datastore created</span></span></code></pre></div></div></div></div></div></p><p>and verify the deployment:<div class=tab-panel data-tab-group=00dbdb5746c98ae93173ce005eb1544a><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=kubectl-get-pods class="tab-nav-button tab-panel-style cstyle initial active" onclick='switchTab("00dbdb5746c98ae93173ce005eb1544a","kubectl-get-pods")'>
<span class=tab-nav-text>kubectl get pods</span></button>
<button data-tab-item=kubectl-get-pods-output class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("00dbdb5746c98ae93173ce005eb1544a","kubectl-get-pods-output")'>
<span class=tab-nav-text>kubectl get pods Output</span></button></div><div class=tab-content-container><div data-tab-item=kubectl-get-pods class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl get pods</span></span></code></pre></div></div></div><div data-tab-item=kubectl-get-pods-output class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>NAME                                 READY   STATUS    RESTARTS   AGE
</span></span><span class=line><span class=cl>discovery-server-945bc74bf-fr9gb     1/1     Running   0          99s
</span></span><span class=line><span class=cl>api-gateway-84f86f677-msfhg          1/1     Running   0          99s
</span></span><span class=line><span class=cl>config-server-6878b6fb94-sbdkx       1/1     Running   0          99s
</span></span><span class=line><span class=cl>admin-server-6d4c9fddb-mg628         1/1     Running   0          99s
</span></span><span class=line><span class=cl>vets-service-64c446cc94-hs2c5        1/1     Running   0          99s
</span></span><span class=line><span class=cl>customers-service-54d7cdf699-d7gqv   1/1     Running   0          99s
</span></span><span class=line><span class=cl>visits-service-6f94679459-6s4jt      1/1     Running   0          99s
</span></span><span class=line><span class=cl>mysql-74bb96ddbf-wbrqk               1/1     Running   0          87s</span></span></code></pre></div></div></div></div></div></p><p>Make sure the output of get pods matches the output as shown above &mldr; and that all 8 services are shown as <strong>RUNNING</strong>.</p><p>The application will take a few minutes to start up , create the database and synchronize all the services, so let&rsquo;s get the actual source code for the application downloaded in the mean-time.</p><h2 id=2-downloading-the-spring-microservices-petclinic-application>2. Downloading the Spring Microservices PetClinic Application</h2><p>For this exercise, we will use the Spring microservices PetClinic application. This is a very popular sample Java application built with the Spring framework (Springboot) and we are using a version witch actual microservices.</p><p>First, clone the PetClinic GitHub repository, as we will need this later in the workshop to compile, build, package and containerize the application:</p><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>git clone https://github.com/hagen-p/spring-petclinic-microservices.git</span></span></code></pre></div><p>Change into the <code>spring-petclinic</code> directory:</p><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>cd</span> spring-petclinic-microservices</span></span></code></pre></div><p>Next, run the script that will use the <code>maven</code> command to compile/build/package the PetClinic microservices into local Docker containers:<div class=tab-panel data-tab-group=919c6c677f3e56e8274ce97036df14a3><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=running-maven class="tab-nav-button tab-panel-style cstyle initial active" onclick='switchTab("919c6c677f3e56e8274ce97036df14a3","running-maven")'>
<span class=tab-nav-text>Running maven</span></button>
<button data-tab-item=maven-output class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("919c6c677f3e56e8274ce97036df14a3","maven-output")'>
<span class=tab-nav-text>Maven Output</span></button></div><div class=tab-content-container><div data-tab-item=running-maven class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>./mvnw clean install -DskipTests -P buildDocker</span></span></code></pre></div></div></div><div data-tab-item=maven-output class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Successfully tagged quay.io/phagen/spring-petclinic-api-gateway:latest
</span></span><span class=line><span class=cl>[INFO] Built quay.io/phagen/spring-petclinic-api-gateway
</span></span><span class=line><span class=cl>[INFO] ------------------------------------------------------------------------
</span></span><span class=line><span class=cl>[INFO] Reactor Summary:
</span></span><span class=line><span class=cl>[INFO] 
</span></span><span class=line><span class=cl>[INFO] spring-petclinic-microservices 0.0.1 ............... SUCCESS [  0.770 s]
</span></span><span class=line><span class=cl>[INFO] spring-petclinic-admin-server ...................... SUCCESS [01:03 min]
</span></span><span class=line><span class=cl>[INFO] spring-petclinic-customers-service ................. SUCCESS [ 29.031 s]
</span></span><span class=line><span class=cl>[INFO] spring-petclinic-vets-service ...................... SUCCESS [ 22.145 s]
</span></span><span class=line><span class=cl>[INFO] spring-petclinic-visits-service .................... SUCCESS [ 20.451 s]
</span></span><span class=line><span class=cl>[INFO] spring-petclinic-config-server ..................... SUCCESS [ 12.260 s]
</span></span><span class=line><span class=cl>[INFO] spring-petclinic-discovery-server .................. SUCCESS [ 14.174 s]
</span></span><span class=line><span class=cl>[INFO] spring-petclinic-api-gateway 0.0.1 ................. SUCCESS [ 29.832 s]
</span></span><span class=line><span class=cl>[INFO] ------------------------------------------------------------------------
</span></span><span class=line><span class=cl>[INFO] BUILD SUCCESS
</span></span><span class=line><span class=cl>[INFO] ------------------------------------------------------------------------
</span></span><span class=line><span class=cl>[INFO] Total time: 03:14 min
</span></span><span class=line><span class=cl>[INFO] Finished at: 2024-01-02T12:43:20Z
</span></span><span class=line><span class=cl>[INFO] ------------------------------------------------------------------------</span></span></code></pre></div></div></div></div></div></p><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Info</div><div class=box-content><p>This will take a few minutes the first time you run, <code>maven</code> will download a lot of dependencies before it compiles the application. Future builds will be a lot quicker.</p></div></div><h2 id=3-check-docker-images>3. Check Docker Images</h2><p>Once the build completes, you need to verify if the containers are indeed built:</p><div class=tab-panel data-tab-group=cbe3ed43375ba18fa8c9d796a16871e8><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=check-docker-containers class="tab-nav-button tab-panel-style cstyle initial active" onclick='switchTab("cbe3ed43375ba18fa8c9d796a16871e8","check-docker-containers")'>
<span class=tab-nav-text>Check Docker Containers</span></button>
<button data-tab-item=docker-output class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("cbe3ed43375ba18fa8c9d796a16871e8","docker-output")'>
<span class=tab-nav-text>Docker Output</span></button></div><div class=tab-content-container><div data-tab-item=check-docker-containers class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker images</span></span></code></pre></div></div></div><div data-tab-item=docker-output class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>splunk@show-no-config-i-027057abec7c0c6d3:~/spring-petclinic-microservices$ docker images
</span></span><span class=line><span class=cl>REPOSITORY                                          TAG       IMAGE ID       CREATED              SIZE
</span></span><span class=line><span class=cl>quay.io/phagen/spring-petclinic-api-gateway         latest    f954254824ed   7 seconds ago        510MB
</span></span><span class=line><span class=cl>&lt;none&gt;                                              &lt;none&gt;    5dbbb7d1fbb2   9 seconds ago        563MB
</span></span><span class=line><span class=cl>quay.io/phagen/spring-petclinic-discovery-server    latest    0761e73d679d   26 seconds ago       500MB
</span></span><span class=line><span class=cl>&lt;none&gt;                                              &lt;none&gt;    d71dc0ff96f4   28 seconds ago       544MB
</span></span><span class=line><span class=cl>quay.io/phagen/spring-petclinic-config-server       latest    81a0ab6495c2   39 seconds ago       488MB
</span></span><span class=line><span class=cl>&lt;none&gt;                                              &lt;none&gt;    69d60a035bb9   40 seconds ago       519MB
</span></span><span class=line><span class=cl>quay.io/phagen/spring-petclinic-visits-service      latest    ca306495bf11   50 seconds ago       526MB
</span></span><span class=line><span class=cl>&lt;none&gt;                                              &lt;none&gt;    b60155eb8ab4   52 seconds ago       596MB
</span></span><span class=line><span class=cl>quay.io/phagen/spring-petclinic-vets-service        latest    29f1b1909b8b   About a minute ago   527MB
</span></span><span class=line><span class=cl>&lt;none&gt;                                              &lt;none&gt;    b07e8de54c99   About a minute ago   598MB
</span></span><span class=line><span class=cl>quay.io/phagen/spring-petclinic-customers-service   latest    5b21e448c91e   About a minute ago   526MB
</span></span><span class=line><span class=cl>&lt;none&gt;                                              &lt;none&gt;    722fa001614c   About a minute ago   596MB
</span></span><span class=line><span class=cl>quay.io/phagen/spring-petclinic-admin-server        latest    4a1906a91210   About a minute ago   498MB
</span></span><span class=line><span class=cl>&lt;none&gt;                                              &lt;none&gt;    96f61c7bb66a   About a minute ago   540MB
</span></span><span class=line><span class=cl>eclipse-temurin                                     17        807dd649ff14   13 days ago          407MB</span></span></code></pre></div></div></div></div></div><h2 id=4-set-up-a-local-docker-repository>4. Set up a local Docker Repository</h2><p>As part of this workshop we going to use some of the advanced instrumentation features, and will add some annotations to our code to get even more valuable data from our Java application. Kubernetes need to pull these images from somewhere, so lets setup a local repository, so Kubernetes can pull these local images.</p><div class=tab-panel data-tab-group=84211a0abddae71e10d7c7d32511991f><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=install-docker-repository class="tab-nav-button tab-panel-style cstyle initial active" onclick='switchTab("84211a0abddae71e10d7c7d32511991f","install-docker-repository")'>
<span class=tab-nav-text>Install Docker Repository</span></button>
<button data-tab-item=docker-output class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("84211a0abddae71e10d7c7d32511991f","docker-output")'>
<span class=tab-nav-text>Docker Output</span></button></div><div class=tab-content-container><div data-tab-item=install-docker-repository class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>docker run -d -p 5000:5000 --restart<span class=o>=</span>always --name registry registry:2 </span></span></code></pre></div></div></div><div data-tab-item=docker-output class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Unable to find image &#39;registry:2&#39; locally
</span></span><span class=line><span class=cl>2: Pulling from library/registry
</span></span><span class=line><span class=cl>c926b61bad3b: Pull complete 
</span></span><span class=line><span class=cl>5501dced60f8: Pull complete 
</span></span><span class=line><span class=cl>e875fe5e6b9c: Pull complete 
</span></span><span class=line><span class=cl>21f4bf2f86f9: Pull complete 
</span></span><span class=line><span class=cl>98513cca25bb: Pull complete 
</span></span><span class=line><span class=cl>Digest: sha256:0a182cb82c93939407967d6d71d6caf11dcef0e5689c6afe2d60518e3b34ab86
</span></span><span class=line><span class=cl>Status: Downloaded newer image for registry:2
</span></span><span class=line><span class=cl>a7d52001836504cf1724e9817ad6167a4458a9e73d33a82f11f33681fe2d6c3e</span></span></code></pre></div></div></div></div></div><p>We can see if the repository is up and running by checking the inventory, it should return an empty list</p><div class=tab-panel data-tab-group=bc38049af87ab3e10c1f2f17a479334c><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=install-docker-repository class="tab-nav-button tab-panel-style cstyle initial active" onclick='switchTab("bc38049af87ab3e10c1f2f17a479334c","install-docker-repository")'>
<span class=tab-nav-text>Install Docker Repository</span></button>
<button data-tab-item=curl-output class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("bc38049af87ab3e10c1f2f17a479334c","curl-output")'>
<span class=tab-nav-text>Curl Output</span></button></div><div class=tab-content-container><div data-tab-item=install-docker-repository class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl> curl -X GET http://localhost:5000/v2/_catalog </span></span></code></pre></div></div></div><div data-tab-item=curl-output class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>{&#34;repositories&#34;:[]}</span></span></code></pre></div></div></div></div></div><h2 id=5-check-the-pet-shop-website>5. Check the Pet shop Website</h2><p>To test the application you need to obtain the public IP address of the instance you are running on. You can do this by running the following command:</p><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>curl ifconfig.me</span></span></code></pre></div><p>You will see an IP address returned, make a note of this as we will need it to validate that the application is running.</p><p>We also need to obtain the <code>INSTANCE</code> environment variable value, as this is what is being used as the <code>otel.service.name</code> attribute. You can do this by running the following command:</p><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>echo</span> <span class=nv>$INSTANCE</span></span></span></code></pre></div><p>Also, make a note of this value as we will need it to filter the data in the UI.</p><p>You can validate if the application is running by visiting <code>http://&lt;IP_ADDRESS>:81</code> (replace <code>&lt;IP_ADDRESS></code> with the IP address you obtained earlier). You should see the PetClinic application running.</p><p><a href=#R-image-1a0bf5b57ad969c2e32a4584ddac5fbd class=lightbox-link><img src=../../../../../en/other/3-auto-instrumentation/3-java-microservices-pet-clinic/10-preparation/../images/petclinic.png alt="Pet shop" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-1a0bf5b57ad969c2e32a4584ddac5fbd><img src=../../../../../en/other/3-auto-instrumentation/3-java-microservices-pet-clinic/10-preparation/../images/petclinic.png alt="Pet shop" class="lightbox-image noborder lightbox noshadow" loading=lazy></a><br>Make sure the application is working correctly by visiting the <strong>All Owners</strong> and <strong>Veterinarians</strong> tabs, you should get a list of names in each case.</p><footer class=footline></footer></article></div></main></div><script src=../../../../../js/clipboard.min.js?1704475204 defer></script>
<script src=../../../../../js/perfect-scrollbar.min.js?1704475204 defer></script>
<script src=../../../../../js/theme.js?1704475204 defer></script></body></html>