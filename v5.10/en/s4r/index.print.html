<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta name=viewport content="height=device-height,width=device-width,initial-scale=1,minimum-scale=1"><meta name=generator content="Hugo 0.110.0"><meta name=generator content="Relearn 5.22.1+tip"><meta name=description content="Splunk Observability Workshops"><meta name=twitter:card content="summary"><meta name=twitter:title content="Splunk4Rookies - Observability :: Splunk Observability Cloud Workshops"><meta name=twitter:description content="Splunk Observability Workshops"><meta property="og:title" content="Splunk4Rookies - Observability :: Splunk Observability Cloud Workshops"><meta property="og:description" content="Splunk Observability Workshops"><meta property="og:type" content="website"><meta property="og:url" content="https://splunk.github.io/observability-workshop/v5.10/en/s4r/index.html"><meta property="og:site_name" content="Splunk Observability Cloud Workshops"><title>Splunk4Rookies - Observability :: Splunk Observability Cloud Workshops</title><link href=https://splunk.github.io/observability-workshop/v5.10/en/s4r/index.html rel=canonical type=text/html title="Splunk4Rookies - Observability :: Splunk Observability Cloud Workshops"><link href=../../en/s4r/index.xml rel=alternate type=application/rss+xml title="Splunk4Rookies - Observability :: Splunk Observability Cloud Workshops"><link href=../../images/favicon.ico?1697799416 rel=icon type=image/x-icon sizes=any><link href=../../css/fontawesome-all.min.css?1697799420 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=../../css/fontawesome-all.min.css?1697799420 rel=stylesheet></noscript><link href=../../css/nucleus.css?1697799420 rel=stylesheet><link href=../../css/auto-complete.css?1697799420 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=../../css/auto-complete.css?1697799420 rel=stylesheet></noscript><link href=../../css/perfect-scrollbar.min.css?1697799420 rel=stylesheet><link href=../../css/fonts.css?1697799420 rel=stylesheet media=print onload='this.media="all",this.onload=null'><noscript><link href=../../css/fonts.css?1697799420 rel=stylesheet></noscript><link href=../../css/theme.css?1697799420 rel=stylesheet><link href=../../css/theme-auto.css?1697799420 rel=stylesheet id=R-variant-style><link href=../../css/variant.css?1697799420 rel=stylesheet><link href=../../css/print.css?1697799420 rel=stylesheet media=print><link href=../../css/format-print.css?1697799420 rel=stylesheet><link href=../../css/ie.css?1697799420 rel=stylesheet><script src=../../js/url.js?1697799420></script>
<script src=../../js/variant.js?1697799420></script>
<script>window.index_js_url="../../en/index.search.js";var root_url="../../",baseUriFull,baseUri=root_url.replace(/\/$/,"");window.T_Copy_to_clipboard="Copy to clipboard",window.T_Copied_to_clipboard="Copied to clipboard!",window.T_Copy_link_to_clipboard="Copy link to clipboard",window.T_Link_copied_to_clipboard="Copied link to clipboard!",window.T_Reset_view="Reset view",window.T_View_reset="View reset!",window.T_No_results_found="No results found for \u0022{0}\u0022",window.T_N_results_found="{1} results found for \u0022{0}\u0022",baseUriFull="https://splunk.github.io/observability-workshop/v5.10/",window.variants&&variants.init(["auto","splunk-light","splunk-dark"])</script><script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web.js crossorigin=anonymous></script>
<script src=https://cdn.signalfx.com/o11y-gdi-rum/latest/splunk-otel-web-session-recorder.js crossorigin=anonymous></script>
<script>SplunkRum.init({beaconUrl:"https://rum-ingest.eu0.signalfx.com/v1/rum",rumAuth:"EDIbCJR4LlxWdXMLjkYX1g",app:"observability-workshop",version:"1",environment:"observability-workshop-env"}),SplunkSessionRecorder.init({beaconUrl:"https://rum-ingest.eu0.signalfx.com/v1/rumreplay",rumAuth:"EDIbCJR4LlxWdXMLjkYX1g"})</script><style>@media screen and (min-width:1500px){#R-body .flex-block-wrapper{margin-left:auto;margin-right:auto;max-width:1500px;width:100%}}</style></head><body class="mobile-support print disableInlineCopyToClipboard" data-url=../../en/s4r/index.html><div id=R-body class=default-animation><div id=R-body-overlay></div><nav id=R-topbar><div class=topbar-wrapper><div class=topbar-sidebar-divider></div><div class="topbar-area topbar-area-start" data-area=start><div class="topbar-button topbar-button-sidebar" data-content-empty=disable data-width-s=show data-width-m=hide data-width-l=hide><button class=topbar-control onclick=toggleNav() type=button title="Menu (CTRL+ALT+n)">
<i class="fa-fw fas fa-bars"></i></button></div></div><ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype=http://schema.org/BreadcrumbList><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><a itemprop=item href=../../en/index.html><span itemprop=name>Splunk Observability Workshops</span></a><meta itemprop=position content="1">&nbsp;>&nbsp;</li><li itemscope itemtype=https://schema.org/ListItem itemprop=itemListElement><span itemprop=name>Splunk4Rookies - Observability</span><meta itemprop=position content="2"></li></ol><div class="topbar-area topbar-area-end" data-area=end></div></div></nav><div id=R-main-overlay></div><main id=R-body-inner class="highlightable default" tabindex=-1><div class=flex-block-wrapper><article class=default><header class=headline><div class="taxonomy-tags term-list cstyle tags" title=Tags style=--VARIABLE-TAGS-BG-color:var(--INTERNAL-TAG-BG-color)><ul><li><a class=term-link href=../../en/tags/apm/index.html>APM</a></li><li><a class=term-link href=../../en/tags/frontend/index.html>frontend</a></li><li><a class=term-link href=../../en/tags/logs/index.html>logs</a></li><li><a class=term-link href=../../en/tags/rum/index.html>RUM</a></li></ul></div></header><h1 id=splunk4rookies---observability>Splunk4Rookies - Observability</h1><p>In this workshop we will be showing how Splunk Observability Cloud provides instant visibility of the user experience – from the perspective of the front end application to its backing services – showing off some of the most compelling product features, and differentiators of the <strong>Splunk Observability Cloud</strong> Suite:</p><ul><li>Complete <strong>end to end</strong> trace visibility with Application Performance Monitoring (APM)</li><li>Real User Monitoring (RUM)</li><li><strong>NoSample™ Full-fidelity</strong> tracing</li><li>Logs and Metrics</li><li>Finding root-cause with tag analytics and error stacks</li><li>Infinite Cardinality</li><li>Related content</li></ul><p>One of the core tenets in building the Splunk Observability Cloud is unifying telemetry data to build a complete picture of a user’s experience and your application stack.</p><p>The workshop uses a microservices based application that is deployed on AWS EC2 instances. The application is a simple e-commerce application that allows users to browse products, add them to a cart, and checkout. The application is instrumented with OpenTelemetry.</p><p>OpenTelemetry is a collection of tools, APIs and software development kits (SDKs). Used to instrument, generate, collect and export telemetry data (metrics, logs and traces) to help you analyze your software’s performance and behavior.</p><p>The OpenTelemetry community is growing. As a joint project between Splunk, Google, Microsoft, Amazon and many other organizations, it currently has the second-largest number of contributors in the Cloud Native Computing Foundation after Kubernetes.</p><p><a href=#R-image-43e0dc112e378408e6a139110cb00454 class=lightbox-link><img src=../../en/s4r/images/arch-overview.png alt="Architecture Overview" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-43e0dc112e378408e6a139110cb00454><img src=../../en/s4r/images/arch-overview.png alt="Architecture Overview" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><footer class=footline></footer></article><section><h1 class=a11y-only>Subsections of Splunk4Rookies - Observability</h1><article class=default><header class=headline></header><h1 id=workshop-agenda>Workshop Agenda</h1><p>The goal of this workshop is to make you famliar with the Splunk Observability Suite and its key features. For this we have provided you with a complete application that includes a Website and a number of back end services that make up the complete application.</p><p>During this workshop you will expierince issues with this application. The goal of this excercise is to use several of the key features from the Splunk observability suite to detect the issue, locate the cause of the issue, allowing your developmemt teams to very quickly resolve the issue.</p><h2 id=1-inital-setup>1. Inital Setup</h2><p>For attendees that are taking the <strong>pre-configured workshop</strong>, the application will already be deployed for you and your instructor will provide with a link to the Online Boutique application.</p><p>For attendees taking the <strong>interactive workshop</strong>, you will need to install OpenTelemetry and deploy the application. Hit the <span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-user-ninja"></i></span><span class=badge-content><strong>Ninja</strong></span></span> button below to expand the instructions.</p><hr><div class=expand><input type=checkbox id=R-expand-70e1489c49e0d4d44a485f8ddd195f36 aria-controls=R-expandcontent-70e1489c49e0d4d44a485f8ddd195f36>
<label class=expand-label for=R-expand-70e1489c49e0d4d44a485f8ddd195f36><i class="fas fa-chevron-down"></i>
<i class="fas fa-chevron-right"></i>
<span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-user-ninja"></i></span><span class=badge-content><strong>Ninja:</strong> Interactive workshop build steps</span></span></label><div id=R-expandcontent-70e1489c49e0d4d44a485f8ddd195f36 class=expand-content><p>Install the OpenTelemetry Collector using the Splunk Helm chart. First, add the Splunk Helm chart repository to Helm and update.</p><div class=tab-panel data-tab-group=35347c870a0f2b9653485cd30203e00d><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=helm-repo-add class="tab-nav-button tab-panel-style cstyle initial active" onclick='switchTab("35347c870a0f2b9653485cd30203e00d","helm-repo-add")'>
<span class=tab-nav-text>Helm Repo Add</span></button>
<button data-tab-item=helm-repo-add-output class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("35347c870a0f2b9653485cd30203e00d","helm-repo-add-output")'>
<span class=tab-nav-text>Helm Repo Add Output</span></button></div><div class=tab-content-container><div data-tab-item=helm-repo-add class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>helm repo add splunk-otel-collector-chart https://signalfx.github.io/splunk-otel-collector-chart <span class=o>&amp;&amp;</span> helm repo update</span></span></code></pre></div></div></div><div data-tab-item=helm-repo-add-output class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><p>Using ACCESS_TOKEN={REDACTED}
Using REALM=eu0
&ldquo;splunk-otel-collector-chart&rdquo; has been added to your repositories
Using ACCESS_TOKEN={REDACTED}
Using REALM=eu0
Hang tight while we grab the latest from your chart repositories&mldr;
&mldr;Successfully got an update from the &ldquo;splunk-otel-collector-chart&rdquo; chart repository
Update Complete. ⎈Happy Helming!⎈</p></div></div></div></div><p>Install the OpenTelemetry Collector Helm chart with the following commands, do <strong>NOT</strong> edit this:</p><div class=tab-panel data-tab-group=723cce43d391bbcabf5af90a957209c1><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=helm-install class="tab-nav-button tab-panel-style cstyle initial active" onclick='switchTab("723cce43d391bbcabf5af90a957209c1","helm-install")'>
<span class=tab-nav-text>Helm Install</span></button>
<button data-tab-item=helm-install-output class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("723cce43d391bbcabf5af90a957209c1","helm-install-output")'>
<span class=tab-nav-text>Helm Install Output</span></button></div><div class=tab-content-container><div data-tab-item=helm-install class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>helm install splunk-otel-collector <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;splunkObservability.realm=</span><span class=nv>$REALM</span><span class=s2>&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;splunkObservability.accessToken=</span><span class=nv>$ACCESS_TOKEN</span><span class=s2>&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;clusterName=</span><span class=k>$(</span>hostname<span class=k>)</span><span class=s2>-k3s-cluster&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;splunkObservability.logsEnabled=true&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;logsEngine=otel&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;splunkObservability.profilingEnabled=true&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;splunkObservability.infrastructureMonitoringEventsEnabled=true&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;environment=</span><span class=k>$(</span>hostname<span class=k>)</span><span class=s2>-workshop&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>splunk-otel-collector-chart/splunk-otel-collector <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>-f ~/workshop/k3s/otel-collector.yaml</span></span></code></pre></div></div></div><div data-tab-item=helm-install-output class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Using ACCESS_TOKEN={REDACTED}
</span></span><span class=line><span class=cl>Using REALM=eu0
</span></span><span class=line><span class=cl>NAME: splunk-otel-collector
</span></span><span class=line><span class=cl>LAST DEPLOYED: Fri May  7 11:19:01 2021
</span></span><span class=line><span class=cl>NAMESPACE: default
</span></span><span class=line><span class=cl>STATUS: deployed
</span></span><span class=line><span class=cl>REVISION: 1
</span></span><span class=line><span class=cl>TEST SUITE: None</span></span></code></pre></div></div></div></div></div><p>You can monitor the progress of the deployment by running <code>kubectl get pods</code> which should typically report a new pod is up and running after about 30 seconds.</p><p>Ensure the status is reported as Running before continuing.</p><div class=tab-panel data-tab-group=8cb0f3f9bf51514977d5475e08983fd8><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=kubectl-get-pods class="tab-nav-button tab-panel-style cstyle initial active" onclick='switchTab("8cb0f3f9bf51514977d5475e08983fd8","kubectl-get-pods")'>
<span class=tab-nav-text>Kubectl Get Pods</span></button>
<button data-tab-item=kubectl-get-pods-output class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("8cb0f3f9bf51514977d5475e08983fd8","kubectl-get-pods-output")'>
<span class=tab-nav-text>Kubectl Get Pods Output</span></button></div><div class=tab-content-container><div data-tab-item=kubectl-get-pods class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl get pods</span></span></code></pre></div></div></div><div data-tab-item=kubectl-get-pods-output class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>NAME                                                          READY   STATUS    RESTARTS   AGE
</span></span><span class=line><span class=cl>splunk-otel-collector-agent-2sk6k                             0/1     Running   0          10s
</span></span><span class=line><span class=cl>splunk-otel-collector-k8s-cluster-receiver-6956d4446f-gwnd7   0/1     Running   0          10s</span></span></code></pre></div></div></div></div></div><p>To deploy the Online Boutique application into K3s apply the deployment:</p><div class=tab-panel data-tab-group=ab0ee2b5268625793ddb1dd71096073c><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=deploy-online-boutique class="tab-nav-button tab-panel-style cstyle initial active" onclick='switchTab("ab0ee2b5268625793ddb1dd71096073c","deploy-online-boutique")'>
<span class=tab-nav-text>Deploy Online Boutique</span></button>
<button data-tab-item=deployment-output class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("ab0ee2b5268625793ddb1dd71096073c","deployment-output")'>
<span class=tab-nav-text>Deployment Output</span></button></div><div class=tab-content-container><div data-tab-item=deploy-online-boutique class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>cd</span> ~/workshop/apm
</span></span><span class=line><span class=cl>kubectl apply -f deployment.yaml</span></span></code></pre></div></div></div><div data-tab-item=deployment-output class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>APM Only Deployment
</span></span><span class=line><span class=cl>deployment.apps/recommendationservice created
</span></span><span class=line><span class=cl>service/recommendationservice created
</span></span><span class=line><span class=cl>deployment.apps/productcatalogservice created
</span></span><span class=line><span class=cl>service/productcatalogservice created
</span></span><span class=line><span class=cl>deployment.apps/cartservice created
</span></span><span class=line><span class=cl>service/cartservice created
</span></span><span class=line><span class=cl>deployment.apps/adservice created
</span></span><span class=line><span class=cl>service/adservice created
</span></span><span class=line><span class=cl>deployment.apps/paymentservice created
</span></span><span class=line><span class=cl>service/paymentservice created
</span></span><span class=line><span class=cl>deployment.apps/loadgenerator created
</span></span><span class=line><span class=cl>service/loadgenerator created
</span></span><span class=line><span class=cl>deployment.apps/shippingservice created
</span></span><span class=line><span class=cl>service/shippingservice created
</span></span><span class=line><span class=cl>deployment.apps/currencyservice created
</span></span><span class=line><span class=cl>service/currencyservice created
</span></span><span class=line><span class=cl>deployment.apps/redis-cart created
</span></span><span class=line><span class=cl>service/redis-cart created
</span></span><span class=line><span class=cl>deployment.apps/checkoutservice created
</span></span><span class=line><span class=cl>service/checkoutservice created
</span></span><span class=line><span class=cl>deployment.apps/frontend created
</span></span><span class=line><span class=cl>service/frontend created
</span></span><span class=line><span class=cl>service/frontend-external created
</span></span><span class=line><span class=cl>deployment.apps/emailservice created
</span></span><span class=line><span class=cl>service/emailservice created
</span></span><span class=line><span class=cl>deployment.apps/rum-loadgen-deployment created</span></span></code></pre></div></div></div></div></div><p>To ensure the Online Boutique application is running:</p><div class=tab-panel data-tab-group=94c04777590443fedb916d80010aafb6><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=get-pods class="tab-nav-button tab-panel-style cstyle initial active" onclick='switchTab("94c04777590443fedb916d80010aafb6","get-pods")'>
<span class=tab-nav-text>Get Pods</span></button>
<button data-tab-item=get-pods-output class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("94c04777590443fedb916d80010aafb6","get-pods-output")'>
<span class=tab-nav-text>Get Pods Output</span></button></div><div class=tab-content-container><div data-tab-item=get-pods class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl get pods</span></span></code></pre></div></div></div><div data-tab-item=get-pods-output class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>NAME                                                       READY  STATUS  RESTARTS      AGE
</span></span><span class=line><span class=cl>splunk-otel-collector-k8s-cluster-receiver-849cf595bf-l7mnq 1/1   Running   0           31m
</span></span><span class=line><span class=cl>splunk-otel-collector-agent-pxrgp                           2/2   Running   0           31m
</span></span><span class=line><span class=cl>productcatalogservice-8464cd56d-n8f89                       1/1   Running   0            1m
</span></span><span class=line><span class=cl>redis-cart-bcf44df97-djv6z                                  1/1   Running   0            1m
</span></span><span class=line><span class=cl>checkoutservice-8558fd7b95-b9pn8                            1/1   Running   0            1m
</span></span><span class=line><span class=cl>shippingservice-7cc4bdd6f4-xsvnx                            1/1   Running   0            1m
</span></span><span class=line><span class=cl>recommendationservice-647d57fd44-l7tkq                      1/1   Running   0            1m
</span></span><span class=line><span class=cl>frontend-66c5d589d-55vzb                                    1/1   Running   0            1m
</span></span><span class=line><span class=cl>emailservice-6ff5bbd67d-pdcm2                               1/1   Running   0            1m
</span></span><span class=line><span class=cl>paymentservice-6866558995-8xmf2                             1/1   Running   0            1m
</span></span><span class=line><span class=cl>currencyservice-8668d75d6f-mr68h                            1/1   Running   0            1m
</span></span><span class=line><span class=cl>rum-loadgen-deployment-58ccf7bd8f-cr4pr                     1/1   Running   0            1m
</span></span><span class=line><span class=cl>rum-loadgen-deployment-58ccf7bd8f-qjr4b                     1/1   Running   0            1m
</span></span><span class=line><span class=cl>rum-loadgen-deployment-58ccf7bd8f-fvb4x                     1/1   Running   0            1m
</span></span><span class=line><span class=cl>cartservice-7b58c88c45-xvxhq                                1/1   Running   0            1m
</span></span><span class=line><span class=cl>loadgenerator-6bdc7b4857-9kxjd                              1/1   Running   2 (49s ago)  1m
</span></span><span class=line><span class=cl>adservice-7b68d5b969-89ft2                                  1/1   Running   0            1m</span></span></code></pre></div></div></div></div></div><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Info</div><div class=box-content><p>Usually it should only take around 1min 30secs for the pods to transition into a Running state.</p></div></div></div></div><hr><h2 id=2-a-quick-tour-of-the-splunk-observability-user-interface>2. A quick tour of the Splunk Observability User Interface</h2><p>To make finding your way in the Splunk Observability suite User interface, We will take you on a quick tour that will give you the highlights and is designed to make the rest of the workhop simpler as you are already familiar with the locations of various components.</p><hr><h2 id=3-using-the-online-boutique-webshop-to-create-traffic>3. Using the Online Boutique Webshop to create traffic</h2><p>The next step in the workshop is to use the Web ui of the application we provided, We wil assk you to run several scenario&rsquo;s, and if possible repeat some of the actions on an other device, something like a mobile phone for example.</p><p>This will generate traffic acorr our appliction and with that traffic comes the Open Telemetry signals, Metrics, Traces and logs, that we can use to find and indentify the cause of the underlying issues.</p><hr><h2 id=4-splunk-real-user-monitoring>4. Splunk Real User Monitoring</h2><p>During this session we will examine the Real User data that has been provided by the telemetry recieved from end user browser sessions. The goal is to find and identify the activity you created with your own browser, and if possible from a different device like a mobile phone. This will show you some of the issues you can detect with Splunk RUM. It will also show you how we can follow interactions from the frontend to the underlying functions in the back end services.</p><hr><h2 id=5-splunk-application-perfomance-monitoring>5. Splunk Application Perfomance Monitoring</h2><p>Following on from finishing the RUM session, we will follow the route the requests have taken through the underlying backend services. For this we will use Application Performance Monitoring or APM, all the services are sending telemetry (traces and spans) that the Splunk observability suite can visualise, analyze and use to detect anomalies and errors.</p><p>In this session we show you several ways to find and detect errors mannually or with the support of our smart Analytics.</p><hr><h2 id=6-using-logs-with-splunk-log-observer>6. Using Logs with Splunk Log Observer</h2><p>Generally, you use metrics and traces to detect and identify an issue, and use logs with a much richer information pool, to indetify the why, or the casue of the issue. Within this section we will examine the functionality of Log observer, our gateway in the logs generated by our apllications.</p><hr><h2 id=7-splunk-synthetics>7. Splunk Synthetics</h2><p>The next step is is to make sure we do not rely on manual testing of our application, and we will look at how you can create tests that can keep track of the performance and behaviour of your application that can run 24/7 from different location.</p><p>We also look into how these test can alert you when ther is a deviation in behaviour of your site.</p><hr><h2 id=8-wrapping-upp>8. Wrapping upp</h2><p>Last but not least we will show some of the other features that are helpful in finding problems before closing the session.</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=quick-guide-to-the-splunk-observability-suite-ui>Quick guide to the Splunk Observability Suite UI</h1><h2 id=a-quick-tour-of-the-ui>A quick tour of the ui</h2><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=shopping-at-the-online-boutique>Shopping at the Online Boutique</h1><p>For attendees that are taking the <strong>pre-configured workshop</strong>, the application will already be deployed for you and your instructor will provide with a link to the Online Boutique application.</p><p>For attendees taking the <strong>interactive workshop</strong>, you will need to install OpenTelemetry and deploy the application. Hit the <span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-user-ninja"></i></span><span class=badge-content>**Ninja</span></span> button below to expand the instructions.</p><hr><div class=expand><input type=checkbox id=R-expand-e789a03e9497b8aa28a0c3333d82ba28 aria-controls=R-expandcontent-e789a03e9497b8aa28a0c3333d82ba28>
<label class=expand-label for=R-expand-e789a03e9497b8aa28a0c3333d82ba28><i class="fas fa-chevron-down"></i>
<i class="fas fa-chevron-right"></i>
<span class="badge cstyle primary badge-with-title"><span class=badge-title><i class="fa-fw fas fa-user-ninja"></i></span><span class=badge-content><strong>Ninja:</strong> Interactive workshop build steps</span></span></label><div id=R-expandcontent-e789a03e9497b8aa28a0c3333d82ba28 class=expand-content><p>Install the OpenTelemetry Collector using the Splunk Helm chart. First, add the Splunk Helm chart repository to Helm and update.</p><div class=tab-panel data-tab-group=4f217c6d7683e18639e55114216d515e><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=helm-repo-add class="tab-nav-button tab-panel-style cstyle initial active" onclick='switchTab("4f217c6d7683e18639e55114216d515e","helm-repo-add")'>
<span class=tab-nav-text>Helm Repo Add</span></button>
<button data-tab-item=helm-repo-add-output class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("4f217c6d7683e18639e55114216d515e","helm-repo-add-output")'>
<span class=tab-nav-text>Helm Repo Add Output</span></button></div><div class=tab-content-container><div data-tab-item=helm-repo-add class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>helm repo add splunk-otel-collector-chart https://signalfx.github.io/splunk-otel-collector-chart <span class=o>&amp;&amp;</span> helm repo update</span></span></code></pre></div></div></div><div data-tab-item=helm-repo-add-output class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><p>Using ACCESS_TOKEN={REDACTED}
Using REALM=eu0
&ldquo;splunk-otel-collector-chart&rdquo; has been added to your repositories
Using ACCESS_TOKEN={REDACTED}
Using REALM=eu0
Hang tight while we grab the latest from your chart repositories&mldr;
&mldr;Successfully got an update from the &ldquo;splunk-otel-collector-chart&rdquo; chart repository
Update Complete. ⎈Happy Helming!⎈</p></div></div></div></div><p>Install the OpenTelemetry Collector Helm chart with the following commands, do <strong>NOT</strong> edit this:</p><div class=tab-panel data-tab-group=23fa002a376349516ad4d8dc374d31ec><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=helm-install class="tab-nav-button tab-panel-style cstyle initial active" onclick='switchTab("23fa002a376349516ad4d8dc374d31ec","helm-install")'>
<span class=tab-nav-text>Helm Install</span></button>
<button data-tab-item=helm-install-output class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("23fa002a376349516ad4d8dc374d31ec","helm-install-output")'>
<span class=tab-nav-text>Helm Install Output</span></button></div><div class=tab-content-container><div data-tab-item=helm-install class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>helm install splunk-otel-collector <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;splunkObservability.realm=</span><span class=nv>$REALM</span><span class=s2>&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;splunkObservability.accessToken=</span><span class=nv>$ACCESS_TOKEN</span><span class=s2>&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;clusterName=</span><span class=k>$(</span>hostname<span class=k>)</span><span class=s2>-k3s-cluster&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;splunkObservability.logsEnabled=true&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;logsEngine=otel&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;splunkObservability.profilingEnabled=true&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;splunkObservability.infrastructureMonitoringEventsEnabled=true&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--set<span class=o>=</span><span class=s2>&#34;environment=</span><span class=k>$(</span>hostname<span class=k>)</span><span class=s2>-workshop&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>splunk-otel-collector-chart/splunk-otel-collector <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>-f ~/workshop/k3s/otel-collector.yaml</span></span></code></pre></div></div></div><div data-tab-item=helm-install-output class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>Using ACCESS_TOKEN={REDACTED}
</span></span><span class=line><span class=cl>Using REALM=eu0
</span></span><span class=line><span class=cl>NAME: splunk-otel-collector
</span></span><span class=line><span class=cl>LAST DEPLOYED: Fri May  7 11:19:01 2021
</span></span><span class=line><span class=cl>NAMESPACE: default
</span></span><span class=line><span class=cl>STATUS: deployed
</span></span><span class=line><span class=cl>REVISION: 1
</span></span><span class=line><span class=cl>TEST SUITE: None</span></span></code></pre></div></div></div></div></div><p>You can monitor the progress of the deployment by running <code>kubectl get pods</code> which should typically report a new pod is up and running after about 30 seconds.</p><p>Ensure the status is reported as Running before continuing.</p><div class=tab-panel data-tab-group=db6ae9e00fc6e46be680cdcb5b66b774><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=kubectl-get-pods class="tab-nav-button tab-panel-style cstyle initial active" onclick='switchTab("db6ae9e00fc6e46be680cdcb5b66b774","kubectl-get-pods")'>
<span class=tab-nav-text>Kubectl Get Pods</span></button>
<button data-tab-item=kubectl-get-pods-output class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("db6ae9e00fc6e46be680cdcb5b66b774","kubectl-get-pods-output")'>
<span class=tab-nav-text>Kubectl Get Pods Output</span></button></div><div class=tab-content-container><div data-tab-item=kubectl-get-pods class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl get pods</span></span></code></pre></div></div></div><div data-tab-item=kubectl-get-pods-output class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>NAME                                                          READY   STATUS    RESTARTS   AGE
</span></span><span class=line><span class=cl>splunk-otel-collector-agent-2sk6k                             0/1     Running   0          10s
</span></span><span class=line><span class=cl>splunk-otel-collector-k8s-cluster-receiver-6956d4446f-gwnd7   0/1     Running   0          10s</span></span></code></pre></div></div></div></div></div><p>To deploy the Online Boutique application into K3s apply the deployment:</p><div class=tab-panel data-tab-group=ff356958a8a6d233c46d94b13456a9ac><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=deploy-online-boutique class="tab-nav-button tab-panel-style cstyle initial active" onclick='switchTab("ff356958a8a6d233c46d94b13456a9ac","deploy-online-boutique")'>
<span class=tab-nav-text>Deploy Online Boutique</span></button>
<button data-tab-item=deployment-output class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("ff356958a8a6d233c46d94b13456a9ac","deployment-output")'>
<span class=tab-nav-text>Deployment Output</span></button></div><div class=tab-content-container><div data-tab-item=deploy-online-boutique class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=nb>cd</span> ~/workshop/apm
</span></span><span class=line><span class=cl>kubectl apply -f deployment.yaml</span></span></code></pre></div></div></div><div data-tab-item=deployment-output class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>APM Only Deployment
</span></span><span class=line><span class=cl>deployment.apps/recommendationservice created
</span></span><span class=line><span class=cl>service/recommendationservice created
</span></span><span class=line><span class=cl>deployment.apps/productcatalogservice created
</span></span><span class=line><span class=cl>service/productcatalogservice created
</span></span><span class=line><span class=cl>deployment.apps/cartservice created
</span></span><span class=line><span class=cl>service/cartservice created
</span></span><span class=line><span class=cl>deployment.apps/adservice created
</span></span><span class=line><span class=cl>service/adservice created
</span></span><span class=line><span class=cl>deployment.apps/paymentservice created
</span></span><span class=line><span class=cl>service/paymentservice created
</span></span><span class=line><span class=cl>deployment.apps/loadgenerator created
</span></span><span class=line><span class=cl>service/loadgenerator created
</span></span><span class=line><span class=cl>deployment.apps/shippingservice created
</span></span><span class=line><span class=cl>service/shippingservice created
</span></span><span class=line><span class=cl>deployment.apps/currencyservice created
</span></span><span class=line><span class=cl>service/currencyservice created
</span></span><span class=line><span class=cl>deployment.apps/redis-cart created
</span></span><span class=line><span class=cl>service/redis-cart created
</span></span><span class=line><span class=cl>deployment.apps/checkoutservice created
</span></span><span class=line><span class=cl>service/checkoutservice created
</span></span><span class=line><span class=cl>deployment.apps/frontend created
</span></span><span class=line><span class=cl>service/frontend created
</span></span><span class=line><span class=cl>service/frontend-external created
</span></span><span class=line><span class=cl>deployment.apps/emailservice created
</span></span><span class=line><span class=cl>service/emailservice created
</span></span><span class=line><span class=cl>deployment.apps/rum-loadgen-deployment created</span></span></code></pre></div></div></div></div></div><p>To ensure the Online Boutique application is running:</p><div class=tab-panel data-tab-group=cd8a393ffa0b457a2baa02992a952f40><div class=tab-nav><div class=tab-nav-title>&#8203;</div><button data-tab-item=get-pods class="tab-nav-button tab-panel-style cstyle initial active" onclick='switchTab("cd8a393ffa0b457a2baa02992a952f40","get-pods")'>
<span class=tab-nav-text>Get Pods</span></button>
<button data-tab-item=get-pods-output class="tab-nav-button tab-panel-style cstyle initial" onclick='switchTab("cd8a393ffa0b457a2baa02992a952f40","get-pods-output")'>
<span class=tab-nav-text>Get Pods Output</span></button></div><div class=tab-content-container><div data-tab-item=get-pods class="tab-content tab-panel-style cstyle initial active"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>kubectl get pods</span></span></code></pre></div></div></div><div data-tab-item=get-pods-output class="tab-content tab-panel-style cstyle initial"><div class=tab-content-text><div class="wrap-code highlight"><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>NAME                                                       READY  STATUS  RESTARTS      AGE
</span></span><span class=line><span class=cl>splunk-otel-collector-k8s-cluster-receiver-849cf595bf-l7mnq 1/1   Running   0           31m
</span></span><span class=line><span class=cl>splunk-otel-collector-agent-pxrgp                           2/2   Running   0           31m
</span></span><span class=line><span class=cl>productcatalogservice-8464cd56d-n8f89                       1/1   Running   0            1m
</span></span><span class=line><span class=cl>redis-cart-bcf44df97-djv6z                                  1/1   Running   0            1m
</span></span><span class=line><span class=cl>checkoutservice-8558fd7b95-b9pn8                            1/1   Running   0            1m
</span></span><span class=line><span class=cl>shippingservice-7cc4bdd6f4-xsvnx                            1/1   Running   0            1m
</span></span><span class=line><span class=cl>recommendationservice-647d57fd44-l7tkq                      1/1   Running   0            1m
</span></span><span class=line><span class=cl>frontend-66c5d589d-55vzb                                    1/1   Running   0            1m
</span></span><span class=line><span class=cl>emailservice-6ff5bbd67d-pdcm2                               1/1   Running   0            1m
</span></span><span class=line><span class=cl>paymentservice-6866558995-8xmf2                             1/1   Running   0            1m
</span></span><span class=line><span class=cl>currencyservice-8668d75d6f-mr68h                            1/1   Running   0            1m
</span></span><span class=line><span class=cl>rum-loadgen-deployment-58ccf7bd8f-cr4pr                     1/1   Running   0            1m
</span></span><span class=line><span class=cl>rum-loadgen-deployment-58ccf7bd8f-qjr4b                     1/1   Running   0            1m
</span></span><span class=line><span class=cl>rum-loadgen-deployment-58ccf7bd8f-fvb4x                     1/1   Running   0            1m
</span></span><span class=line><span class=cl>cartservice-7b58c88c45-xvxhq                                1/1   Running   0            1m
</span></span><span class=line><span class=cl>loadgenerator-6bdc7b4857-9kxjd                              1/1   Running   2 (49s ago)  1m
</span></span><span class=line><span class=cl>adservice-7b68d5b969-89ft2                                  1/1   Running   0            1m</span></span></code></pre></div></div></div></div></div><div class="box notices cstyle info"><div class=box-label><i class="fa-fw fas fa-info-circle"></i> Info</div><div class=box-content><p>Usually it should only take around 1min 30secs for the pods to transition into a Running state.</p></div></div></div></div><hr><h2 id=lets-go-shopping>Let&rsquo;s go shopping</h2><p>Once you have a link to the Online Boutique have a browse through a few items, add them to your cart, and then checkout.</p><div class="box notices cstyle green"><div class=box-label><i class="fa-fw fas fa-question-circle"></i></div><div class=box-content><p>Did you notice anything about the checkout process? Did it seem to take a while to complete, but it did ultimately complete? Or did you give up?</p></div></div><p>This is what a poor user experience feels like and since this is a potential customer satisfaction issue we had better jump on this and troubleshoot.</p><p>Let’s go take a look at what this looks like in <strong>Splunk RUM</strong>.</p><p><a href=#R-image-ed9c1c523a700fac0a47d879711074b1 class=lightbox-link><img src=../../en/s4r/03-online-boutique/../images/shop.jpg alt="Online retail site with large hero image" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-ed9c1c523a700fac0a47d879711074b1><img src=../../en/s4r/03-online-boutique/../images/shop.jpg alt="Online retail site with large hero image" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=splunk-rum>Splunk RUM</h1><p>Splunk Real User Monitoring (RUM) allows your teams to quickly identify and eliminate customer-facing issues across your entire architecture.</p><p>Splunk RUM collects performance metrics, web vitals, errors, and other forms of data for every user session to enable you to detect and troubleshoot problems in your application.</p><p>In Splunk Observability Cloud click on the <strong>RUM</strong> tab in the left navigation bar.</p><p><a href=#R-image-b788af7f244ab24d65a5b48eeab59f9b class=lightbox-link><img src=../../en/s4r/04-rum/../images/rum_dashboard.png alt="RUM App dashboard" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-b788af7f244ab24d65a5b48eeab59f9b><img src=../../en/s4r/04-rum/../images/rum_dashboard.png alt="RUM App dashboard" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>As we know, modern web experiences can appear simple, but are complex, asynchronous systems. Single page applications must accommodate myriad browser and machine types, and apps must interact with many backend services. Only Splunk RUM captures, in full-fidelity, all of the data generated in every user session and presents it to you in a rich and actionable way.</p><p>From this page we can see a variety of metrics, such as: highest page load times, number of frontend and backend errors, top pages by views, top endpoints, and Google’s web vitals metrics. We also get out of the box views for front end health, back end health, and custom events so it&rsquo;s quick to see trends, anomalies, and even create detectors from these views.</p><div class="box notices cstyle note"><div class=box-label><i class="fa-fw fas fa-exclamation-circle"></i> Note</div><div class=box-content><p>You can learn more about Web Vitals metrics here: <a href=https://web.dev/vitals target=_blank>https://web.dev/vitals</a></p></div></div><p>Click the filter bar across the top, show different filtering options
<a href=#R-image-70900410df96fe2a00e126e2c681614f class=lightbox-link><img src=../../en/s4r/04-rum/../images/filters.png alt="Filter options for the dashboard" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-70900410df96fe2a00e126e2c681614f><img src=../../en/s4r/04-rum/../images/filters.png alt="Filter options for the dashboard" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>I can also filter down my RUM view to isolate issues for specific operations, browser types, browser versions, or users from specific geographic regions, among others.</p><p>In the top-left corner I can see that my highest page load times are higher than they have been in the previous hour, and way too too high if I want to keep happy customers. Let’s dig into this a little more to see what’s happening here.</p><p><a href=#R-image-acc8051bcdf4ff3907f5e49dc54068a2 class=lightbox-link><img src=../../en/s4r/04-rum/../images/load.png alt="Page load preview with URLs and load times" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-acc8051bcdf4ff3907f5e49dc54068a2><img src=../../en/s4r/04-rum/../images/load.png alt="Page load preview with URLs and load times" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Show and hide filters as you mention them</p><p><a href=#R-image-ac94076ea91c9ff88738b876632a1a08 class=lightbox-link><img src=../../en/s4r/04-rum/../images/spotlight.png alt="Tag Spotlight filters" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-ac94076ea91c9ff88738b876632a1a08><img src=../../en/s4r/04-rum/../images/spotlight.png alt="Tag Spotlight filters" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>By clicking into the checkout process in the Highest P75 Page Load times you can see I am taken to the tag spotlight view, filtered down to the /cart/checkout process showing me all the tags associated with every user session such as browser, version, city, state and much more. I can also change this tag spotlight view to break this data down by any of the metrics available.</p><p>In this graph at the top of the page I can see that there are some alarming page load times.</p><p>Click and drag to filter the view down to one of the spikes on the graph, then click the sessions tab</p><p><a href=#R-image-bddea2be8fe7a65cb5b2a9116e7b3a5a class=lightbox-link><img src=../../en/s4r/04-rum/../images/spike.jpg alt="Highlighting a spike on the line graph" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-bddea2be8fe7a65cb5b2a9116e7b3a5a><img src=../../en/s4r/04-rum/../images/spike.jpg alt="Highlighting a spike on the line graph" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Now, if I look at these spikes I can see the P99 is even more alarming, so let’s filter this down and dig into the actual user session that took this alarming amount of time.</p><p>Click on the session that appears after filtering with the long duration, if more than one click the one with the highest duration. Click on the /cart/checkout process in the waterfall view to collapse the expanded view so you no longer see the tags."</p><p><a href=#R-image-12d7b3a031c05e2c8686d0792b0c41bd class=lightbox-link><img src=../../en/s4r/04-rum/../images/sessions.png alt="List of user sessions associated with this app and time period" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-12d7b3a031c05e2c8686d0792b0c41bd><img src=../../en/s4r/04-rum/../images/sessions.png alt="List of user sessions associated with this app and time period" class="lightbox-image noborder lightbox noshadow" loading=lazy></a>
<a href=#R-image-1c87124ce48860696807034355091bfa class=lightbox-link><img src=../../en/s4r/04-rum/../images/waterfall.png alt="Waterfall of requests for a specific user session" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-1c87124ce48860696807034355091bfa><img src=../../en/s4r/04-rum/../images/waterfall.png alt="Waterfall of requests for a specific user session" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Here I can see one of the clicks this user made during this session. And I can see that there is 1 process that is taking up almost 99% of the duration of the whole transaction.</p><p>Click on the long green checkout span that has a blue APM link</p><p><a href=#R-image-167b954e573d116b7f99da3d1ca45df7 class=lightbox-link><img src=../../en/s4r/04-rum/../images/span.png alt="Long checkout span includes link to APM" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-167b954e573d116b7f99da3d1ca45df7><img src=../../en/s4r/04-rum/../images/span.png alt="Long checkout span includes link to APM" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>By expanding this I can see all the metadata associated with this span and all of the tags associated with it.</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=splunk-apm>Splunk APM</h1><p>Hover over the APM link</p><p><a href=#R-image-7c912f6c024d913889220d3041516cc2 class=lightbox-link><img src=../../en/s4r/05-apm/../images/trace-preview.png alt="APM link preview" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-7c912f6c024d913889220d3041516cc2><img src=../../en/s4r/05-apm/../images/trace-preview.png alt="APM link preview" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>This is where the end to end value of the Splunk Observability Cloud starts to show. We can hover over this APM link to reveal some quick, at a glance, info about what’s happening on the backend.</p><p>This performance summary is clearly showing two actionable things:</p><ol><li>Time is being spent in the app (not db, network, or external); and</li><li>There are errors occurring in these back-end services, and I can see precisely which service is producing the “root cause” for this particular trace (in this case the payment service in dark red).</li></ol><p>To dig further, I can explore two different paths, depending on the questions I want to ask.</p><p>Let’s explore both to understand why I might want to do one or the other.</p><p>Click on the Workflow Name “frontend:/cart/checkout” or open both links in new tabs</p><p><a href=#R-image-772e2925791e0b7aa29c95d1f1e19932 class=lightbox-link><img src=../../en/s4r/05-apm/../images/preview-workflow.png alt="Workflow link to APM" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-772e2925791e0b7aa29c95d1f1e19932><img src=../../en/s4r/05-apm/../images/preview-workflow.png alt="Workflow link to APM" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Viewing the service map</p><p><a href=#R-image-be2024771d041334cb72cee3556f4176 class=lightbox-link><img src=../../en/s4r/05-apm/../images/map.png alt="APM service map with largest errors shown on paymentservice bubble" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-be2024771d041334cb72cee3556f4176><img src=../../en/s4r/05-apm/../images/map.png alt="APM service map with largest errors shown on paymentservice bubble" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>The service map confirms what we saw earlier, that the issues at this particular time are coming from the paymentservice. We can also see that it is relying on a external service.</p><p>We can use a capability called “Tag Spotlight” to understand if there is anything notable about these erroneous transactions.</p><p>Click on the paymentservice circle, and then click on “Tag Spotlight” on the right</p><p><a href=#R-image-31946cf2129510c6928dd3c9f707434c class=lightbox-link><img src=../../en/s4r/05-apm/../images/paymentservice.png alt="Service map with paymentservice selected and Tag Spotlight link" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-31946cf2129510c6928dd3c9f707434c><img src=../../en/s4r/05-apm/../images/paymentservice.png alt="Service map with paymentservice selected and Tag Spotlight link" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Tag Spotlight is a powerful capability in Splunk Observability Cloud that helps us make sense of the unique transactions flowing through our application.</p><p>Tags can be indexed, both on the service where they originate, as well as globally (covering the entire transaction), to help developers understand more about a subset of the transactions that are occurring.</p><p>Point out the tenant level and version</p><p><a href=#R-image-109e269e94b39e2dbbdbd3775d590374 class=lightbox-link><img src=../../en/s4r/05-apm/../images/tags.png alt="Tenant level and version tags showing relevant requests and errors" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-109e269e94b39e2dbbdbd3775d590374><img src=../../en/s4r/05-apm/../images/tags.png alt="Tenant level and version tags showing relevant requests and errors" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>At a glance we can see that the different kinds of customers (gold, bronze, and silver) are all similarly impacted, but the new version of our code (v350.10) has 100% of the errors.</p><p>In many investigations we might filter on some of these tags to narrow our view, but we have a pretty good picture already of what’s going on.</p><p>Click on one of the higher peaks, on the errors line, to get exemplars with errors</p><p><a href=#R-image-38a3001402b1c7b4dda8031322453eb4 class=lightbox-link><img src=../../en/s4r/05-apm/../images/examples.png alt="Example traces with relevant errors" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-38a3001402b1c7b4dda8031322453eb4><img src=../../en/s4r/05-apm/../images/examples.png alt="Example traces with relevant errors" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Now I can look at some of the specific traces that have errors, to understand precisely what happened.</p><p>Click on a trace that has root (solid red) errors on the paymentservice</p><p><a href=#R-image-c6560ce6c3f69416b729d13b0e01723e class=lightbox-link><img src=../../en/s4r/05-apm/../images/trace.png alt="Trace detail showing multiple paymentservice requests with errors" class="figure-image noborder lightbox noshadow" style=height:auto;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-c6560ce6c3f69416b729d13b0e01723e><img src=../../en/s4r/05-apm/../images/trace.png alt="Trace detail showing multiple paymentservice requests with errors" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Now I’m starting to get a good picture of what’s going on. This checkout process is making an API call to an external service over and over again and failing.</p><p>I’d like to look at the logs to see precisely what the error is.</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=splunk-log-observer>Splunk Log Observer</h1><p>Hover over the boxes at the bottom of the trace</p><p><a href=#R-image-e1b6d1c2b97cf15aeaf2a7d83c0e4af6 class=lightbox-link><img src="../../en/s4r/06-log-observer/../images/rel-logs.png?width=50vw" alt="Related content to the trace incldues Logs" class="figure-image noborder lightbox noshadow" style=height:auto;width:50vw loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-e1b6d1c2b97cf15aeaf2a7d83c0e4af6><img src="../../en/s4r/06-log-observer/../images/rel-logs.png?width=50vw" alt="Related content to the trace incldues Logs" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>We are federating logs across multiple Splunk instances and indexes, which can be extremely useful when I have logs in multiple places – on-prem or in the cloud.</p><p>Let’s navigate to the linked logs.</p><p>Click on the logs that are in Splunk Cloud integration</p><p><a href=#R-image-860b73b0f5c66516ec0f8b8ca41a539d class=lightbox-link><img src="../../en/s4r/06-log-observer/../images/logo.png?width=50vw" alt="Link to Logs for this trace" class="figure-image noborder lightbox noshadow" style=height:auto;width:50vw loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-860b73b0f5c66516ec0f8b8ca41a539d><img src="../../en/s4r/06-log-observer/../images/logo.png?width=50vw" alt="Link to Logs for this trace" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>I can now see the log entries coming from this specific trace.</p><p>Search for “severity” on the right under the “Fields” section, hover over “error”, and click the = next to “error”</p><p><a href=#R-image-fd5cd3dbfeacc84301029584a88f99bd class=lightbox-link><img src="../../en/s4r/06-log-observer/../images/log-errors.png?width=50vw" alt="Logs narrowed down by severity" class="figure-image noborder lightbox noshadow" style=height:auto;width:50vw loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-fd5cd3dbfeacc84301029584a88f99bd><img src="../../en/s4r/06-log-observer/../images/log-errors.png?width=50vw" alt="Logs narrowed down by severity" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Log Observer gives me an easy way to aggregate and filter on the logs I need to. Here we are just filtering on the log entries that are errors.</p><p>Click on one of the errors"</p><p><a href=#R-image-20be46d9dfc11aab04c86f214683b7fd class=lightbox-link><img src="../../en/s4r/06-log-observer/../images/error-detail.png?width=50vw" alt="Error detail" class="figure-image noborder lightbox noshadow" style=height:auto;width:50vw loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-20be46d9dfc11aab04c86f214683b7fd><img src="../../en/s4r/06-log-observer/../images/error-detail.png?width=50vw" alt="Error detail" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>I can see there is a bad token in the deployment of the new version. If we filter by this error message, we see the same issue is causing all of the errors.</p><p>We’ve now been successful in narrowing down the offending service, version of code, and specific errors that were causing the problem.</p><p>If I were still in the middle of my investigation I can see some additional content that can take me back to the map or trace or into the infrastructure where these errors are found. Splunk Observability helps to direct me to the right places to find context.</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=splunk-synthetics>Splunk Synthetics</h1><h2 id=use-the-splunk-observability-suite-to-check-the-perfomance-of-your-websiteapi-endpoint>Use the Splunk Observability Suite to check the perfomance of your Website/API Endpoint</h2><p>So far we have have tested the perfomance of our Website by visting and running manual testscenario&rsquo;s to see how our web site perfomed.
however this is not something you can 24 hours a day & 7 days a week.</p><p>if you would be testing your website perfomance and behaviourmanually in production the likely source</br>telling you that your site is slow or not performant is Social Media or Down Detector web sites these days.</p><p><a href=#R-image-037cf37024cf4f967366bb394a953cbb class=lightbox-link><img src="../../en/s4r/07-synthetics/../images/social-media-post.png?width=50vw" alt=socialmedia class="figure-image noborder lightbox noshadow" style=height:auto;width:50vw loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-037cf37024cf4f967366bb394a953cbb><img src="../../en/s4r/07-synthetics/../images/social-media-post.png?width=50vw" alt=socialmedia class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>But what if we didn&rsquo;t have to do it manually, and ould avoid wating on your users to let you know the behaviour,</br>and could instead test the frontend whenever we want, in both production and pre-production?</p><p>This is where Splunk Synthetics comes in.</p><p><a href=#R-image-a7b2bf510b2bb295ccb716bc85d3e0ca class=lightbox-link><img src="../../en/s4r/07-synthetics/../images/SyntheticTests.png?width=40vw" alt="Synthetics overview" class="figure-image noborder lightbox noshadow" style=height:auto;width:40vw loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-a7b2bf510b2bb295ccb716bc85d3e0ca><img src="../../en/s4r/07-synthetics/../images/SyntheticTests.png?width=40vw" alt="Synthetics overview" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>As the image above tries to shows, Synthetics (a part of the Splunks Observability Suite offering) acts like a set of &ldquo;Robot&rdquo; users to run different test against your sites, from various locations and allows you to set up Detectors that warn you if the behaviour of your site(s) changes.</p><p>before we are going to setup our own Test lets take a quick tour of the Synthetic ui.</br>Select Synthetic from the menu bar on the right (the robot icon) <a href=#R-image-668a5b16a4e1f1b2f75562e2d24da317 class=lightbox-link><img src="../../en/s4r/07-synthetics/../images/syntheticsIcon.png?classes=inline&height=25px" alt="synthetics Menu" class="figure-image noborder inline lightbox noshadow" style=height:25px;width:auto loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-668a5b16a4e1f1b2f75562e2d24da317><img src="../../en/s4r/07-synthetics/../images/syntheticsIcon.png?classes=inline&height=25px" alt="synthetics Menu" class="lightbox-image noborder inline lightbox noshadow" loading=lazy></a></p><p>We are now going to setup a browser test that will provide you continieus insight in the behaviour of your website.
As part of this excersise we will clone an exsting Synthetic Test and configure it to test against your website, and have it run automaticly.
Lets find the the prproviosned Browser tst in the Synthetics page of
as part of this excercise we will also set up a detector that will will allow you to be automaticly informed/alerted if the perfomance of your webite is suboptimal.</p><p>Change to your browser tab with the recently failed test run containing long POST checkout request</p><p><a href=#R-image-2147b67ca2703c58bea74e50c61a8297 class=lightbox-link><img src="../../en/s4r/07-synthetics/../images/test-run.png?width=50vw" alt="Synthetics test run details" class="figure-image noborder lightbox noshadow" style=height:auto;width:50vw loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-2147b67ca2703c58bea74e50c61a8297><img src="../../en/s4r/07-synthetics/../images/test-run.png?width=50vw" alt="Synthetics test run details" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Synthetics can test uptime and APIs, but in this example let&rsquo;s look at a browser test, where we are emulating real user behavior of shopping and checking out on the desktop site for my retail application.</p><p>We see the details of this test run, what the front end looks like visually, as well as a waterfall of all requests broken down by URL. Because this is a Synthetic test, we can define the test frequency, device type, and locations, as well as the critical user transactions that we want to track.</p><p>Click the last Transaction or Page tab, scroll through the filmstrip to show the images, and scroll down to the long checkout request</p><p><a href=#R-image-ba15c5b48ab66e635eb963139242a4b7 class=lightbox-link><img src="../../en/s4r/07-synthetics/../images/failed-run-example.png?width=50vw" alt="Checkout requests" class="figure-image noborder lightbox noshadow" style=height:auto;width:50vw loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-ba15c5b48ab66e635eb963139242a4b7><img src="../../en/s4r/07-synthetics/../images/failed-run-example.png?width=50vw" alt="Checkout requests" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>We see that this test run failed because it never got to confirm the Order ID. Looking at the requests in the checkout, we see a long POST request to checkout with an APM link. Familiar, right?</p><p>Click the APM link on the long POST checkout request</p><p><a href=#R-image-2f67b80f311956f2590110f4c4a6e012 class=lightbox-link><img src="../../en/s4r/07-synthetics/../images/syn-apm.png?width=50vw" alt="Checkout requests" class="figure-image noborder lightbox noshadow" style=height:auto;width:50vw loading=lazy></a>
<a href=javascript:history.back(); class=lightbox-back id=R-image-2f67b80f311956f2590110f4c4a6e012><img src="../../en/s4r/07-synthetics/../images/syn-apm.png?width=50vw" alt="Checkout requests" class="lightbox-image noborder lightbox noshadow" loading=lazy></a></p><p>Now if we follow the APM link as we did before in RUM, we see the same issue with an error in the payment service requests, and can follow the same workflow to investigate the issue.</p><footer class=footline></footer></article><article class=default><header class=headline></header><h1 id=workshop-wrap-up>Workshop Wrap-up</h1><p>This wraps up the Splunk for Rookies Workshop of the Splunk Observability Cloud. We were able to:</p><ul><li>Understand what real users were experiencing</li><li>Saw how we can detect these issue though Detectors, Dasboardsand Synthetic Tests</li><li>Troubleshoot a particularly long page load, by following it’s trace across the front and back end and right to the log entries</li><li>Use tag spotlight, in both RUM and APM, to understand blast radius and context for our performance issues and errors</li></ul><p>Today we didn’t even talk about the power of the rest of Splunk Observability Cloud, such as:</p><ul><li>Infrastructure monitoring, which shows how our infrastructure is behaving &ndash; hosts, kubernetes, and applications via Dashboards, Navigators and Detectors</li><li>More about Synthetics, which can simulate web and mobile traffic and report on application behavior and potential areas for improvement.</li></ul><footer class=footline></footer></article></section></div></main></div><script src=../../js/clipboard.min.js?1697799421 defer></script>
<script src=../../js/perfect-scrollbar.min.js?1697799421 defer></script>
<script src=../../js/theme.js?1697799421 defer></script></body></html>